(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.vgl-layout{--vgl-placeholder-bg: red;--vgl-placeholder-opacity: 20%;--vgl-placeholder-z-index: 2;--vgl-item-resizing-z-index: 3;--vgl-item-resizing-opacity: 60%;--vgl-item-dragging-z-index: 3;--vgl-item-dragging-opacity: 100%;--vgl-resizer-size: 10px;--vgl-resizer-border-color: #444;--vgl-resizer-border-width: 2px;position:relative;box-sizing:border-box;transition:height .2s ease}.vgl-item{position:absolute;box-sizing:border-box;transition:.2s ease;transition-property:left,top,right}.vgl-item--placeholder{z-index:var(--vgl-placeholder-z-index, 2);-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:var(--vgl-placeholder-bg, red);opacity:var(--vgl-placeholder-opacity, 20%);transition-duration:.1s}.vgl-item--no-touch{touch-action:none}.vgl-item--transform{right:auto;left:0;transition-property:transform}.vgl-item--transform.vgl-item--rtl{right:0;left:auto}.vgl-item--resizing{z-index:var(--vgl-item-resizing-z-index, 3);-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--vgl-item-resizing-opacity, 60%)}.vgl-item--dragging{z-index:var(--vgl-item-dragging-z-index, 3);-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--vgl-item-dragging-opacity, 100%);transition:none}.vgl-item__resizer{position:absolute;right:0;bottom:0;box-sizing:border-box;width:var(--vgl-resizer-size);height:var(--vgl-resizer-size);cursor:se-resize}.vgl-item__resizer:before{position:absolute;inset:0 3px 3px 0;content:"";border:0 solid var(--vgl-resizer-border-color);border-right-width:var(--vgl-resizer-border-width);border-bottom-width:var(--vgl-resizer-border-width)}.vgl-item__resizer--rtl{right:auto;left:0;cursor:sw-resize}.vgl-item__resizer--rtl:before{inset:0 0 3px 3px;border-right-width:0;border-bottom-width:var(--vgl-resizer-border-width);border-left-width:var(--vgl-resizer-border-width)}')),document.head.appendChild(e)}}catch(r){console.error("vite-plugin-css-injected-by-js",r)}})();
var GridLayoutPlus=function(He,H){"use strict";const _p="",Qu=typeof window<"u";var xi;Qu&&((xi=window==null?void 0:window.navigator)!=null&&xi.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function $t(t){return t==null}function Si(){}const tf=Object.freeze({aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"});Object.freeze(new Set(Object.keys(tf)));function rf(){const t=new Map;return{on(r,e){const n=t.get(r);n!=null&&n.add(e)||t.set(r,new Set([e]))},off(r,e){const n=t.get(r);n&&n.delete(e)},clear(r){const e=t.get(r);e&&e.clear()},clearAll(){t.clear()},emit(r,...e){const n=t.get(r);n&&n.forEach(a=>{a(...e)})}}}function Ei(t,r=16){if(typeof t!="function")return Si;const e=(...i)=>{t(...i)};if(r<=0)return wi(e);let n=0,a;return function(...i){const o=Date.now(),s=o-n;clearTimeout(a),s>=r?(n=o,e(...i)):a=setTimeout(()=>{n=Date.now(),e(...i)},Math.max(0,r-s))}}function ef(t,r=100){if(typeof t!="function")return Si;const e=(...a)=>{t(...a)};if(r<=0)return wi(e);let n;return function(...a){clearTimeout(n),n=setTimeout(()=>{e(...a)},r)}}function wi(t){if(typeof t!="function")return t;let r=!1,e,n;return function(...a){return e=a,r||(r=!0,n=Promise.resolve().then(()=>(r=!1,n=void 0,t(...e)))),n}}const le=new Set,_i=new WeakMap;function nf(){le.forEach(t=>{t(..._i.get(t))}),le.clear()}function At(t,...r){if(typeof t!="function")return t;_i.set(t,r),!le.has(t)&&(le.add(t),le.size===1&&Promise.resolve().then(nf))}const Ci=Symbol("LAYOUT_KEY"),Di=Symbol("EMITTER_KEY");function af(t){let r=0,e;for(let n=0,a=t.length;n<a;n++)e=t[n].y+t[n].h,e>r&&(r=e);return r}function Gn(t){const r=Array(t.length);for(let e=0,n=t.length;e<n;e++)r[e]=of(t[e]);return r}function of(t){return{...t}}function Mi(t,r){return!(t===r||t.x+t.w<=r.x||t.x>=r.x+r.w||t.y+t.h<=r.y||t.y>=r.y+r.h)}function Wr(t,r,e){const n=Oi(t),a=Pi(t),i=Array(t.length);for(let o=0,s=a.length;o<s;o++){let u=a[o];u.static||(u=sf(n,u,r,e),n.push(u)),i[t.indexOf(u)]=u,u.moved=!1}return i}function sf(t,r,e,n){if(e)for(;r.y>0&&!ce(t,r);)r.y--;else if(n){const i=n[r.i].y;for(;r.y>i&&!ce(t,r);)r.y--}let a;for(;a=ce(t,r);)r.y=a.y+a.h;return r}function uf(t,r){const e=Oi(t);for(let n=0,a=t.length;n<a;n++){const i=t[n];if(i.x+i.w>r.cols&&(i.x=r.cols-i.w),i.x<0&&(i.x=0,i.w=r.cols),!i.static)e.push(i);else for(;ce(e,i);)i.y++}return t}function Ri(t,r){for(let e=0,n=t.length;e<n;e++)if(t[e].i===r)return t[e]}function ce(t,r){for(let e=0,n=t.length;e<n;e++)if(Mi(t[e],r))return t[e]}function Ti(t,r){return t.filter(e=>Mi(e,r))}function Oi(t){return t.filter(r=>r.static)}function An(t,r,e,n,a=!1,i=!1){if(r.static)return t;const o=r.x,s=r.y,u=n&&r.y>n;typeof e=="number"&&(r.x=e),typeof n=="number"&&(r.y=n),r.moved=!0;let f=Pi(t);u&&(f=f.reverse());const l=Ti(f,r);if(i&&l.length)return r.x=o,r.y=s,r.moved=!1,t;for(let d=0,c=l.length;d<c;d++){const v=l[d];v.moved||r.y>v.y&&r.y-v.y>v.h/4||(v.static?t=zi(t,v,r,a):t=zi(t,r,v,a))}return t}function zi(t,r,e,n){if(n){const i={x:e.x,y:e.y,w:e.w,h:e.h,i:"-1"};if(i.y=Math.max(r.y-e.h,0),!ce(t,i))return An(t,e,void 0,i.y,!1)}return An(t,e,void 0,e.y+1,!1)}function ff(t,r,e,n){const a="translate3d("+r+"px,"+t+"px, 0)";return{transform:a,WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:e+"px",height:n+"px",position:"absolute"}}function lf(t,r,e,n){const a="translate3d("+r*-1+"px,"+t+"px, 0)";return{transform:a,WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:e+"px",height:n+"px",position:"absolute"}}function cf(t,r,e,n){return{top:t+"px",left:r+"px",width:e+"px",height:n+"px",position:"absolute"}}function df(t,r,e,n){return{top:t+"px",right:r+"px",width:e+"px",height:n+"px",position:"absolute"}}function Pi(t){return Array.from(t).sort(function(r,e){return r.y===e.y&&r.x===e.x?0:r.y>e.y||r.y===e.y&&r.x>e.x?1:-1})}function vf(t,r){r=r||"Layout";const e=["x","y","w","h"],n=[];if(!Array.isArray(t))throw new Error(r+" must be an array!");for(let a=0,i=t.length;a<i;a++){const o=t[a];for(let s=0;s<e.length;s++)if(typeof o[e[s]]!="number")throw new Error("VueGridLayout: "+r+"["+a+"]."+e[s]+" must be a number!");if(o.i===void 0||o.i===null)throw new Error("VueGridLayout: "+r+"["+a+"].i cannot be null!");if(typeof o.i!="number"&&typeof o.i!="string")throw new Error("VueGridLayout: "+r+"["+a+"].i must be a string or number!");if(n.indexOf(o.i)>=0)throw new Error("VueGridLayout: "+r+"["+a+"].i must be unique!");if(n.push(o.i),o.static!==void 0&&typeof o.static!="boolean")throw new Error("VueGridLayout: "+r+"["+a+"].static must be a boolean!")}}function pf(t,r="vgl"){const e=()=>`${r}-${t}`;return{b:e,be:o=>`${e()}__${o}`,bm:o=>`${e()}--${o}`,bem:(o,s)=>`${e()}__${o}--${s}`}}function ki(t){return hf(t)}function hf(t){var i;const r=((i=t.target)==null?void 0:i.offsetParent)||document.body,e=t.offsetParent===document.body?{left:0,top:0}:r.getBoundingClientRect(),n=t.clientX+r.scrollLeft-e.left,a=t.clientY+r.scrollTop-e.top;return{x:n,y:a}}function Ii(t,r,e,n){return gf(t)?{deltaX:e-t,deltaY:n-r,lastX:t,lastY:r,x:e,y:n}:{deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}}function gf(t){return typeof t=="number"&&!Number.isNaN(t)}function mf(t,r){const e=Bi(t);let n=e[0];for(let a=1,i=e.length;a<i;a++){const o=e[a];r>t[o]&&(n=o)}return n}function Fn(t,r){if(!r[t])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+t+" is missing!");return r[t]}function bf(t,r,e,n,a,i,o){if(r[n])return Gn(r[n]);let s=t;const u=Bi(e),f=u.slice(u.indexOf(n));for(let l=0,d=f.length;l<d;l++){const c=f[l];if(r[c]){s=r[c];break}}return s=Gn(s||[]),Wr(uf(s,{cols:i}),o)}function Bi(t){return Object.keys(t).sort((e,n)=>t[e]-t[n])}let yf="auto";function xf(){return typeof document<"u"}function Gi(){return xf()?typeof document.dir<"u"?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir"):yf}function Sf(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return r.map(function(n){return n.split(" ").map(function(a){return a?""+t+a:""}).join(" ")}).join(" ")}function Ef(t,r){return r.replace(/([^}{]*){/gm,function(e,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function cr(t,r){return function(e){e&&(t[r]=e)}}function Ai(t,r,e){return function(n){n&&(t[r][e]=n)}}function Fi(t,r){return function(e){var n=e.prototype;t.forEach(function(a){r(n,a)})}}function wf(t,r){return r===void 0&&(r={}),function(e,n){t.forEach(function(a){var i=r[a]||a;i in e||(e[i]=function(){for(var o,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var f=(o=this[n])[a].apply(o,s);return f===this[n]?this:f})})}}var _f="function",Cf="object",Df="string",Mf="number",Nn="undefined",Ni=typeof window!==Nn,Rf=typeof document!==Nn&&document,Tf=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Rt=1e-7,Ye={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,r){return t*r/100},vw:function(t,r){return r===void 0&&(r=window.innerWidth),t/100*r},vh:function(t,r){return r===void 0&&(r=window.innerHeight),t/100*r},vmax:function(t,r){return r===void 0&&(r=Math.max(window.innerWidth,window.innerHeight)),t/100*r},vmin:function(t,r){return r===void 0&&(r=Math.min(window.innerWidth,window.innerHeight)),t/100*r}};/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function Of(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;for(var n=Array(t),a=0,r=0;r<e;r++)for(var i=arguments[r],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function Xe(t,r,e,n){return(t*n+r*e)/(e+n)}function qe(t){return typeof t===Nn}function rr(t){return t&&typeof t===Cf}function Tt(t){return Array.isArray(t)}function Yt(t){return typeof t===Df}function Hr(t){return typeof t===Mf}function Ln(t){return typeof t===_f}function zf(t,r){var e=t===""||t==" ",n=r===""||r==" ";return n&&e||t===r}function Li(t,r,e,n,a){var i=Wn(t,r,e);return i?e:Pf(t,r,e+1,n,a)}function Wn(t,r,e){if(!t.ignore)return null;var n=r.slice(Math.max(e-3,0),e+3).join("");return new RegExp(t.ignore).exec(n)}function Pf(t,r,e,n,a){for(var i=function(f){var l=r[f].trim();if(l===t.close&&!Wn(t,r,f))return{value:f};var d=f,c=Xt(a,function(v){var p=v.open;return p===l});if(c&&(d=Li(c,r,f,n,a)),d===-1)return o=f,"break";f=d,o=f},o,s=e;s<n;++s){var u=i(s);if(s=o,typeof u=="object")return u.value;if(u==="break")break}return-1}function Hn(t,r){var e=Yt(r)?{separator:r}:r,n=e.separator,a=n===void 0?",":n,i=e.isSeparateFirst,o=e.isSeparateOnlyOpenClose,s=e.isSeparateOpenClose,u=s===void 0?o:s,f=e.openCloseCharacters,l=f===void 0?Tf:f,d=l.map(function(C){var w=C.open,D=C.close;return w===D?w:w+"|"+D}).join("|"),c="(\\s*"+a+"\\s*|"+d+"|\\s+)",v=new RegExp(c,"g"),p=t.split(v).filter(function(C){return C&&C!=="undefined"}),h=p.length,g=[],m=[];function b(){return m.length?(g.push(m.join("")),m=[],!0):!1}for(var y=function(C){var w=p[C].trim(),D=C,_=Xt(l,function(R){var P=R.open;return P===w}),z=Xt(l,function(R){var P=R.close;return P===w});if(_){if(D=Li(_,p,C,h,l),D!==-1&&u)return b()&&i||(g.push(p.slice(C,D+1).join("")),C=D,i)?(x=C,"break"):(x=C,"continue")}else if(z&&!Wn(z,p,C)){var O=Of(l);return O.splice(l.indexOf(z),1),{value:Hn(t,{separator:a,isSeparateFirst:i,isSeparateOnlyOpenClose:o,isSeparateOpenClose:u,openCloseCharacters:O})}}else if(zf(w,a)&&!o)return b(),i?(x=C,"break"):(x=C,"continue");D===-1&&(D=h-1),m.push(p.slice(C,D+1).join("")),C=D,x=C},x,E=0;E<h;++E){var S=y(E);if(E=x,typeof S=="object")return S.value;if(S==="break")break}return m.length&&g.push(m.join("")),g}function mr(t){return Hn(t,"")}function Cr(t){return Hn(t,",")}function Wi(t){var r=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!r||r.length<4?{}:{prefix:r[1],value:r[2],suffix:r[3]}}function de(t){var r=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!r)return{prefix:"",unit:"",value:NaN};var e=r[1],n=r[2],a=r[3];return{prefix:e,unit:a,value:parseFloat(n)}}function kf(t){return t.replace(/[\s-_]+([^\s-_])/g,function(r,e){return e.toUpperCase()})}function Ve(t,r){return r===void 0&&(r="-"),t.replace(/([a-z])([A-Z])/g,function(e,n,a){return""+n+r+a.toLowerCase()})}function ve(){return Date.now?Date.now():new Date().getTime()}function dr(t,r,e){e===void 0&&(e=-1);for(var n=t.length,a=0;a<n;++a)if(r(t[a],a,t))return a;return e}function Xt(t,r,e){var n=dr(t,r);return n>-1?t[n]:e}var Hi=function(){var t=ve(),r=Ni&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return r?r.bind(window):function(e){var n=ve(),a=setTimeout(function(){e(n-t)},1e3/60);return a}}(),If=function(){var t=Ni&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(r){clearTimeout(r)}}();function vr(t){return Object.keys(t)}function Bf(t){var r=vr(t);return r.map(function(e){return t[e]})}function xt(t,r){var e=de(t),n=e.value,a=e.unit;if(rr(r)){var i=r[a];if(i){if(Ln(i))return i(n);if(Ye[a])return Ye[a](n,i)}}else if(a==="%")return n*r/100;return Ye[a]?Ye[a](n):n}function Yn(t,r,e){return Math.max(r,Math.min(t,e))}function Yi(t,r,e,n){return n===void 0&&(n=t[0]/t[1]),[[it(r[0],Rt),it(r[0]/n,Rt)],[it(r[1]*n,Rt),it(r[1],Rt)]].filter(function(a){return a.every(function(i,o){var s=r[o],u=it(s,Rt);return e?i<=s||i<=u:i>=s||i>=u})})[0]||t}function Xi(t,r,e,n){if(!n)return t.map(function(v,p){return Yn(v,r[p],e[p])});var a=t[0],i=t[1],o=n===!0?a/i:n,s=Yi(t,r,!1,o),u=s[0],f=s[1],l=Yi(t,e,!0,o),d=l[0],c=l[1];return a<u||i<f?(a=u,i=f):(a>d||i>c)&&(a=d,i=c),[a,i]}function Gf(t){for(var r=t.length,e=0,n=r-1;n>=0;--n)e+=t[n];return e}function Xn(t){for(var r=t.length,e=0,n=r-1;n>=0;--n)e+=t[n];return r?e/r:0}function Mt(t,r){var e=r[0]-t[0],n=r[1]-t[1],a=Math.atan2(n,e);return a>=0?a:a+Math.PI*2}function Af(t){return[0,1].map(function(r){return Xn(t.map(function(e){return e[r]}))})}function qi(t){var r=Af(t),e=Mt(r,t[0]),n=Mt(r,t[1]);return e<n&&n-e<Math.PI||e>n&&n-e<-Math.PI?1:-1}function pr(t,r){return Math.sqrt(Math.pow((r?r[0]:0)-t[0],2)+Math.pow((r?r[1]:0)-t[1],2))}function it(t,r){if(!r)return t;var e=1/r;return Math.round(t/r)/e}function Vi(t,r){return t.forEach(function(e,n){t[n]=it(t[n],r)}),t}function Ff(t){for(var r=[],e=0;e<t;++e)r.push(e);return r}function ji(t){return t.reduce(function(r,e){return r.concat(e)},[])}function $i(t,r){t.indexOf(r)===-1&&t.push(r)}function zt(t,r){return t.classList?t.classList.contains(r):!!t.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}function Ui(t,r){t.classList?t.classList.add(r):t.className+=" "+r}function Ki(t,r){if(t.classList)t.classList.remove(r);else{var e=new RegExp("(\\s|^)"+r+"(\\s|$)");t.className=t.className.replace(e," ")}}function It(t,r,e,n){t.addEventListener(r,e,n)}function Pt(t,r,e,n){t.removeEventListener(r,e,n)}function Yr(t){return(t==null?void 0:t.ownerDocument)||Rf}function qn(t){return Yr(t).documentElement}function br(t){return Yr(t).body}function yr(t){var r;return((r=t==null?void 0:t.ownerDocument)===null||r===void 0?void 0:r.defaultView)||window}function Zi(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function Xr(t){return rr(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}var Nf=function(){function t(){this.keys=[],this.values=[]}var r=t.prototype;return r.get=function(e){return this.values[this.keys.indexOf(e)]},r.set=function(e,n){var a=this.keys,i=this.values,o=a.indexOf(e),s=o===-1?a.length:o;a[s]=e,i[s]=n},t}(),Lf=function(){function t(){this.object={}}var r=t.prototype;return r.get=function(e){return this.object[e]},r.set=function(e,n){this.object[e]=n},t}(),Wf=typeof Map=="function",Hf=function(){function t(){}var r=t.prototype;return r.connect=function(e,n){this.prev=e,this.next=n,e&&(e.next=this),n&&(n.prev=this)},r.disconnect=function(){var e=this.prev,n=this.next;e&&(e.next=n),n&&(n.prev=e)},r.getIndex=function(){for(var e=this,n=-1;e;)e=e.prev,++n;return n},t}();function Yf(t,r){var e=[],n=[];return t.forEach(function(a){var i=a[0],o=a[1],s=new Hf;e[i]=s,n[o]=s}),e.forEach(function(a,i){a.connect(e[i-1])}),t.filter(function(a,i){return!r[i]}).map(function(a,i){var o=a[0],s=a[1];if(o===s)return[0,0];var u=e[o],f=n[s-1],l=u.getIndex();u.disconnect(),f?u.connect(f,f.next):u.connect(void 0,e[0]);var d=u.getIndex();return[l,d]})}var Xf=function(){function t(e,n,a,i,o,s,u,f){this.prevList=e,this.list=n,this.added=a,this.removed=i,this.changed=o,this.maintained=s,this.changedBeforeAdded=u,this.fixed=f}var r=t.prototype;return Object.defineProperty(r,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(r,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),r.caculateOrdered=function(){var e=Yf(this.changedBeforeAdded,this.fixed),n=this.changed,a=[];this.cacheOrdered=e.filter(function(i,o){var s=i[0],u=i[1],f=n[o],l=f[0],d=f[1];if(s!==u)return a.push([l,d]),!0}),this.cachePureChanged=a},t}();function pe(t,r,e){var n=Wf?Map:e?Lf:Nf,a=e||function(b){return b},i=[],o=[],s=[],u=t.map(a),f=r.map(a),l=new n,d=new n,c=[],v=[],p={},h=[],g=0,m=0;return u.forEach(function(b,y){l.set(b,y)}),f.forEach(function(b,y){d.set(b,y)}),u.forEach(function(b,y){var x=d.get(b);typeof x>"u"?(++m,o.push(y)):p[x]=m}),f.forEach(function(b,y){var x=l.get(b);typeof x>"u"?(i.push(y),++g):(s.push([x,y]),m=p[y]||0,c.push([x-m,y-g]),v.push(y===x),x!==y&&h.push([x,y]))}),o.reverse(),new Xf(t,r,i,o,h,s,c,v)}var qf=function(){function t(e,n){e===void 0&&(e=[]),this.findKeyCallback=n,this.list=[].slice.call(e)}var r=t.prototype;return r.update=function(e){var n=[].slice.call(e),a=pe(this.list,n,this.findKeyCallback);return this.list=n,a},t}(),Vn=function(t,r){return Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},Vn(t,r)};function he(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Vn(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var or=function(){return or=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},or.apply(this,arguments)};function Ji(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]]);return e}function Qi(t,r,e){if(e||arguments.length===2)for(var n=0,a=r.length,i;n<a;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return t.concat(i||Array.prototype.slice.call(r))}function to(t){var r=0;return t.map(function(e){return e==null?"$compat".concat(++r):"".concat(e)})}function ro(t){var r=[];return t.forEach(function(e){r=r.concat(Tt(e)?ro(e):e)}),r}function jn(t,r){if(!r)return t;for(var e in r)qe(t[e])&&(t[e]=r[e]);return t}function je(t,r){if(t===r)return!1;for(var e in t)if(!(e in r))return!0;for(var e in r)if(t[e]!==r[e])return!0;return!1}function eo(t){var r=t.className,e=Ji(t,["className"]);return r!=null&&(e.class=r),delete e.style,delete e.children,e}function no(t){var r={},e={};for(var n in t)n.indexOf("on")===0?e[n]=t[n]:r[n]=t[n];return[r,e]}function $e(t){if(!t)return null;var r=t.b;return Xr(r)?r:$e(t.c)}function ao(t){var r=t.parentNode;r&&r.removeChild(t)}function io(t){t.forEach(function(r){r()})}function Vf(){return this.constructor(this.props,this.context)}var $n=0,Ue=function(){function t(e,n,a,i,o,s,u){u===void 0&&(u={}),this.t=e,this.d=n,this.k=a,this.i=i,this.c=o,this.ref=s,this.ps=u,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var r=t.prototype;return r.s=function(){return!0},r.u=function(e,n,a,i,o){var s=this,u=s.d,f=Bf(n).filter(function(p){return p.$_req}),l=ro(f.map(function(p){return p.$_subs})),d=Xt(l,function(p){return p.d===u});if(s.b&&!Yt(a)&&!o&&!s.s(a.props,i)&&!d){var c=l.reduce(function(p,h){var g=h.d;return p[0]?p[0].d===g&&p.push(h):g>u&&p.push(h),p},[]);return c.forEach(function(p){me(p,p._ps,[p.o],e,n,!0)}),!1}s.o=a,s.ss(i);var v=s.ps;return Yt(a)||(s.ps=a.props,s.ref=a.ref),Un(this),s.r(e,n,s.b?v:{},i),!0},r.md=function(){this.rr()},r.ss=function(){},r.ud=function(){this.rr()},r.rr=function(){var e=this,n=e.ref,a=e.fr;n&&n(a?a.current:e.b)},t}();function oo(){return Object.__CROACT_CURRENT_INSTNACE__}function jf(){return $n}function $f(t){$n=t}function Un(t){return Object.__CROACT_CURRENT_INSTNACE__=t,$n=0,t}var Kn=function(){function t(e,n){e===void 0&&(e={}),this.props=e,this.context=n,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var r=t.prototype;return r.render=function(){return null},r.shouldComponentUpdate=function(e,n){return this.props!==e||this.state!==n},r.setState=function(e,n,a){var i=this;i.$_timer||(i.$_state={}),clearTimeout(i.$_timer),i.$_timer=0,i.$_state=or(or({},i.$_state),e),a?i.$_setState(n,a):i.$_timer=window.setTimeout(function(){i.$_timer=0,i.$_setState(n,a)})},r.forceUpdate=function(e){this.setState({},e,!0)},r.componentDidMount=function(){},r.componentDidUpdate=function(e,n){},r.componentWillUnmount=function(){},r.$_setState=function(e,n){var a=[],i=this.$_p,o=me(i.c,[i],[i.o],a,i._cs,or(or({},this.state),this.$_state),n);o&&(e&&a.push(e),io(a),Un(null))},t}(),so=function(t){he(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}var e=r.prototype;return e.shouldComponentUpdate=function(n,a){return je(this.props,n)||je(this.state,a)},r}(Kn);function uo(t){var r=function(e){r.current=e};return r.current=t,r}function Uf(t){return t._fr=!0,t}function Kf(t,r,e,n){var a,i;return!((a=t==null?void 0:t.prototype)===null||a===void 0)&&a.render?i=new t(r,e):(i=new Kn(r,e),i.constructor=t,t._fr?(n.fr=uo(),i.render=function(){return this.constructor(this.props,n.fr)}):i.render=Vf),i.$_p=n,i}var Zf=function(t){he(r,t);function r(n,a,i,o,s,u,f){f===void 0&&(f={});var l=t.call(this,n,a,i,o,s,u,jn(f,n.defaultProps))||this;return l.typ="comp",l._usefs=[],l._uefs=[],l._defs=[],l}var e=r.prototype;return e.s=function(n,a){var i=this.b;return i.shouldComponentUpdate(jn(n,this.t.defaultProps),a||i.state)!==!1},e.r=function(n,a,i){var o,s,u=this,f=u.t;u.ps=jn(u.ps,u.t.defaultProps);var l=u.ps,d=!u.b,c=f.contextType,v=u.b,p=c==null?void 0:c.get(u);u._cs=a,d?(v=Kf(f,l,p,u),u.b=v):(v.props=l,v.context=p);var h=v.state;u._usefs=[],u._uefs=[];var g=v.render();((s=(o=g==null?void 0:g.props)===null||o===void 0?void 0:o.children)===null||s===void 0?void 0:s.length)===0&&(g.props.children=u.ps.children);var m=or(or({},a),v.$_cs);me(u,u._ps,g?[g]:[],n,m),d?u._uefs.push(function(){c==null||c.register(u),v.componentDidMount()}):u._uefs.push(function(){v.componentDidUpdate(i,h)}),n.push(function(){u._usefs.forEach(function(b){b()}),d?u.md():u.ud(),u._defs=u._uefs.map(function(b){return b()})})},e.ss=function(n){var a=this.b;!a||!n||(a.state=n)},e.un=function(){var n,a=this;a._ps.forEach(function(o){o.un()});var i=a.t;(n=i.contextType)===null||n===void 0||n.unregister(a),clearTimeout(a.b.$_timer),a._defs.forEach(function(o){o&&o()}),a.b.componentWillUnmount()},r}(Ue);function Jf(t,r,e){var n=Zn(eo(t),eo(r)),a=n.added,i=n.removed,o=n.changed;for(var s in a)e.setAttribute(s,a[s]);for(var u in o)e.setAttribute(u,o[u][1]);for(var f in i)e.removeAttribute(f)}function Qf(t,r,e){var n=Zn(t,r),a=n.added,i=n.removed;for(var o in i)e.e(o,!0);for(var s in a)e.e(s)}function Zn(t,r){var e=vr(t),n=vr(r),a=pe(e,n,function(u){return u}),i={},o={},s={};return a.added.forEach(function(u){var f=n[u];i[f]=r[f]}),a.removed.forEach(function(u){var f=e[u];o[f]=t[f]}),a.maintained.forEach(function(u){var f=u[0],l=e[f],d=[t[l],r[l]];t[l]!==r[l]&&(s[l]=d)}),{added:i,removed:o,changed:s}}function tl(t,r,e){var n=e.style,a=Zn(t,r),i=a.added,o=a.removed,s=a.changed;for(var u in i){var f=Ve(u,"-");n.setProperty(f,i[u])}for(var u in s){var l=Ve(u,"-");n.setProperty(l,s[u][1])}for(var u in o){var d=Ve(u,"-");n.removeProperty(d)}}function rl(t){return t.replace(/^on/g,"").toLowerCase()}var el=function(t){he(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.typ="elem",n._es={},n._svg=!1,n}var e=r.prototype;return e.e=function(n,a){var i=this,o=i._es,s=i.b,u=rl(n);a?(Pt(s,u,o[n]),delete o[n]):(o[n]=function(f){var l,d;(d=(l=i.ps)[n])===null||d===void 0||d.call(l,f)},It(s,u,o[n]))},e.s=function(n){return je(this.ps,n)},e.r=function(n,a,i){var o,s=this,u=!s.b,f=s.ps;if(u){var l=$e(s.c),d=!1;s._svg||s.t==="svg"?d=!0:d=l&&l.ownerSVGElement,s._svg=d;var c=(o=s._hyd)===null||o===void 0?void 0:o.splice(0,1)[0],v=s.t;if(c)s._hyd=[].slice.call(c.children||[]);else{var p=Yr(l);d?c=p.createElementNS("http://www.w3.org/2000/svg",v):c=p.createElement(v)}s.b=c}me(s,s._ps,f.children,n,a);var h=s.b,g=no(i),m=g[0],b=g[1],y=no(f),x=y[0],E=y[1];return Jf(m,x,h),Qf(b,E,s),tl(i.style||{},f.style||{},h),n.push(function(){u?s.md():s.ud()}),!0},e.un=function(){var n=this,a=n._es,i=n.b;for(var o in a)Pt(i,o,a[o]);n._ps.forEach(function(s){s.un()}),n._es={},n._sel||ao(i)},r}(Ue);function ge(t){if(!t||Xr(t))return t;var r=t.$_p._ps;return r.length?ge(r[0].b):null}function fo(t){if(t){if(t.b&&Xr(t.b))return t;var r=t._ps;return r.length?fo(r[0]):null}}function er(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=r||{},i=a.key,o=a.ref,s=Ji(a,["key","ref"]);return{type:t,key:i,ref:o,props:or(or({},s),{children:ji(e).filter(function(u){return u!=null&&u!==!1})})}}var lo=function(t){he(r,t);function r(n,a){a===void 0&&(a=0);var i=t.call(this,"container",a,"container",0,null)||this;return i.typ="container",i.b=n,i}var e=r.prototype;return e.r=function(){return!0},e.un=function(){},r}(Ue),nl=function(t){he(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.typ="text",n}var e=r.prototype;return e.r=function(n){var a,i=this,o=!i.b;if(o){var s=$e(i.c),u=(a=i._hyd)===null||a===void 0?void 0:a.splice(0,1)[0];i.b=u||Yr(s).createTextNode(i.t.replace("text_",""))}return n.push(function(){o?i.md():i.ud()}),!0},e.un=function(){ao(this.b)},r}(Ue);function al(t,r,e){var n=e.map(function(u){return Yt(u)?null:u.key}),a=to(r.map(function(u){return u.k})),i=to(n),o=pe(a,i,function(u){return u});o.removed.forEach(function(u){r.splice(u,1)[0].un()}),o.ordered.forEach(function(u){var f=u[0],l=u[1],d=r.splice(f,1)[0];r.splice(l,0,d);var c=ge(d.b),v=ge(r[l+1]&&r[l+1].b);c&&c.parentNode.insertBefore(c,v)}),o.added.forEach(function(u){r.splice(u,0,co(e[u],n[u],u,t))});var s=o.maintained.filter(function(u){u[0];var f=u[1],l=e[f],d=r[f],c=Yt(l)?"text_".concat(l):l.type;return c!==d.t?(d.un(),r.splice(f,1,co(l,n[f],f,t)),!0):(d.i=f,!1)});return Qi(Qi([],o.added,!0),s.map(function(u){u[0];var f=u[1];return f}),!0)}function il(t,r){for(var e=t._ps,n=e.length,a=r.i+1;a<n;++a){var i=ge(e[a].b);if(i)return i}return null}function co(t,r,e,n){var a=n.d+1;if(Yt(t)||Hr(t))return new nl("text_".concat(t),a,r,e,n,null,{});var i=t.type,o=typeof i=="string"?el:Zf;return new o(i,a,r,e,n,t.ref,t.props)}function me(t,r,e,n,a,i,o){var s=al(t,r,e),u=t._hyd,f=r.filter(function(d,c){return d._hyd=u,d.u(n,a,e[c],i,o)});t.typ==="container"&&t._sel&&r.forEach(function(d){var c=fo(d);c&&(c._sel=!0)}),t._hyd=null;var l=$e(t);return l&&s.reverse().forEach(function(d){var c=r[d],v=ge(c.b);if(v&&l!==v&&!v.parentNode){var p=il(t,c);l.insertBefore(v,p)}}),f.length>0}function ol(t,r,e,n){e===void 0&&(e=r.__CROACT__),n===void 0&&(n={});var a=!!e;e||(e=new lo(r));var i=[];return me(e,e._ps,t?[t]:[],i,n,void 0,void 0),io(i),Un(null),a||(r.__CROACT__=e),e}function vo(t,r,e){return!e&&t&&(e=new lo(r.parentElement),e._hyd=[r],e._sel=!0),ol(t,r,e),e}function po(t){var r=oo(),e=r._hs||(r._hs=[]),n=jf(),a=e[n];if($f(n+1),a){if(!je(a.deps,t.deps))return a.updated=!1,a;e[n]=t}else e.push(t);return t.value=t.func(),t.updated=!0,t}function sl(t,r){var e=po({func:t,deps:r});return e.value}function ul(t){return sl(function(){return uo(t)},[])}function ho(t,r,e){var n=oo(),a=po({func:function(){return t},deps:r}),i=e?n._usefs:n._uefs;a.updated?i.push(function(){return a.effect&&a.effect(),a.effect=t(),a.effect}):i.push(function(){return a.effect})}function fl(t,r,e){ho(function(){t==null||t(r())},e,!0)}function Jn(t,r){for(var e=t.length,n=0;n<e;++n)if(r(t[n],n))return!0;return!1}function go(t,r){for(var e=t.length,n=0;n<e;++n)if(r(t[n],n))return t[n];return null}function mo(t){var r=t;if(typeof r>"u"){if(typeof navigator>"u"||!navigator)return"";r=navigator.userAgent||""}return r.toLowerCase()}function Qn(t,r){try{return new RegExp(t,"g").exec(r)}catch{return null}}function ll(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,r=t.brands||t.uaList;return!!(r&&r.length)}function cl(t,r){var e=Qn("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",r);return e?e[3]:""}function ta(t){return t.replace(/_/g,".")}function be(t,r){var e=null,n="-1";return Jn(t,function(a){var i=Qn("("+a.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",r);return!i||a.brand?!1:(e=a,n=i[3]||"-1",a.versionAlias?n=a.versionAlias:a.versionTest&&(n=cl(a.versionTest.toLowerCase(),r)||n),n=ta(n),!0)}),{preset:e,version:n}}function ye(t,r){var e={brand:"",version:"-1"};return Jn(t,function(n){var a=bo(r,n);return a?(e.brand=n.id,e.version=n.versionAlias||a.version,e.version!=="-1"):!1}),e}function bo(t,r){return go(t,function(e){var n=e.brand;return Qn(""+r.test,n.toLowerCase())})}var ra=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],yo=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],ea=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],xo=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],So=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Eo(t){return!!be(xo,t).preset}function dl(t){var r=mo(t),e=!!/mobi/g.exec(r),n={name:"unknown",version:"-1",majorVersion:-1,webview:Eo(r),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},a={name:"unknown",version:"-1",majorVersion:-1},i=be(ra,r),o=i.preset,s=i.version,u=be(So,r),f=u.preset,l=u.version,d=be(yo,r);if(n.chromium=!!d.preset,n.chromiumVersion=d.version,!n.chromium){var c=be(ea,r);n.webkit=!!c.preset,n.webkitVersion=c.version}return f&&(a.name=f.id,a.version=l,a.majorVersion=parseInt(l,10)),o&&(n.name=o.id,n.version=s,n.webview&&a.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:a,isMobile:e,isHints:!1}}function vl(t){var r=navigator.userAgentData,e=(r.uaList||r.brands).slice(),n=t&&t.fullVersionList,a=r.mobile||!1,i=e[0],o=(t&&t.platform||r.platform||navigator.platform).toLowerCase(),s={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!ye(xo,e).brand||Eo(mo())},u={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&Jn(ea,function(p){return bo(e,p)});var f=ye(yo,e);if(s.chromium=!!f.brand,s.chromiumVersion=f.version,!s.chromium){var l=ye(ea,e);s.webkit=!!l.brand,s.webkitVersion=l.version}var d=go(So,function(p){return new RegExp(""+p.test,"g").exec(o)});if(u.name=d?d.id:"",t&&(u.version=t.platformVersion),n&&n.length){var c=ye(ra,n);s.name=c.brand||s.name,s.version=c.version||s.version}else{var v=ye(ra,e);s.name=v.brand||s.name,s.version=v.brand&&t?t.uaFullVersion:v.version}return s.webkit&&(u.name=a?"ios":"mac"),u.name==="ios"&&s.webview&&(s.version="-1"),u.version=ta(u.version),s.version=ta(s.version),u.majorVersion=parseInt(u.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:u,isMobile:a,isHints:!0}}function pl(t){return typeof t>"u"&&ll()?vl():dl(t)}function hl(t,r,e,n,a,i){for(var o=0;o<a;++o){var s=e+o*a,u=n+o*a;t[s]+=t[u]*i,r[s]+=r[u]*i}}function gl(t,r,e,n,a){for(var i=0;i<a;++i){var o=e+i*a,s=n+i*a,u=t[o],f=r[o];t[o]=t[s],t[s]=u,r[o]=r[s],r[s]=f}}function ml(t,r,e,n,a){for(var i=0;i<n;++i){var o=e+i*n;t[o]/=a,r[o]/=a}}function wo(t,r,e){e===void 0&&(e=Math.sqrt(t.length));for(var n=t.slice(),a=0;a<e;++a)n[a*e+r-1]=0,n[(r-1)*e+a]=0;return n[(r-1)*(e+1)]=1,n}function sr(t,r){r===void 0&&(r=Math.sqrt(t.length));for(var e=t.slice(),n=_t(r),a=0;a<r;++a){var i=r*a+a;if(!it(e[i],Rt)){for(var o=a+1;o<r;++o)if(e[r*a+o]){gl(e,n,a,o,r);break}}if(!it(e[i],Rt))return[];ml(e,n,a,r,e[i]);for(var o=0;o<r;++o){var s=o,u=o+a*r,f=e[u];!it(f,Rt)||a===o||hl(e,n,s,a,r,-f)}}return n}function bl(t,r){r===void 0&&(r=Math.sqrt(t.length));for(var e=[],n=0;n<r;++n)for(var a=0;a<r;++a)e[a*r+n]=t[r*n+a];return e}function _o(t,r){r===void 0&&(r=Math.sqrt(t.length));for(var e=[],n=t[r*r-1],a=0;a<r-1;++a)e[a]=t[r*(r-1)+a]/n;return e[r-1]=0,e}function yl(t,r){for(var e=_t(r),n=0;n<r-1;++n)e[r*(r-1)+n]=t[n]||0;return e}function Dr(t,r){for(var e=t.slice(),n=t.length;n<r-1;++n)e[n]=0;return e[r-1]=1,e}function nr(t,r,e){if(r===void 0&&(r=Math.sqrt(t.length)),r===e)return t;for(var n=_t(e),a=Math.min(r,e),i=0;i<a-1;++i){for(var o=0;o<a-1;++o)n[i*e+o]=t[i*r+o];n[(i+1)*e-1]=t[(i+1)*r-1],n[(e-1)*e+i]=t[(r-1)*r+i]}return n[e*e-1]=t[r*r-1],n}function Ke(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var n=_t(t);return r.forEach(function(a){n=St(n,a,t)}),n}function St(t,r,e){e===void 0&&(e=Math.sqrt(t.length));var n=[],a=t.length/e,i=r.length/a;if(a){if(!i)return t}else return r;for(var o=0;o<e;++o)for(var s=0;s<i;++s){n[s*e+o]=0;for(var u=0;u<a;++u)n[s*e+o]+=t[u*e+o]*r[s*a+u]}return n}function ht(t,r){for(var e=Math.min(t.length,r.length),n=t.slice(),a=0;a<e;++a)n[a]=n[a]+r[a];return n}function rt(t,r){for(var e=Math.min(t.length,r.length),n=t.slice(),a=0;a<e;++a)n[a]=n[a]-r[a];return n}function xl(t,r){return r===void 0&&(r=t.length===6),r?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function Co(t,r){return r===void 0&&(r=t.length===9),r?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function Gt(t,r,e){e===void 0&&(e=r.length);var n=St(t,r,e),a=n[e-1];return n.map(function(i){return i/a})}function Sl(t,r){return St(t,[1,0,0,0,0,Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1],4)}function El(t,r){return St(t,[Math.cos(r),0,-Math.sin(r),0,0,1,0,0,Math.sin(r),0,Math.cos(r),0,0,0,0,1],4)}function wl(t,r){return St(t,Se(r,4))}function Ze(t,r){var e=r[0],n=e===void 0?1:e,a=r[1],i=a===void 0?1:a,o=r[2],s=o===void 0?1:o;return St(t,[n,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1],4)}function xe(t,r){return Gt(Se(r,3),Dr(t,3))}function na(t,r){var e=r[0],n=e===void 0?0:e,a=r[1],i=a===void 0?0:a,o=r[2],s=o===void 0?0:o;return St(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,i,s,1],4)}function Do(t,r){return St(t,r,4)}function Se(t,r){var e=Math.cos(t),n=Math.sin(t),a=_t(r);return a[0]=e,a[1]=n,a[r]=-n,a[r+1]=e,a}function _t(t){for(var r=t*t,e=[],n=0;n<r;++n)e[n]=n%(t+1)?0:1;return e}function aa(t,r){for(var e=_t(r),n=Math.min(t.length,r-1),a=0;a<n;++a)e[(r+1)*a]=t[a];return e}function Mr(t,r){for(var e=_t(r),n=Math.min(t.length,r-1),a=0;a<n;++a)e[r*(r-1)+a]=t[a];return e}function ia(t,r,e,n,a,i,o,s){var u=t[0],f=t[1],l=r[0],d=r[1],c=e[0],v=e[1],p=n[0],h=n[1],g=a[0],m=a[1],b=i[0],y=i[1],x=o[0],E=o[1],S=s[0],C=s[1],w=[u,0,l,0,c,0,p,0,f,0,d,0,v,0,h,0,1,0,1,0,1,0,1,0,0,u,0,l,0,c,0,p,0,f,0,d,0,v,0,h,0,1,0,1,0,1,0,1,-g*u,-m*u,-b*l,-y*l,-x*c,-E*c,-S*p,-C*p,-g*f,-m*f,-b*d,-y*d,-x*v,-E*v,-S*h,-C*h],D=sr(w,8);if(!D.length)return[];var _=St(D,[g,m,b,y,x,E,S,C],8);return _[8]=1,nr(bl(_),3,4)}var Ee=function(){return Ee=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ee.apply(this,arguments)};function _l(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function we(t,r){return r===void 0&&(r=0),qr(Vr(t,r))}function Cl(t,r){var e=Gt(t,[r[0],r[1]||0,r[2]||0,1],4),n=e[3]||1;return[e[0]/n,e[1]/n,e[2]/n]}function qr(t){var r=_l();return t.forEach(function(e){var n=e.matrixFunction,a=e.functionValue;n&&(r=n(r,a))}),r}function Vr(t,r){r===void 0&&(r=0);var e=Tt(t)?t:mr(t);return e.map(function(n){var a=Wi(n),i=a.prefix,o=a.value,s=null,u=i,f="";if(i==="translate"||i==="translateX"||i==="translate3d"){var l=rr(r)?Ee(Ee({},r),{"o%":r["%"]}):{"%":r,"o%":r},d=Cr(o).map(function(R,P){return P===0&&"x%"in l?l["%"]=r["x%"]:P===1&&"y%"in l?l["%"]=r["y%"]:l["%"]=r["o%"],xt(R,l)}),c=d[0],v=d[1],p=v===void 0?0:v,h=d[2],g=h===void 0?0:h;s=na,f=[c,p,g]}else if(i==="translateY"){var m=rr(r)?Ee({"%":r["y%"]},r):{"%":r},p=xt(o,m);s=na,f=[0,p,0]}else if(i==="translateZ"){var g=parseFloat(o);s=na,f=[0,0,g]}else if(i==="scale"||i==="scale3d"){var b=Cr(o).map(function(R){return parseFloat(R)}),y=b[0],x=b[1],E=x===void 0?y:x,S=b[2],C=S===void 0?1:S;s=Ze,f=[y,E,C]}else if(i==="scaleX"){var y=parseFloat(o);s=Ze,f=[y,1,1]}else if(i==="scaleY"){var E=parseFloat(o);s=Ze,f=[1,E,1]}else if(i==="scaleZ"){var C=parseFloat(o);s=Ze,f=[1,1,C]}else if(i==="rotate"||i==="rotateZ"||i==="rotateX"||i==="rotateY"){var w=de(o),D=w.unit,_=w.value,z=D==="rad"?_:_*Math.PI/180;i==="rotate"||i==="rotateZ"?(u="rotateZ",s=wl):i==="rotateX"?s=Sl:i==="rotateY"&&(s=El),f=z}else if(i==="matrix3d")s=Do,f=Cr(o).map(function(R){return parseFloat(R)});else if(i==="matrix"){var O=Cr(o).map(function(R){return parseFloat(R)});s=Do,f=[O[0],O[1],0,0,O[2],O[3],0,0,0,0,1,0,O[4],O[5],0,1]}else u="";return{name:i,functionName:u,value:o,matrixFunction:s,functionValue:f}})}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var oa=function(t,r){return oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},oa(t,r)};function Dl(t,r){oa(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Mo=typeof Map=="function"?void 0:function(){var t=0;return function(r){return r.__DIFF_KEY__||(r.__DIFF_KEY__=++t)}}(),Ml=function(t){Dl(r,t);function r(e){return e===void 0&&(e=[]),t.call(this,e,Mo)||this}return r}(qf);function Rl(t,r){return pe(t,r,Mo)}const Ro=Ml;/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var sa=function(){return sa=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},sa.apply(this,arguments)};function Tl(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;for(var n=Array(t),a=0,r=0;r<e;r++)for(var i=arguments[r],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}var Ol=function(){function t(){this._events={}}var r=t.prototype;return r.on=function(e,n){if(rr(e))for(var a in e)this.on(a,e[a]);else this._addEvent(e,n,{});return this},r.off=function(e,n){if(!e)this._events={};else if(rr(e))for(var a in e)this.off(a);else if(!n)this._events[e]=[];else{var i=this._events[e];if(i){var o=dr(i,function(s){return s.listener===n});o>-1&&i.splice(o,1)}}return this},r.once=function(e,n){var a=this;return n&&this._addEvent(e,n,{once:!0}),new Promise(function(i){a._addEvent(e,i,{once:!0})})},r.emit=function(e,n){var a=this;n===void 0&&(n={});var i=this._events[e];if(!e||!i)return!0;var o=!1;return n.eventType=e,n.stop=function(){o=!0},n.currentTarget=this,Tl(i).forEach(function(s){s.listener(n),s.once&&a.off(e,s.listener)}),!o},r.trigger=function(e,n){return n===void 0&&(n={}),this.emit(e,n)},r._addEvent=function(e,n,a){var i=this._events;i[e]=i[e]||[];var o=i[e];o.push(sa({listener:n},a))},t}();const Je=Ol;/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var ua=function(t,r){return ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},ua(t,r)};function zl(t,r){ua(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var jr=function(){return jr=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},jr.apply(this,arguments)};function Pl(t){var r=t.container;return r===document.body?[r.scrollLeft||document.documentElement.scrollLeft,r.scrollTop||document.documentElement.scrollTop]:[r.scrollLeft,r.scrollTop]}function To(t,r){return t.addEventListener("scroll",r),function(){t.removeEventListener("scroll",r)}}function Qe(t){if(t){if(Yt(t))return document.querySelector(t)}else return null;if(Ln(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var kl=function(t){zl(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var a=n._currentOptions;n._lock||!a||n.emit("scrollDrag",{next:function(i){n.checkScroll({container:a.container,inputEvent:i})}})},n}var e=r.prototype;return e.dragStart=function(n,a){var i=Qe(a.container);if(!i){this._flag=!1;return}var o=0,s=0,u=0,f=0;if(i===document.body)u=window.innerWidth,f=window.innerHeight;else{var l=i.getBoundingClientRect();o=l.top,s=l.left,u=l.width,f=l.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:o,left:s,width:u,height:f},this._prevScrollPos=this._getScrollPosition([0,0],a),this._currentOptions=a,this._registerScrollEvent(a)},e.drag=function(n,a){if(clearTimeout(this._timer),!!this._flag){var i=n.clientX,o=n.clientY,s=a.threshold,u=s===void 0?0:s,f=this,l=f._startRect,d=f._startPos;this._currentOptions=a;var c=[0,0];return l.top>o-u?(d[1]>l.top||o<d[1])&&(c[1]=-1):l.top+l.height<o+u&&(d[1]<l.top+l.height||o>d[1])&&(c[1]=1),l.left>i-u?(d[0]>l.left||i<d[0])&&(c[0]=-1):l.left+l.width<i+u&&(d[0]<l.left+l.width||i>d[0])&&(c[0]=1),!c[0]&&!c[1]?!1:this._continueDrag(jr(jr({},a),{direction:c,inputEvent:n,isDrag:!0}))}},e.checkScroll=function(n){var a=this;if(this._isWait)return!1;var i=n.prevScrollPos,o=i===void 0?this._prevScrollPos:i,s=n.direction,u=n.throttleTime,f=u===void 0?0:u,l=n.inputEvent,d=n.isDrag,c=this._getScrollPosition(s||[0,0],n),v=c[0]-o[0],p=c[1]-o[1],h=s||[v?Math.abs(v)/v:0,p?Math.abs(p)/p:0];return this._prevScrollPos=c,this._lock=!1,!v&&!p?!1:(this.emit("move",{offsetX:h[0]?v:0,offsetY:h[1]?p:0,inputEvent:l}),f&&d&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){a._continueDrag(n)},f)),!0)},e.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},e._getScrollPosition=function(n,a){var i=a.container,o=a.getScrollPosition,s=o===void 0?Pl:o;return s({container:Qe(i),direction:n})},e._continueDrag=function(n){var a=this,i,o=n.container,s=n.direction,u=n.throttleTime,f=n.useScroll,l=n.isDrag,d=n.inputEvent;if(!(!this._flag||l&&this._isWait)){var c=ve(),v=Math.max(u+this._prevTime-c,0);if(v>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){a._continueDrag(n)},v),!1;this._prevTime=c;var p=this._getScrollPosition(s,n);this._prevScrollPos=p,l&&(this._isWait=!0),f||(this._lock=!0);var h={container:Qe(o),direction:s,inputEvent:d};return(i=n.requestScroll)===null||i===void 0||i.call(n,h),this.emit("scroll",h),this._isWait=!1,f||this.checkScroll(jr(jr({},n),{prevScrollPos:p,direction:s,inputEvent:d}))}},e._registerScrollEvent=function(n){this._unregisterScrollEvent();var a=n.checkScrollEvent;if(a){var i=a===!0?To:a,o=Qe(n.container);a===!0&&(o===document.body||o===document.documentElement)?this._unregister=To(window,this._onScroll):this._unregister=i(o,this._onScroll)}},e._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},r}(Je);const Il=kl;/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function Bl(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;for(var n=Array(t),a=0,r=0;r<e;r++)for(var i=arguments[r],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function qt(t){return it(t,Rt)}function Gl(t,r){return t.every(function(e,n){return qt(e-r[n])===0})}function Al(t,r){return!qt(t[0]-r[0])&&!qt(t[1]-r[1])}function Oo(t){return t.length<3?0:Math.abs(Gf(t.map(function(r,e){var n=t[e+1]||t[0];return r[0]*n[1]-n[0]*r[1]})))/2}function zo(t,r){var e=r.width,n=r.height,a=r.left,i=r.top,o=Rr(t),s=o.minX,u=o.minY,f=o.maxX,l=o.maxY,d=e/(f-s),c=n/(l-u);return t.map(function(v){return[a+(v[0]-s)*d,i+(v[1]-u)*c]})}function Rr(t){var r=t.map(function(n){return n[0]}),e=t.map(function(n){return n[1]});return{minX:Math.min.apply(Math,r),minY:Math.min.apply(Math,e),maxX:Math.max.apply(Math,r),maxY:Math.max.apply(Math,e)}}function fa(t,r,e){var n=t[0],a=t[1],i=Rr(r),o=i.minX,s=i.maxX,u=[[o,a],[s,a]],f=tn(u[0],u[1]),l=ca(r),d=[];if(l.forEach(function(p){var h=tn(p[0],p[1]),g=p[0];if(Gl(f,h))d.push({pos:t,line:p,type:"line"});else{var m=Po(la(f,h),[u,p]);m.forEach(function(b){p.some(function(y){return Al(y,b)})?d.push({pos:b,line:p,type:"point"}):qt(g[1]-a)!==0&&d.push({pos:b,line:p,type:"intersection"})})}}),!e&&Xt(d,function(p){return p[0]===n}))return!0;var c=0,v={};return d.forEach(function(p){var h=p.pos,g=p.type,m=p.line;if(!(h[0]>n))if(g==="intersection")++c;else{if(g==="line")return;if(g==="point"){var b=Xt(m,function(E){return E[1]!==a}),y=v[h[0]],x=b[1]>a?1:-1;y?y!==x&&++c:v[h[0]]=x}}}),c%2===1}function tn(t,r){var e=t[0],n=t[1],a=r[0],i=r[1],o=a-e,s=i-n;Math.abs(o)<Rt&&(o=0),Math.abs(s)<Rt&&(s=0);var u=0,f=0,l=0;return o?s?(u=-s/o,f=1,l=-u*e-n):(f=1,l=-n):s&&(u=-1,l=e),[u,f,l]}function la(t,r){var e=t[0],n=t[1],a=t[2],i=r[0],o=r[1],s=r[2],u=e===0&&i===0,f=n===0&&o===0,l=[];if(u&&f)return[];if(u){var d=-a/n,c=-s/o;return d!==c?[]:[[-1/0,d],[1/0,d]]}else if(f){var v=-a/e,p=-s/i;return v!==p?[]:[[v,-1/0],[v,1/0]]}else if(e===0){var h=-a/n,g=-(o*h+s)/i;l=[[g,h]]}else if(i===0){var h=-s/o,g=-(n*h+a)/e;l=[[g,h]]}else if(n===0){var g=-a/e,h=-(i*g+s)/o;l=[[g,h]]}else if(o===0){var g=-s/i,h=-(e*g+a)/n;l=[[g,h]]}else{var g=(n*s-o*a)/(o*e-n*i),h=-(e*g+a)/n;l=[[g,h]]}return l.map(function(m){return[m[0],m[1]]})}function Po(t,r){var e=r.map(function(d){return[0,1].map(function(c){return[Math.min(d[0][c],d[1][c]),Math.max(d[0][c],d[1][c])]})}),n=[];if(t.length===2){var a=t[0],i=a[0],o=a[1];if(qt(i-t[1][0])){if(!qt(o-t[1][1])){var f=Math.max.apply(Math,e.map(function(d){return d[0][0]})),l=Math.min.apply(Math,e.map(function(d){return d[0][1]}));if(qt(f-l)>0)return[];n=[[f,o],[l,o]]}}else{var s=Math.max.apply(Math,e.map(function(d){return d[1][0]})),u=Math.min.apply(Math,e.map(function(d){return d[1][1]}));if(qt(s-u)>0)return[];n=[[i,s],[i,u]]}}return n.length||(n=t.filter(function(d){var c=d[0],v=d[1];return e.every(function(p){return 0<=qt(c-p[0][0])&&0<=qt(p[0][1]-c)&&0<=qt(v-p[1][0])&&0<=qt(p[1][1]-v)})})),n.map(function(d){return[qt(d[0]),qt(d[1])]})}function ca(t){return Bl(t.slice(1),[t[0]]).map(function(r,e){return[t[e],r]})}function Fl(t,r){var e=t.slice(),n=r.slice();qi(e)===-1&&e.reverse(),qi(n)===-1&&n.reverse();var a=ca(e),i=ca(n),o=a.map(function(l){return tn(l[0],l[1])}),s=i.map(function(l){return tn(l[0],l[1])}),u=[];o.forEach(function(l,d){var c=a[d],v=[];s.forEach(function(p,h){var g=la(l,p),m=Po(g,[c,i[h]]);v.push.apply(v,m.map(function(b){return{index1:d,index2:h,pos:b,type:"intersection"}}))}),v.sort(function(p,h){return pr(c[0],p.pos)-pr(c[0],h.pos)}),u.push.apply(u,v),fa(c[1],n)&&u.push({index1:d,index2:-1,pos:c[1],type:"inside"})}),i.forEach(function(l,d){if(fa(l[1],e)){var c=!1,v=dr(u,function(p){var h=p.index2;return h===d?(c=!0,!1):!!c});v===-1&&(c=!1,v=dr(u,function(p){var h=p.index1,g=p.index2;return h===-1&&g+1===d?(c=!0,!1):!!c})),v===-1?u.push({index1:-1,index2:d,pos:l[1],type:"inside"}):u.splice(v,0,{index1:-1,index2:d,pos:l[1],type:"inside"})}});var f={};return u.filter(function(l){var d=l.pos,c=d[0]+"x"+d[1];return f[c]?!1:(f[c]=!0,!0)})}function Nl(t,r){var e=Fl(t,r);return e.map(function(n){var a=n.pos;return a})}function Ll(t,r){var e=Nl(t,r);return Oo(e)}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var da=function(t,r){return da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},da(t,r)};function Wl(t,r){da(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ot=function(){return Ot=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ot.apply(this,arguments)};function Hl(t,r){var e=r[0]-t[0],n=r[1]-t[1],a=Math.atan2(n,e);return a>=0?a:a+Math.PI*2}function va(t){return Hl([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function Yl(t){return t.touches&&t.touches.length>=2}function rn(t){return t?t.touches?ql(t.touches):[Io(t)]:[]}function Xl(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function ko(t,r,e){var n=e.length,a=_e(t,n),i=a.clientX,o=a.clientY,s=a.originalClientX,u=a.originalClientY,f=_e(r,n),l=f.clientX,d=f.clientY,c=_e(e,n),v=c.clientX,p=c.clientY,h=i-l,g=o-d,m=i-v,b=o-p;return{clientX:s,clientY:u,deltaX:h,deltaY:g,distX:m,distY:b}}function pa(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function ql(t){for(var r=Math.min(t.length,2),e=[],n=0;n<r;++n)e.push(Io(t[n]));return e}function Io(t){return{clientX:t.clientX,clientY:t.clientY}}function _e(t,r){r===void 0&&(r=t.length);for(var e={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(t.length,r),a=0;a<n;++a){var i=t[a];e.originalClientX+="originalClientX"in i?i.originalClientX:i.clientX,e.originalClientY+="originalClientY"in i?i.originalClientY:i.clientY,e.clientX+=i.clientX,e.clientY+=i.clientY}return r?{clientX:e.clientX/r,clientY:e.clientY/r,originalClientX:e.originalClientX/r,originalClientY:e.originalClientY/r}:e}var ha=function(){function t(r){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=r,this.prevClients=r,this.length=r.length}return t.prototype.getAngle=function(r){return r===void 0&&(r=this.prevClients),va(r)},t.prototype.getRotation=function(r){return r===void 0&&(r=this.prevClients),va(r)-va(this.startClients)},t.prototype.getPosition=function(r,e){r===void 0&&(r=this.prevClients);var n=ko(r||this.prevClients,this.prevClients,this.startClients),a=n.deltaX,i=n.deltaY;return this.movement+=Math.sqrt(a*a+i*i),this.prevClients=r,n},t.prototype.getPositions=function(r){r===void 0&&(r=this.prevClients);for(var e=this.prevClients,n=this.startClients,a=Math.min(this.length,e.length),i=[],o=0;o<a;++o)i[o]=ko([r[o]],[e[o]],[n[o]]);return i},t.prototype.getMovement=function(r){var e=this.movement;if(!r)return e;var n=_e(r,this.length),a=_e(this.prevClients,this.length),i=n.clientX-a.clientX,o=n.clientY-a.clientY;return Math.sqrt(i*i+o*o)+e},t.prototype.getDistance=function(r){return r===void 0&&(r=this.prevClients),pa(r)},t.prototype.getScale=function(r){return r===void 0&&(r=this.prevClients),pa(r)/pa(this.startClients)},t.prototype.move=function(r,e){this.startClients.forEach(function(n){n.clientX-=r,n.clientY-=e}),this.prevClients.forEach(function(n){n.clientX-=r,n.clientY-=e})},t}(),Bo=["textarea","input"],Vl=function(t){Wl(r,t);function r(e,n){n===void 0&&(n={});var a=t.call(this)||this;a.options={},a.flag=!1,a.pinchFlag=!1,a.data={},a.isDrag=!1,a.isPinch=!1,a.clientStores=[],a.targets=[],a.prevTime=0,a.doubleFlag=!1,a._useMouse=!1,a._useTouch=!1,a._useDrag=!1,a._dragFlag=!1,a._isTrusted=!1,a._isMouseEvent=!1,a._isSecondaryButton=!1,a._preventMouseEvent=!1,a._prevInputEvent=null,a._isDragAPI=!1,a._isIdle=!0,a._preventMouseEventId=0,a._window=window,a.onDragStart=function(c,v){if(v===void 0&&(v=!0),!(!a.flag&&c.cancelable===!1)){var p=c.type.indexOf("drag")>=-1;if(!(a.flag&&p)){a._isDragAPI=!0;var h=a.options,g=h.container,m=h.pinchOutside,b=h.preventWheelClick,y=h.preventRightClick,x=h.preventDefault,E=h.checkInput,S=h.dragFocusedInput,C=h.preventClickEventOnDragStart,w=h.preventClickEventOnDrag,D=h.preventClickEventByCondition,_=a._useTouch,z=!a.flag;if(a._isSecondaryButton=c.which===3||c.button===2,b&&(c.which===2||c.button===1)||y&&(c.which===3||c.button===2))return a.stop(),!1;if(z){var O=a._window.document.activeElement,R=c.target;if(R){var P=R.tagName.toLowerCase(),k=Bo.indexOf(P)>-1,I=R.isContentEditable;if(k||I){if(E||!S&&O===R)return!1;if(O&&(O===R||I&&O.isContentEditable&&O.contains(R)))if(S)R.blur();else return!1}else if((x||c.type==="touchstart")&&O){var L=O.tagName.toLowerCase();(O.isContentEditable||Bo.indexOf(L)>-1)&&O.blur()}(C||w||D)&&It(a._window,"click",a._onClick,!0)}a.clientStores=[new ha(rn(c))],a._isIdle=!1,a.flag=!0,a.isDrag=!1,a._isTrusted=v,a._dragFlag=!0,a._prevInputEvent=c,a.data={},a.doubleFlag=ve()-a.prevTime<200,a._isMouseEvent=Xl(c),!a._isMouseEvent&&a._preventMouseEvent&&a._allowMouseEvent();var G=a._preventMouseEvent||a.emit("dragStart",Ot(Ot({data:a.data,datas:a.data,inputEvent:c,isMouseEvent:a._isMouseEvent,isSecondaryButton:a._isSecondaryButton,isTrusted:v,isDouble:a.doubleFlag},a.getCurrentStore().getPosition()),{preventDefault:function(){c.preventDefault()},preventDrag:function(){a._dragFlag=!1}}));G===!1&&a.stop(),a._isMouseEvent&&a.flag&&x&&c.preventDefault()}if(!a.flag)return!1;var W=0;if(z?(a._attchDragEvent(),_&&m&&(W=setTimeout(function(){It(g,"touchstart",a.onDragStart,{passive:!1})}))):_&&m&&Pt(g,"touchstart",a.onDragStart),a.flag&&Yl(c)){if(clearTimeout(W),z&&c.touches.length!==c.changedTouches.length)return;a.pinchFlag||a.onPinchStart(c)}}}},a.onDrag=function(c,v){if(a.flag){var p=a.options.preventDefault;!a._isMouseEvent&&p&&c.preventDefault(),a._prevInputEvent=c;var h=rn(c),g=a.moveClients(h,c,!1);if(a._dragFlag){if(a.pinchFlag||g.deltaX||g.deltaY){var m=a._preventMouseEvent||a.emit("drag",Ot(Ot({},g),{isScroll:!!v,inputEvent:c}));if(m===!1){a.stop();return}}a.pinchFlag&&a.onPinch(c,h)}a.getCurrentStore().getPosition(h,!0)}},a.onDragEnd=function(c){if(a.flag){var v=a.options,p=v.pinchOutside,h=v.container,g=v.preventClickEventOnDrag,m=v.preventClickEventOnDragStart,b=v.preventClickEventByCondition,y=a.isDrag;(g||m||b)&&requestAnimationFrame(function(){a._allowClickEvent()}),!b&&!m&&g&&!y&&a._allowClickEvent(),a._useTouch&&p&&Pt(h,"touchstart",a.onDragStart),a.pinchFlag&&a.onPinchEnd(c);var x=c!=null&&c.touches?rn(c):[],E=x.length;E===0||!a.options.keepDragging?a.flag=!1:a._addStore(new ha(x));var S=a._getPosition(),C=ve(),w=!y&&a.doubleFlag;a._prevInputEvent=null,a.prevTime=y||w?0:C,a.flag||(a._dettachDragEvent(),a._preventMouseEvent||a.emit("dragEnd",Ot({data:a.data,datas:a.data,isDouble:w,isDrag:y,isClick:!y,isMouseEvent:a._isMouseEvent,isSecondaryButton:a._isSecondaryButton,inputEvent:c,isTrusted:a._isTrusted},S)),a.clientStores=[],a._isMouseEvent||(a._preventMouseEvent=!0,clearTimeout(a._preventMouseEventId),a._preventMouseEventId=setTimeout(function(){a._preventMouseEvent=!1},200)),a._isIdle=!0)}},a.onBlur=function(){a.onDragEnd()},a._allowClickEvent=function(){Pt(a._window,"click",a._onClick,!0)},a._onClick=function(c){a._allowClickEvent(),a._allowMouseEvent();var v=a.options.preventClickEventByCondition;v!=null&&v(c)||(c.stopPropagation(),c.preventDefault())},a._onContextMenu=function(c){var v=a.options;v.preventRightClick?a.onDragEnd(c):c.preventDefault()},a._passCallback=function(){};var i=[].concat(e),o=i[0];a._window=Zi(o)?o:yr(o),a.options=Ot({checkInput:!1,container:o&&!("document"in o)?yr(o):o,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var s=a.options,u=s.container,f=s.events,l=s.checkWindowBlur;if(a._useDrag=f.indexOf("drag")>-1,a._useTouch=f.indexOf("touch")>-1,a._useMouse=f.indexOf("mouse")>-1,a.targets=i,a._useDrag&&i.forEach(function(c){It(c,"dragstart",a.onDragStart)}),a._useMouse&&(i.forEach(function(c){It(c,"mousedown",a.onDragStart),It(c,"mousemove",a._passCallback)}),It(u,"contextmenu",a._onContextMenu)),l&&It(yr(),"blur",a.onBlur),a._useTouch){var d={passive:!1};i.forEach(function(c){It(c,"touchstart",a.onDragStart,d),It(c,"touchmove",a._passCallback,d)})}return a}return r.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},r.prototype.getMovement=function(e){return this.getCurrentStore().getMovement(e)+this.clientStores.slice(1).reduce(function(n,a){return n+a.movement},0)},r.prototype.isDragging=function(){return this.isDrag},r.prototype.isIdle=function(){return this._isIdle},r.prototype.isFlag=function(){return this.flag},r.prototype.isPinchFlag=function(){return this.pinchFlag},r.prototype.isDoubleFlag=function(){return this.doubleFlag},r.prototype.isPinching=function(){return this.isPinch},r.prototype.scrollBy=function(e,n,a,i){i===void 0&&(i=!0),this.flag&&(this.clientStores[0].move(e,n),i&&this.onDrag(a,!0))},r.prototype.move=function(e,n){var a=e[0],i=e[1],o=this.getCurrentStore(),s=o.prevClients;return this.moveClients(s.map(function(u){var f=u.clientX,l=u.clientY;return{clientX:f+a,clientY:l+i,originalClientX:f,originalClientY:l}}),n,!0)},r.prototype.triggerDragStart=function(e){this.onDragStart(e,!1)},r.prototype.setEventData=function(e){var n=this.data;for(var a in e)n[a]=e[a];return this},r.prototype.setEventDatas=function(e){return this.setEventData(e)},r.prototype.getCurrentEvent=function(e){return e===void 0&&(e=this._prevInputEvent),Ot(Ot({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},r.prototype.getEventData=function(){return this.data},r.prototype.getEventDatas=function(){return this.data},r.prototype.unset=function(){var e=this,n=this.targets,a=this.options.container;this.off(),Pt(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(i){Pt(i,"dragstart",e.onDragStart)}),this._useMouse&&(n.forEach(function(i){Pt(i,"mousedown",e.onDragStart)}),Pt(a,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(i){Pt(i,"touchstart",e.onDragStart)}),Pt(a,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},r.prototype.onPinchStart=function(e){var n=this,a=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>a)){var i=new ha(rn(e));this.pinchFlag=!0,this._addStore(i);var o=this.emit("pinchStart",Ot(Ot({data:this.data,datas:this.data,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition()),{inputEvent:e,isTrusted:this._isTrusted,preventDefault:function(){e.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));o===!1&&(this.pinchFlag=!1)}},r.prototype.onPinch=function(e,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var a=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Ot(Ot({data:this.data,datas:this.data,movement:this.getMovement(n),angle:a.getAngle(n),rotation:a.getRotation(n),touches:a.getPositions(n),scale:a.getScale(n),distance:a.getDistance(n)},a.getPosition(n)),{inputEvent:e,isTrusted:this._isTrusted}))}},r.prototype.onPinchEnd=function(e){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var a=this.getCurrentStore();this.emit("pinchEnd",Ot(Ot({data:this.data,datas:this.data,isPinch:n,touches:a.getPositions()},a.getPosition()),{inputEvent:e}))}},r.prototype.getCurrentStore=function(){return this.clientStores[0]},r.prototype.moveClients=function(e,n,a){var i=this._getPosition(e,a),o=this.isDrag;(i.deltaX||i.deltaY)&&(this.isDrag=!0);var s=!1;return!o&&this.isDrag&&(s=!0),Ot(Ot({data:this.data,datas:this.data},i),{movement:this.getMovement(e),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:s})},r.prototype._addStore=function(e){this.clientStores.splice(0,0,e)},r.prototype._getPosition=function(e,n){var a=this.getCurrentStore(),i=a.getPosition(e,n),o=this.clientStores.slice(1).reduce(function(f,l){var d=l.getPosition();return f.distX+=d.distX,f.distY+=d.distY,f},i),s=o.distX,u=o.distY;return Ot(Ot({},i),{distX:s,distY:u})},r.prototype._attchDragEvent=function(){var e=this._window,n=this.options.container,a={passive:!1};this._isDragAPI&&(It(n,"dragover",this.onDrag,a),It(e,"dragend",this.onDragEnd)),this._useMouse&&(It(n,"mousemove",this.onDrag),It(e,"mouseup",this.onDragEnd)),this._useTouch&&(It(n,"touchmove",this.onDrag,a),It(e,"touchend",this.onDragEnd,a),It(e,"touchcancel",this.onDragEnd,a))},r.prototype._dettachDragEvent=function(){var e=this._window,n=this.options.container;this._isDragAPI&&(Pt(n,"dragover",this.onDrag),Pt(e,"dragend",this.onDragEnd)),this._useMouse&&(Pt(n,"mousemove",this.onDrag),Pt(e,"mouseup",this.onDragEnd)),this._useTouch&&(Pt(n,"touchstart",this.onDragStart),Pt(n,"touchmove",this.onDrag),Pt(e,"touchend",this.onDragEnd),Pt(e,"touchcancel",this.onDragEnd))},r.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},r}(Je);function jl(t){for(var r=5381,e=t.length;e;)r=r*33^t.charCodeAt(--e);return r>>>0}var $l=jl;function Ul(t){return $l(t).toString(36)}function Kl(t){if(t&&t.getRootNode){var r=t.getRootNode();if(r.nodeType===11)return r}}function Zl(t,r,e){return e.original?r:r.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,a){var i=a.trim();return(i?Cr(i):[""]).map(function(o){var s=o.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?"".concat(s.replace(/\:host/g,".".concat(t))):s?".".concat(t," ").concat(s):".".concat(t)}).join(", ")+" {"})}function Jl(t,r,e,n,a){var i=Yr(n),o=i.createElement("style");return o.setAttribute("type","text/css"),o.setAttribute("data-styled-id",t),o.setAttribute("data-styled-count","1"),e.nonce&&o.setAttribute("nonce",e.nonce),o.innerHTML=Zl(t,r,e),(a||i.head||i.body).appendChild(o),o}function Ql(t){var r="rCS"+Ul(t);return{className:r,inject:function(e,n){n===void 0&&(n={});var a=Kl(e),i=(a||e.ownerDocument||document).querySelector('style[data-styled-id="'.concat(r,'"]'));if(!i)i=Jl(r,t,n,e,a);else{var o=parseFloat(i.getAttribute("data-styled-count"))||0;i.setAttribute("data-styled-count","".concat(o+1))}return{destroy:function(){var s,u=parseFloat(i.getAttribute("data-styled-count"))||0;u<=1?(i.remove?i.remove():(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=null):i.setAttribute("data-styled-count","".concat(u-1))}}}}}var ga=function(){return ga=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ga.apply(this,arguments)};function tc(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]]);return e}function Go(t,r){var e=Ql(r),n=e.className;return Uf(function(a,i){var o=a.className,s=o===void 0?"":o;a.cspNonce;var u=tc(a,["className","cspNonce"]),f=ul();return fl(i,function(){return f.current},[]),ho(function(){var l=e.inject(f.current,{nonce:a.cspNonce});return function(){l.destroy()}},[]),er(t,ga({ref:f,"data-styled-id":n,className:"".concat(s," ").concat(n)},u))})}var ma=function(t,r){return ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},ma(t,r)};function Ce(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");ma(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var M=function(){return M=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},M.apply(this,arguments)};function rc(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]]);return e}function ec(t,r,e,n){var a=arguments.length,i=a<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,r,e,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(r,e,i):o(r,e))||i);return a>3&&i&&Object.defineProperty(r,e,i),i}function nc(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),a,i=[],o;try{for(;(r===void 0||r-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return i}function Y(t,r,e){if(e||arguments.length===2)for(var n=0,a=r.length,i;n<a;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return t.concat(i||Array.prototype.slice.call(r))}function De(t,r){return M({events:[],props:[],name:t},r)}var ac=["n","w","s","e"],ba=["n","w","s","e","nw","ne","sw","se"];function ic(t,r){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(r,'deg);transform-origin: 16px 16px"></path></svg>')}function oc(t){var r=ic(1,t),e=Math.round(t/45)*45%180,n="ns-resize";return e===135?n="nwse-resize":e===45?n="nesw-resize":e===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(r,"') 16 16, ").concat(n,";")}var $r=pl(),Ao=$r.browser.webkit,Fo=Ao&&function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,r=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return r?parseFloat(r[1])<605:!1}(),No=$r.browser.name,Lo=parseInt($r.browser.version,10),sc=No==="chrome",uc=$r.browser.chromium,fc=parseInt($r.browser.chromiumVersion,10)||0,lc=sc&&Lo>=109||uc&&fc>=109,cc=No==="firefox",dc=parseInt($r.browser.webkitVersion,10)>=612||Lo>=15,ya="moveable-",vc=ba.map(function(t){var r="",e="",n="center",a="center",i="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(r="top: ".concat(i,";"),a="bottom"),t.indexOf("s")>-1&&(r="top: 0px;",a="top"),t.indexOf("w")>-1&&(e="left: ".concat(i,";"),n="right"),t.indexOf("e")>-1&&(e="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(e).concat(r,`
        transform-origin: `).concat(n," ").concat(a,`;
    }`)}).join(`
`),pc=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(vc,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
`).concat(oc(t),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(Fo?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),hc=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],xa=1e-4,Ft=1e-7,en=1e-9,Sa=Math.pow(10,10),Wo=-Sa,gc={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},Ea={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},Ho={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},Yo=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function Me(t,r,e,n,a,i){var o,s;i===void 0&&(i="draggable");var u=(s=(o=r.gestos[i])===null||o===void 0?void 0:o.move(e,t.inputEvent))!==null&&s!==void 0?s:{},f=u.originalDatas||u.datas,l=f[i]||(f[i]={});return M(M({},a?Us(r,u):u),{isPinch:!!n,parentEvent:!0,datas:l,originalDatas:t.originalDatas})}var Ur=function(){function t(r){var e;r===void 0&&(r="draggable"),this.ableName=r,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(e={},e[r]={},e)}return t.prototype.dragStart=function(r,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),M(M({},this.move(r,e.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(r,e){return this.move([r[0]-this.prevX,r[1]-this.prevY],e)},t.prototype.move=function(r,e){var n,a,i=!1;if(!this.isFlag)this.prevX=r[0],this.prevY=r[1],this.startX=r[0],this.startY=r[1],n=r[0],a=r[1],this.isFlag=!0;else{var o=this.isDrag;n=this.prevX+r[0],a=this.prevY+r[1],(r[0]||r[1])&&(this.isDrag=!0),!o&&this.isDrag&&(i=!0)}return this.prevX=n,this.prevY=a,{type:"drag",clientX:n,clientY:a,inputEvent:e,isFirstDrag:i,isDrag:this.isDrag,distX:n-this.startX,distY:a-this.startY,deltaX:r[0],deltaY:r[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function Kr(t,r,e,n){var a=t.length===16,i=a?4:3,o=Pr(t,e,n,i),s=T(o,4),u=T(s[0],2),f=u[0],l=u[1],d=T(s[1],2),c=d[0],v=d[1],p=T(s[2],2),h=p[0],g=p[1],m=T(s[3],2),b=m[0],y=m[1],x=T(Dt(t,r,i),2),E=x[0],S=x[1],C=Math.min(f,c,h,b),w=Math.min(l,v,g,y),D=Math.max(f,c,h,b),_=Math.max(l,v,g,y);f=f-C||0,c=c-C||0,h=h-C||0,b=b-C||0,l=l-w||0,v=v-w||0,g=g-w||0,y=y-w||0,E=E-C||0,S=S-w||0;var z=t[0],O=t[i+1],R=Wt(z*O);return{left:C,top:w,right:D,bottom:_,origin:[E,S],pos1:[f,l],pos2:[c,v],pos3:[h,g],pos4:[b,y],direction:R}}function Xo(t,r){var e=r.clientX,n=r.clientY,a=r.datas,i=t.state,o=i.moveableClientRect,s=i.rootMatrix,u=i.is3d,f=i.pos1,l=o.left,d=o.top,c=u?4:3,v=T(rt(ae(s,[e-l,n-d],c),f),2),p=v[0],h=v[1],g=T(ur({datas:a,distX:p,distY:h}),2),m=g[0],b=g[1];return[m,b]}function Tr(t,r){var e=r.datas,n=t.state,a=n.allMatrix,i=n.beforeMatrix,o=n.is3d,s=n.left,u=n.top,f=n.origin,l=n.offsetMatrix,d=n.targetMatrix,c=n.transformOrigin,v=o?4:3;e.is3d=o,e.matrix=a,e.targetMatrix=d,e.beforeMatrix=i,e.offsetMatrix=l,e.transformOrigin=c,e.inverseMatrix=sr(a,v),e.inverseBeforeMatrix=sr(i,v),e.absoluteOrigin=Dr(ht([s,u],f),v),e.startDragBeforeDist=Gt(e.inverseBeforeMatrix,e.absoluteOrigin,v),e.startDragDist=Gt(e.inverseMatrix,e.absoluteOrigin,v)}function mc(t){return Kr(t.datas.beforeTransform,[50,50],100,100).direction}function nn(t,r,e){var n=r.datas,a=r.originalDatas.beforeRenderable,i=n.transformIndex,o=a.nextTransforms,s=o.length,u=a.nextTransformAppendedIndexes,f=-1;i===-1?(e==="translate"?f=0:e==="rotate"&&(f=dr(o,function(v){return v.match(/scale\(/g)})),f===-1&&(f=o.length),n.transformIndex=f):Xt(u,function(v){return v.index===i&&v.functionName===e})?f=i:f=i+u.filter(function(v){return v.index<i}).length;var l=Hd(o,t.state,f),d=l.targetFunction,c=e==="rotate"?"rotateZ":e;n.beforeFunctionTexts=l.beforeFunctionTexts,n.afterFunctionTexts=l.afterFunctionTexts,n.beforeTransform=l.beforeFunctionMatrix,n.beforeTransform2=l.beforeFunctionMatrix2,n.targetTansform=l.targetFunctionMatrix,n.afterTransform=l.afterFunctionMatrix,n.afterTransform2=l.afterFunctionMatrix2,n.targetAllTransform=l.allFunctionMatrix,d.functionName===c?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):s>f&&(n.isAppendTransform=!0,a.nextTransformAppendedIndexes=Y(Y([],T(u),!1),[{functionName:e,index:f,isAppend:!0}],!1))}function an(t,r,e){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?e:r," ").concat(t.afterFunctionTexts.join(" "))}function bc(t){var r=t.datas,e=t.distX,n=t.distY,a=T(Vo({datas:r,distX:e,distY:n}),2),i=a[0],o=a[1],s=qo(r,yl([i,o],4));return Gt(s,Dr([0,0,0],4),4)}function qo(t,r,e){var n=t.beforeTransform,a=t.afterTransform,i=t.beforeTransform2,o=t.afterTransform2,s=t.targetAllTransform,u=e?St(s,r,4):St(r,s,4),f=St(sr(e?i:n,4),u,4),l=St(f,sr(e?o:a,4),4);return l}function Vo(t){var r=t.datas,e=t.distX,n=t.distY,a=r.inverseBeforeMatrix,i=r.is3d,o=r.startDragBeforeDist,s=r.absoluteOrigin,u=i?4:3;return rt(Gt(a,ht(s,[e,n]),u),o)}function ur(t,r){var e=t.datas,n=t.distX,a=t.distY,i=e.inverseBeforeMatrix,o=e.inverseMatrix,s=e.is3d,u=e.startDragBeforeDist,f=e.startDragDist,l=e.absoluteOrigin,d=s?4:3;return rt(Gt(r?i:o,ht(l,[n,a]),d),r?u:f)}function yc(t,r){var e=t.datas,n=t.distX,a=t.distY,i=e.beforeMatrix,o=e.matrix,s=e.is3d,u=e.startDragBeforeDist,f=e.startDragDist,l=e.absoluteOrigin,d=s?4:3;return rt(Gt(r?i:o,ht(r?u:f,[n,a]),d),l)}function xc(t,r,e,n,a,i){return n===void 0&&(n=r),a===void 0&&(a=e),i===void 0&&(i=[0,0]),t?t.map(function(o,s){var u=de(o),f=u.value,l=u.unit,d=s?a:n,c=s?e:r;if(o==="%"||isNaN(f)){var v=d?i[s]/d:0;return c*v}else if(l!=="%")return f;return c*f/100}):i}function jo(t){var r=[];return t[1]>=0&&(t[0]>=0&&r.push(3),t[0]<=0&&r.push(2)),t[1]<=0&&(t[0]>=0&&r.push(1),t[0]<=0&&r.push(0)),r}function Sc(t,r){return jo(r).map(function(e){return t[e]})}function wa(t,r){var e=(r+1)/2;return[Xe(t[0][0],t[1][0],e,1-e),Xe(t[0][1],t[1][1],e,1-e)]}function kt(t,r){var e=wa([t[0],t[1]],r[0]),n=wa([t[2],t[3]],r[0]);return wa([e,n],r[1])}function Ec(t,r,e,n,a,i){var o=Pr(r,e,n,a),s=kt(o,i),u=t[0]-s[0],f=t[1]-s[1];return[u,f]}function Re(t,r,e,n){return St(t,Pe(r,n,e),n)}function wc(t,r,e,n){var a=t.transformOrigin,i=t.offsetMatrix,o=t.is3d,s=o?4:3,u;if(Yt(e)){var f=r.beforeTransform,l=r.afterTransform;n?u=nr(we(e),4,s):u=nr(St(St(f,we([e]),4),l,4),4,s)}else u=e;return Re(i,u,a,s)}function _c(t,r){var e=t.transformOrigin,n=t.offsetMatrix,a=t.is3d,i=t.targetMatrix,o=t.targetAllTransform,s=a?4:3;return Re(n,St(o||i,aa(r,s),s),e,s)}function on(t,r){var e=Zr(r);return{setTransform:function(n,a){a===void 0&&(a=-1),e.startTransforms=Tt(n)?n:mr(n),_a(t,r,a)},setTransformIndex:function(n){_a(t,r,n)}}}function sn(t,r,e){var n=Zr(r),a=n.startTransforms;_a(t,r,dr(a,function(i){return i.indexOf("".concat(e,"("))===0}))}function _a(t,r,e){var n=Zr(r),a=r.datas;if(a.transformIndex=e,e!==-1){var i=n.startTransforms[e];if(i){var o=t.state,s=Vr([i],{"x%":function(u){return u/100*o.offsetWidth},"y%":function(u){return u/100*o.offsetHeight}});a.startValue=s[0].functionValue}}}function Ca(t,r){var e=Zr(t);e.nextTransforms=mr(r)}function Zr(t){return t.originalDatas.beforeRenderable}function un(t){var r=t.originalDatas.beforeRenderable;return r.nextTransforms}function fn(t){return(un(t)||[]).join(" ")}function ln(t){return Zr(t).nextStyle}function $o(t,r,e,n,a){Ca(a,r);var i=Nt.drag(t,Me(a,t.state,e,n,!1)),o=i?i.transform:r;return M(M({transform:r,drag:i},Lt({transform:o},a)),{afterTransform:o})}function Da(t,r,e,n,a,i){var o=wc(t.state,a,r,i),s=Mc(t,e,n,o);return s}function Uo(t,r,e,n,a,i,o){var s=Da(t,r,e,a,i,o),u=t.state,f=u.left,l=u.top,d=t.props.groupable,c=d?f:0,v=d?l:0,p=rt(n,s);return rt(p,[c,v])}function Cc(t,r,e,n,a,i,o){var s=Uo(t,r,e,n,a,i,o);return s}function Dc(t,r,e){return[r?-1+t[0]/(r/2):0,e?-1+t[1]/(e/2):0]}function Mc(t,r,e,n){n===void 0&&(n=t.state.allMatrix);var a=t.state,i=a.width,o=a.height,s=a.is3d,u=s?4:3,f=[i/2*(1+r[0])+e[0],o/2*(1+r[1])+e[1]];return Dt(n,f,u)}function Rc(t,r,e){var n=e.fixedDirection,a=e.fixedPosition,i=e.fixedOffset;return Uo(t,"rotate(".concat(r,"deg)"),n,a,i,e)}function Tc(t,r,e,n,a,i){var o=t.props.groupable,s=t.state,u=s.transformOrigin,f=s.offsetMatrix,l=s.is3d,d=s.width,c=s.height,v=s.left,p=s.top,h=i.fixedDirection,g=i.nextTargetMatrix||s.targetMatrix,m=l?4:3,b=xc(a,r,e,d,c,u),y=o?v:0,x=o?p:0,E=Re(f,g,b,m),S=Ec(n,E,r,e,m,h);return rt(S,[y,x])}function Oc(t,r){return kt(Qt(t.state),r)}function zc(t,r){var e=t.targetGesto,n=t.controlGesto,a;return e!=null&&e.isFlag()&&(a=e.getEventData()[r]),!a&&(n!=null&&n.isFlag())&&(a=n.getEventData()[r]),a||{}}function Pc(t){if(t&&t.getRootNode){var r=t.getRootNode();if(r.nodeType===11)return r}}function kc(t){var r=t("scale"),e=t("rotate"),n=t("translate"),a=[];return n&&n!=="0px"&&n!=="none"&&a.push("translate(".concat(n.split(/\s+/).join(","),")")),e&&e!=="1"&&e!=="none"&&a.push("rotate(".concat(e,")")),r&&r!=="1"&&r!=="none"&&a.push("scale(".concat(r.split(/\s+/).join(","),")")),a}function Ko(t,r,e){for(var n=t,a=[],i=qn(t)||br(t),o=!e&&t===r||t===i,s=o,u=!1,f=3,l,d,c,v=!1,p=ke(r,r,!0).offsetParent,h=1;n&&!s;){s=o;var g=Vt(n),m=g("position"),b=Gs(n),y=m==="fixed",x=kc(g),E=xl(Od(b)),S=void 0,C=!1,w=!1,D=0,_=0,z=0,O=0,R={hasTransform:!1,fixedContainer:null};y&&(v=!0,R=Bd(n),p=R.fixedContainer);var P=E.length;!u&&(P===16||x.length)&&(u=!0,f=4,Ya(a),c&&(c=nr(c,3,4))),u&&P===9&&(E=nr(E,3,4));var k=Id(n,t),I=k.tagName,L=k.hasOffset,G=k.isSVG,W=k.origin,N=k.targetOrigin,B=k.offset,X=T(B,2),U=X[0],j=X[1];I==="svg"&&!n.ownerSVGElement&&c&&(a.push({type:"target",target:n,matrix:Gd(n,f)}),a.push({type:"offset",target:n,matrix:_t(f)}));var $=parseFloat(g("zoom"))||1;if(y)S=R.fixedContainer,C=!0;else{var V=ke(n,r,!1,!0,g),K=V.offsetZoom;if(S=V.offsetParent,C=V.isEnd,w=V.isStatic,h*=K,(V.isCustomElement||K!==1)&&w)U-=S.offsetLeft,j-=S.offsetTop;else if(cc||lc){var Q=V.parentSlotElement;if(Q){for(var ot=S,pt=0,q=0;ot&&Pc(ot);)pt+=ot.offsetLeft,q+=ot.offsetTop,ot=ot.offsetParent;U-=pt,j-=q}}}if(Ao&&!dc&&L&&!G&&w&&(m==="relative"||m==="static")&&(U-=S.offsetLeft,j-=S.offsetTop,o=o||C),y)L&&R.hasTransform&&(z=S.clientLeft,O=S.clientTop);else if(L&&p!==S&&(D=S.clientLeft,_=S.clientTop),L&&S===i){var J=As(n,!1);U+=J[0],j+=J[1]}if(a.push({type:"target",target:n,matrix:Pe(E,f,W)}),x.length&&(a.push({type:"offset",target:n,matrix:_t(f)}),a.push({type:"target",target:n,matrix:Pe(we(x),f,W)})),L){var gt=n===t,at=gt?0:n.scrollLeft,st=gt?0:n.scrollTop;a.push({type:"offset",target:n,matrix:Mr([U-at+D-z,j-st+_-O],f)})}else a.push({type:"offset",target:n,origin:W});if($!==1&&a.push({type:"zoom",target:n,matrix:Pe(aa([$,$],f),f,[0,0])}),c||(c=E),l||(l=W),d||(d=N),s||y)break;n=S,o=C,(!e||n===i)&&(s=o)}return c||(c=_t(f)),l||(l=[0,0]),d||(d=[0,0]),{zoom:h,offsetContainer:p,matrixes:a,targetMatrix:c,transformOrigin:l,targetOrigin:d,is3d:u,hasFixed:v}}var Or=null,zr=null,Jr=null;function Qr(t){t?(window.Map&&(Or=new Map,zr=new Map),Jr=[]):(Or=null,Jr=null,zr=null)}function Ic(t){var r=zr==null?void 0:zr.get(t);if(r)return r;var e=Be(t,!0);return zr&&zr.set(t,e),e}function Bc(t,r){if(Jr){var e=Xt(Jr,function(a){return a[0][0]==t&&a[0][1]==r});if(e)return e[1]}var n=Ko(t,r,!0);return Jr&&Jr.push([[t,r],n]),n}function Vt(t){var r=Or==null?void 0:Or.get(t);if(!r){var e=yr(t).getComputedStyle(t);if(!Or)return function(i){return e[i]};r={style:e,cached:{}},Or.set(t,r)}var n=r.cached,a=r.style;return function(i){return i in n||(n[i]=a[i]),n[i]}}function ar(t,r,e){var n=e.originalDatas;n.groupable=n.groupable||{};var a=n.groupable;a.childDatas=a.childDatas||[];var i=a.childDatas;return t.moveables.map(function(o,s){return i[s]=i[s]||{},i[s][r]=i[s][r]||{},M(M({},e),{isRequestChild:!0,datas:i[s][r],originalDatas:i[s]})})}function Ma(t,r,e,n,a,i,o){var s=!!e.match(/Start$/g),u=!!e.match(/End$/g),f=a.isPinch,l=a.datas,d=ar(t,r.name,a),c=t.moveables,v=[],p=d.map(function(h,g){var m=c[g],b=m.state,y=b.gestos,x=h;if(s)x=new Ur(o).dragStart(n,h),v.push(x);else{if(y[o]||(y[o]=l.childGestos[g]),!y[o])return;x=Me(h,b,n,f,i,o),v.push(x)}var E=r[e](m,M(M({},x),{parentFlag:!0}));return u&&(y[o]=null),E});return s&&(l.childGestos=c.map(function(h){return h.state.gestos[o]})),{eventParams:p,childEvents:v}}function hr(t,r,e,n,a,i){a===void 0&&(a=function(l,d){return d});var o=!!e.match(/End$/g),s=ar(t,r.name,n),u=t.moveables,f=s.map(function(l,d){var c=u[d],v=l;v=a(c,l);var p=r[e](c,M(M({},v),{parentFlag:!0}));return p&&i&&i(c,l,p,d),o&&(c.state.gestos={}),p});return f}function cn(t,r,e,n){var a=e.fixedDirection,i=e.fixedPosition,o=n.datas.startPositions||Qt(r.state),s=kt(o,a),u=T(Gt(Se(-t.rotation/180*Math.PI,3),[s[0]-i[0],s[1]-i[1],1],3),2),f=u[0],l=u[1];return n.datas.originalX=f,n.datas.originalY=l,n}function Zo(t,r,e,n){var a=t.getState(),i=a.renderPoses,o=a.rotation,s=a.direction,u=kr(t.props,r).zoom,f=ze(o/Math.PI*180),l={},d=t.renderState;d.renderDirectionMap||(d.renderDirectionMap={});var c=d.renderDirectionMap;e.forEach(function(p){var h=p.dir;l[h]=!0});var v=Wt(s);return e.map(function(p){var h=p.data,g=p.classNames,m=p.dir,b=Ea[m];if(!b||!l[m])return null;c[m]=!0;var y=(it(f,15)+v*Ho[m]+720)%180,x={};return vr(h).forEach(function(E){x["data-".concat(E)]=h[E]}),n.createElement("div",M({className:tt.apply(void 0,Y(["control","direction",m,r],T(g),!1)),"data-rotation":y,"data-direction":m},x,{key:"direction-".concat(m),style:Sn.apply(void 0,Y([o,u],T(b.map(function(E){return i[E]})),!1))}))})}function Jo(t,r,e,n){var a=kr(t.props,e),i=a.renderDirections,o=i===void 0?r:i,s=a.displayAroundControls;if(!o)return[];var u=o===!0?ba:o;return Y(Y([],T(s?es(t,n,e,u):[]),!1),T(Zo(t,e,u.map(function(f){return{data:{},classNames:[],dir:f}}),n)),!1)}function Te(t,r,e,n,a,i){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var u=Mt(e,n),f=r?it(u/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(i),className:tt.apply(void 0,Y(["line","direction",r?"edge":"",r],T(o),!1)),"data-rotation":f,"data-line-key":i,"data-direction":r,style:Ie(e,n,a,u)})}function Qo(t,r,e,n,a){var i=e===!0?ac:e;return i.map(function(o,s){var u=T(Ea[o],2),f=u[0],l=u[1];if(l!=null)return Te(t,o,n[f],n[l],a,"".concat(r,"Edge").concat(s),r)}).filter(Boolean)}function ts(t){return function(r,e){var n=kr(r.props,t).edge;return n&&(n===!0||n.length)?Y(Y([],T(Qo(e,t,n,r.getState().renderPoses,r.props.zoom)),!1),T(Gc(r,t,e)),!1):rs(r,t,e)}}function rs(t,r,e){return Jo(t,ba,r,e)}function Gc(t,r,e){return Jo(t,["nw","ne","sw","se"],r,e)}function es(t,r,e,n){var a=t.renderState;a.renderDirectionMap||(a.renderDirectionMap={});var i=t.getState(),o=i.renderPoses,s=i.rotation,u=i.direction,f=a.renderDirectionMap,l=t.props.zoom,d=Wt(u),c=s/Math.PI*180;return(n||vr(f)).map(function(v){var p=Ea[v];if(!p)return null;var h=(it(c,15)+d*Ho[v]+720)%180,g=["around-control"];return e&&g.push("direction",e),r.createElement("div",{className:tt.apply(void 0,Y([],T(g),!1)),"data-rotation":h,"data-direction":v,key:"direction-around-".concat(v),style:Sn.apply(void 0,Y([s,l],T(p.map(function(m){return o[m]})),!1))})})}function Ra(t,r,e){var n=t||{},a=n.position,i=a===void 0?"client":a,o=n.left,s=o===void 0?-1/0:o,u=n.top,f=u===void 0?-1/0:u,l=n.right,d=l===void 0?1/0:l,c=n.bottom,v=c===void 0?1/0:c,p={position:i,left:s,top:f,right:d,bottom:v};return{vertical:ns(p,r,!0),horizontal:ns(p,e,!1)}}function dn(t,r){var e=t.state,n=e.containerClientRect,a=n.clientHeight,i=n.clientWidth,o=n.clientLeft,s=n.clientTop,u=e.snapOffset,f=u.left,l=u.top,d=u.right,c=u.bottom,v=r||t.props.bounds||{},p=v.position||"client",h=p==="css",g=v.left,m=g===void 0?-1/0:g,b=v.top,y=b===void 0?-1/0:b,x=v.right,E=x===void 0?h?-1/0:1/0:x,S=v.bottom,C=S===void 0?h?-1/0:1/0:S;return h&&(E=i+d-f-E,C=a+c-l-C),{left:m+f-o,right:E+f-o,top:y+l-s,bottom:C+l-s}}function Ac(t,r,e){var n=dn(t),a=n.left,i=n.top,o=n.right,s=n.bottom,u=T(e,2),f=u[0],l=u[1],d=T(rt(e,r),2),c=d[0],v=d[1];A(c)<Ft&&(c=0),A(v)<Ft&&(v=0);var p=v>0,h=c>0,g={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(c===0&&v===0)return{vertical:g,horizontal:m};if(c===0)p?s<l&&(m.pos=s,m.offset=l-s):i>l&&(m.pos=i,m.offset=l-i);else if(v===0)h?o<f&&(g.pos=o,g.offset=f-o):a>f&&(g.pos=a,g.offset=f-a);else{var b=v/c,y=e[1]-b*f,x=0,E=0,S=!1;h&&o<=f?(x=b*o+y,E=o,S=!0):!h&&f<=a&&(x=b*a+y,E=a,S=!0),S&&(x<i||x>s)&&(S=!1),S||(p&&s<=l?(x=s,E=(x-y)/b,S=!0):!p&&l<=i&&(x=i,E=(x-y)/b,S=!0)),S&&(g.isBound=!0,g.pos=E,g.offset=f-E,m.isBound=!0,m.pos=x,m.offset=l-x)}return{vertical:g,horizontal:m}}function ns(t,r,e){var n=t[e?"left":"top"],a=t[e?"right":"bottom"],i=Math.min.apply(Math,Y([],T(r),!1)),o=Math.max.apply(Math,Y([],T(r),!1)),s=[];return n+1>i&&s.push({direction:"start",isBound:!0,offset:i-n,pos:n}),a-1<o&&s.push({direction:"end",isBound:!0,offset:o-a,pos:a}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(u,f){return A(f.offset)-A(u.offset)})}function as(t,r,e){var n=e?t.map(function(a){return xe(a,e)}):t;return n.some(function(a){return a[0]<r.left&&A(a[0]-r.left)>.1||a[0]>r.right&&A(a[0]-r.right)>.1||a[1]<r.top&&A(a[1]-r.top)>.1||a[1]>r.bottom&&A(a[1]-r.bottom)>.1})}function Fc(t,r,e){var n=Jt(t),a=Math.sqrt(n*n-r*r)||0;return[a,-a].sort(function(i,o){return A(i-t[e?0:1])-A(o-t[e?0:1])}).map(function(i){return Mt([0,0],e?[i,r]:[r,i])})}function Nc(t,r,e,n,a){if(!t.props.bounds)return[];var i=a*Math.PI/180,o=dn(t),s=o.left,u=o.top,f=o.right,l=o.bottom,d=s-n[0],c=f-n[0],v=u-n[1],p=l-n[1],h={left:d,top:v,right:c,bottom:p};if(!as(e,h,0))return[];var g=[];return[[d,0],[c,0],[v,1],[p,1]].forEach(function(m){var b=T(m,2),y=b[0],x=b[1];e.forEach(function(E){var S=Mt([0,0],E);g.push.apply(g,Y([],T(Fc(E,y,x).map(function(C){return i+C-S}).filter(function(C){return!as(r,h,C)}).map(function(C){return it(C*180/Math.PI,Ft)})),!1))})}),g}var Lc=["left","right","center"],Wc=["top","bottom","middle"],is={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},xr={start:"left",end:"right",center:"center"},Sr={start:"top",end:"bottom",center:"middle"};function te(){return{left:!1,top:!1,right:!1,bottom:!1}}function re(t,r){var e=t.props,n=e.snappable,a=e.bounds,i=e.innerBounds,o=e.verticalGuidelines,s=e.horizontalGuidelines,u=e.snapGridWidth,f=e.snapGridHeight,l=t.state,d=l.guidelines,c=l.enableSnap;return!n||!c||r&&n!==!0&&n.indexOf(r)<0?!1:!!(u||f||a||i||d&&d.length||o&&o.length||s&&s.length)}function Ta(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function Hc(t,r){var e=Ta(t),n={};for(var a in e)a in r&&e[a]&&(n[a]=r[a]);return n}function Oa(t,r){var e=Hc(t,r),n=Wc.filter(function(i){return i in e}),a=Lc.filter(function(i){return i in e});return{horizontalNames:n,verticalNames:a,horizontal:n.map(function(i){return e[i]}),vertical:a.map(function(i){return e[i]})}}function Yc(t,r,e){var n=Dt(t,[r.clientLeft,r.clientTop],e);return[r.left+n[0],r.top+n[1]]}function Xc(t){var r=T(t,2),e=r[0],n=r[1],a=n[0]-e[0],i=n[1]-e[1];Math.abs(a)<Rt&&(a=0),Math.abs(i)<Rt&&(i=0);var o=0,s=0,u=0;return a?i?(o=-i/a,s=1,u=o*e[0]-e[1]):(s=1,u=-e[1]):(o=-1,u=e[0]),[o,s,u].map(function(f){return it(f,Rt)})}var os="snapRotationThreshold",ss="snapRotationDegrees",us="snapHorizontalThreshold",fs="snapVerticalThreshold";function vn(t,r,e,n,a,i,o){var s;n===void 0&&(n=[]),a===void 0&&(a=[]);var u=t.props,f=((s=t.state.snapThresholdInfo)===null||s===void 0?void 0:s.multiples)||[1,1],l=Vs(o,u[us],5),d=Vs(i,u[fs],5);return ls(t.state.guidelines,r,e,n,a,l,d,f)}function ls(t,r,e,n,a,i,o,s){return{vertical:ds(t,"vertical",r,o*s[0],n),horizontal:ds(t,"horizontal",e,i*s[1],a)}}function qc(t,r,e){var n=T(e,2),a=n[0],i=n[1],o=T(r,2),s=o[0],u=o[1],f=T(rt(e,r),2),l=f[0],d=f[1],c=d>0,v=l>0;l=Cn(l),d=Cn(d);var p={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(l===0&&d===0)return{vertical:p,horizontal:h};var g=vn(t,l?[a]:[],d?[i]:[],[],[],void 0,void 0),m=g.vertical,b=g.horizontal;m.posInfos.filter(function(I){var L=I.pos;return v?L>=s:L<=s}),b.posInfos.filter(function(I){var L=I.pos;return c?L>=u:L<=u}),m.isSnap=m.posInfos.length>0,b.isSnap=b.posInfos.length>0;var y=za(m),x=y.isSnap,E=y.guideline,S=za(b),C=S.isSnap,w=S.guideline,D=C?w.pos[1]:0,_=x?E.pos[0]:0;if(l===0)C&&(h.isSnap=!0,h.pos=w.pos[1],h.offset=i-h.pos);else if(d===0)x&&(p.isSnap=!0,p.pos=_,p.offset=a-_);else{var z=d/l,O=e[1]-z*a,R=0,P=0,k=!1;x?(P=_,R=z*P+O,k=!0):C&&(R=D,P=(R-O)/z,k=!0),k&&(p.isSnap=!0,p.pos=P,p.offset=a-P,h.isSnap=!0,h.pos=R,h.offset=i-R)}return{vertical:p,horizontal:h}}function Er(t){var r="";return t===-1||t==="top"||t==="left"?r="start":t===0||t==="center"||t==="middle"?r="center":(t===1||t==="right"||t==="bottom")&&(r="end"),r}function cs(t,r,e,n){var a=Oa(t.props.snapDirections,r),i=vn(t,a.vertical,a.horizontal,a.verticalNames.map(function(u){return Er(u)}),a.horizontalNames.map(function(u){return Er(u)}),e,n),o=Er(a.horizontalNames[i.horizontal.index]),s=Er(a.verticalNames[i.vertical.index]);return{vertical:M(M({},i.vertical),{direction:s}),horizontal:M(M({},i.horizontal),{direction:o})}}function za(t){var r=t.isSnap;if(!r)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var e=t.posInfos[0],n=e.guidelineInfos[0],a=n.offset,i=n.dist,o=n.guideline;return{isSnap:r,offset:a,dist:i,pos:e.pos,guideline:o}}function ds(t,r,e,n,a){var i,o;if(a===void 0&&(a=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var s=r==="vertical",u=s?0:1,f=e.map(function(d,c){var v=a[c]||"",p=t.map(function(h){var g=h.pos,m=d-g[u];return{offset:m,dist:A(m),guideline:h,direction:v}}).filter(function(h){var g=h.guideline,m=h.dist,b=g.type;return!(b!==r||m>n)}).sort(function(h,g){return h.dist-g.dist});return{pos:d,index:c,guidelineInfos:p,direction:v}}).filter(function(d){return d.guidelineInfos.length>0}).sort(function(d,c){return d.guidelineInfos[0].dist-c.guidelineInfos[0].dist}),l=f.length>0;return{isSnap:l,index:l?f[0].index:-1,direction:(o=(i=f[0])===null||i===void 0?void 0:i.direction)!==null&&o!==void 0?o:"",posInfos:f}}function Vc(t,r,e,n,a){var i=[];e[0]&&e[1]?i=[e,[-e[0],e[1]],[e[0],-e[1]]]:!e[0]&&!e[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(c,v,p){var h=p[v+1]||p[0];i.push(c),i.push([(c[0]+h[0])/2,(c[1]+h[1])/2])}):t.props.keepRatio?i.push([-1,-1],[-1,1],[1,-1],[1,1],e):(i.push.apply(i,Y([],T(Sc([[-1,-1],[1,-1],[-1,-1],[1,1]],e)),!1)),i.length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]));var o=i.map(function(c){return kt(r,c)}),s=o.map(function(c){return c[0]}),u=o.map(function(c){return c[1]}),f=vn(t,s,u,i.map(function(c){return Er(c[0])}),i.map(function(c){return Er(c[1])}),n,a),l=Er(i.map(function(c){return c[0]})[f.vertical.index]),d=Er(i.map(function(c){return c[1]})[f.horizontal.index]);return{vertical:M(M({},f.vertical),{direction:l}),horizontal:M(M({},f.horizontal),{direction:d})}}function vs(t,r){var e=A(t.offset),n=A(r.offset);return t.isBound&&r.isBound?n-e:t.isBound?-1:r.isBound?1:t.isSnap&&r.isSnap?n-e:t.isSnap?-1:r.isSnap||e<Ft?1:n<Ft?-1:e-n}function pn(t,r){return t.slice().sort(function(e,n){var a=e.sign[r],i=n.sign[r],o=e.offset[r],s=n.offset[r];if(a){if(!i)return-1}else return 1;return vs({isBound:e.isBound,isSnap:e.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:s})})[0]}function jc(t,r,e){var n=[];if(e)A(r[0])!==1||A(r[1])!==1?n.push([r,[-1,-1]],[r,[-1,1]],[r,[1,-1]],[r,[1,1]]):n.push([r,[t[0],-t[1]]],[r,[-t[0],t[1]]]),n.push([r,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var a=t[0]?t:[1,1];[1,-1].forEach(function(o){[1,-1].forEach(function(s){var u=[o*a[0],s*a[1]];r[0]===u[0]&&r[1]===u[1]||n.push([r,u])})})}else if(t[0]){var i=A(r[0])===1?[1]:[1,-1];i.forEach(function(o){n.push([[r[0],-1],[o*t[0],-1]],[[r[0],0],[o*t[0],0]],[[r[0],1],[o*t[0],1]])})}else if(t[1]){var i=A(r[1])===1?[1]:[1,-1];i.forEach(function(s){n.push([[-1,r[1]],[-1,s*t[1]]],[[0,r[1]],[0,s*t[1]]],[[1,r[1]],[1,s*t[1]]])})}return n}function ps(t,r){var e=Xn([r[0][0],r[1][0]]),n=Xn([r[0][1],r[1][1]]);return{vertical:e<=t[0],horizontal:n<=t[1]}}function Pa(t,r){var e=T(r,2),n=e[0],a=e[1],i=a[0]-n[0],o=a[1]-n[1];A(i)<Ft&&(i=0),A(o)<Ft&&(o=0);var s,u;if(!i)s=n[0],u=t[0];else if(!o)s=n[1],u=t[1];else{var f=o/i;s=f*(t[0]-n[0])+n[1],u=t[1]}return s-u}function hs(t,r,e,n){return n===void 0&&(n=Ft),t.every(function(a){var i=Pa(a,r),o=i<=0;return o===e||A(i)<=n})}function gs(t,r,e,n,a){return a===void 0&&(a=0),n&&r-a<=t||!n&&t<=e+a?{isBound:!0,offset:n?r-t:e-t}:{isBound:!1,offset:0}}function $c(t,r){var e=r.line,n=r.centerSign,a=r.verticalSign,i=r.horizontalSign,o=r.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var u=s.left,f=s.top,l=s.width,d=s.height,c=[[u,f],[u,f+d]],v=[[u,f],[u+l,f]],p=[[u+l,f],[u+l,f+d]],h=[[u,f+d],[u+l,f+d]];if(hs([[u,f],[u+l,f],[u,f+d],[u+l,f+d]],e,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=wr(e,o,v,a),m=wr(e,o,h,a),b=wr(e,o,c,i),y=wr(e,o,p,i),x=g.isBound&&m.isBound,E=g.isBound||m.isBound,S=b.isBound&&y.isBound,C=b.isBound||y.isBound,w=ne(g.offset,m.offset),D=ne(b.offset,y.offset),_=[0,0],z=!1,O=!1;return A(D)<A(w)?(_=[w,0],z=E,O=x):(_=[0,D],z=C,O=S),{isAllBound:O,isVerticalBound:E,isHorizontalBound:C,isBound:z,offset:_}}function wr(t,r,e,n,a,i){var o=T(r,2),s=o[0],u=o[1],f=t[0],l=e[0],d=e[1],c=Cn(d[1]-l[1]),v=Cn(d[0]-l[0]),p=u,h=s,g=-s/u;if(v){if(!c){if(i&&!p)return{isBound:!1,offset:0};if(h){var x=(l[1]-f[1])/g+f[0];return gs(x,l[0],d[0],n,a)}else{var b=l[1]-f[1],y=A(b)<=(a||0);return{isBound:y,offset:y?b:0}}}}else{if(i&&!h)return{isBound:!1,offset:0};if(p){var m=g*(l[0]-f[0])+f[1];return gs(m,l[1],d[1],n,a)}else{var b=l[0]-f[0],y=A(b)<=(a||0);return{isBound:y,offset:y?b:0}}}return{isBound:!1,offset:0}}function ms(t,r,e){return r.map(function(n){var a=$c(t,n),i=a.isBound,o=a.offset,s=a.isVerticalBound,u=a.isHorizontalBound,f=n.multiple,l=ur({datas:e,distX:o[0],distY:o[1]}).map(function(d,c){return d*(f[c]?2/f[c]:0)});return{sign:f,isBound:i,isVerticalBound:s,isHorizontalBound:u,isSnap:!1,offset:l}})}function Uc(t,r,e){var n,a=ka(t,r,[0,0],!1).map(function(c){return M(M({},c),{multiple:c.multiple.map(function(v){return A(v)*2})})}),i=ms(t,a,e),o=pn(i,0),s=pn(i,1),u=0,f=0,l=o.isVerticalBound||s.isVerticalBound,d=o.isHorizontalBound||s.isHorizontalBound;return(l||d)&&(n=T(yc({datas:e,distX:-o.offset[0],distY:-s.offset[1]}),2),u=n[0],f=n[1]),{vertical:{isBound:l,offset:u},horizontal:{isBound:d,offset:f}}}function Kc(t,r){var e=[],n=t[0],a=t[1];return n&&a?e.push([[0,a*2],t,[-n,a]],[[n*2,0],t,[n,-a]]):n?(e.push([[n*2,0],[n,1],[n,-1]]),r&&e.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):a?(e.push([[0,a*2],[1,a],[-1,a]]),r&&e.push([[-1,0],[-1,a],[-1,-a]],[[1,0],[1,a],[1,-a]])):e.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),e}function ka(t,r,e,n){var a=t.state,i=a.allMatrix,o=a.is3d,s=Pr(i,100,100,o?4:3),u=kt(s,[0,0]);return Kc(e,n).map(function(f){var l=T(f,3),d=l[0],c=l[1],v=l[2],p=[kt(s,c),kt(s,v)],h=Xc(p),g=ps(u,p),m=g.vertical,b=g.horizontal,y=Pa(u,p)<=0;return{multiple:d,centerSign:y,verticalSign:m,horizontalSign:b,lineConstants:h,line:[kt(r,c),kt(r,v)]}})}function bs(t,r,e,n){var a=n?t.map(function(i){return xe(i,n)}):t;return[[a[0],a[1]],[a[1],a[3]],[a[3],a[2]],[a[2],a[0]]].some(function(i){var o=Pa(e,i)<=0;return!hs(r,i,o)})}function Zc(t){var r=T(t,2),e=r[0],n=r[1],a=n[0]-e[0],i=n[1]-e[1];if(!a)return A(e[0]);if(!i)return A(e[1]);var o=i/a;return A((-o*e[0]+e[1])/Math.sqrt(Math.pow(o,2)+1))}function Jc(t){var r=T(t,2),e=r[0],n=r[1],a=n[0]-e[0],i=n[1]-e[1];if(!a)return[e[0],0];if(!i)return[0,e[1]];var o=i/a,s=-o*e[0]+e[1];return[-s/(o+1/o),s/(o*o+1)]}function Qc(t,r,e,n,a){var i=t.props.innerBounds,o=a*Math.PI/180;if(!i)return[];var s=i.left,u=i.top,f=i.width,l=i.height,d=s-n[0],c=s+f-n[0],v=u-n[1],p=u+l-n[1],h=[[d,v],[c,v],[d,p],[c,p]],g=kt(e,[0,0]);if(!bs(e,h,g,0))return[];var m=[],b=h.map(function(y){return[Jt(y),Mt([0,0],y)]});return[[e[0],e[1]],[e[1],e[3]],[e[3],e[2]],[e[2],e[0]]].forEach(function(y){var x=Mt([0,0],Jc(y)),E=Zc(y);m.push.apply(m,Y([],T(b.filter(function(S){var C=T(S,1),w=C[0];return w&&E<=w}).map(function(S){var C=T(S,2),w=C[0],D=C[1],_=Math.acos(w?E/w:0),z=D+_,O=D-_;return[o+z-x,o+O-x]}).reduce(function(S,C){return S.push.apply(S,Y([],T(C),!1)),S},[]).filter(function(S){return!bs(r,h,g,S)}).map(function(S){return it(S*180/Math.PI,Ft)})),!1))}),m}function td(t){var r=t.props.innerBounds,e=te();if(!r)return{boundMap:e,vertical:[],horizontal:[]};var n=t.getRect(),a=n.pos1,i=n.pos2,o=n.pos3,s=n.pos4,u=[a,i,o,s],f=kt(u,[0,0]),l=r.left,d=r.top,c=r.width,v=r.height,p=[[l,d],[l,d+v]],h=[[l,d],[l+c,d]],g=[[l+c,d],[l+c,d+v]],m=[[l,d+v],[l+c,d+v]],b=ka(t,u,[0,0],!1),y=[],x=[];return b.forEach(function(E){var S=E.line,C=E.lineConstants,w=ps(f,S),D=w.horizontal,_=w.vertical,z=wr(S,C,h,_,1,!0),O=wr(S,C,m,_,1,!0),R=wr(S,C,p,D,1,!0),P=wr(S,C,g,D,1,!0);z.isBound&&!e.top&&(y.push(d),e.top=!0),O.isBound&&!e.bottom&&(y.push(d+v),e.bottom=!0),R.isBound&&!e.left&&(x.push(l),e.left=!0),P.isBound&&!e.right&&(x.push(l+c),e.right=!0)}),{boundMap:e,horizontal:y,vertical:x}}function rd(t,r,e,n){var a=r[0]-t[0],i=r[1]-t[1];if(A(a)<Rt&&(a=0),A(i)<Rt&&(i=0),!a)return n?[0,0]:[0,e];if(!i)return n?[e,0]:[0,0];var o=i/a,s=t[1]-o*t[0];if(n){var u=o*(r[0]+e)+s;return[e,u-r[1]]}else{var f=(r[1]+e-s)/o;return[f-r[0],e]}}function Ia(t,r,e,n,a){var i=rd(t,r,e,n);if(!i)return{isOutside:!1,offset:[0,0]};var o=pr(t,r),s=pr(i,t),u=pr(i,r),f=s>o||u>o,l=T(ur({datas:a,distX:i[0],distY:i[1]}),2),d=l[0],c=l[1];return{offset:[d,c],isOutside:f}}function hn(t,r){return t.isBound?t.offset:r.isSnap?za(r).offset:0}function ed(t,r,e,n,a){var i=T(r,2),o=i[0],s=i[1],u=T(e,2),f=u[0],l=u[1],d=T(n,2),c=d[0],v=d[1],p=T(a,2),h=p[0],g=p[1],m=-h,b=-g;if(t&&o&&s){m=0,b=0;var y=[];if(f&&l?y.push([0,g],[h,0]):f?y.push([h,0]):l?y.push([0,g]):c&&v?y.push([0,g],[h,0]):c?y.push([h,0]):v&&y.push([0,g]),y.length){y.sort(function(C,w){return Jt(rt([o,s],C))-Jt(rt([o,s],w))});var x=y[0];if(x[0]&&A(o)>Rt)m=-x[0],b=s*A(o+m)/A(o)-s;else if(x[1]&&A(s)>Rt){var E=s;b=-x[1],m=o*A(s+b)/A(E)-o}if(t&&l&&f)if(A(m)>Rt&&A(m)<A(h)){var S=A(h)/A(m);m*=S,b*=S}else if(A(b)>Rt&&A(b)<A(g)){var S=A(g)/A(b);m*=S,b*=S}else m=ne(-h,m),b=ne(-g,b)}}else m=o||f?-h:0,b=s||l?-g:0;return[m,b]}function nd(t,r,e,n,a,i){if(!re(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=Va(i.absolutePoses,[r,e]),s=Zt(o),u=s.left,f=s.right,l=s.top,d=s.bottom,c={horizontal:o.map(function(P){return P[1]}),vertical:o.map(function(P){return P[0]})},v=Ta(t.props.snapDirections),p=Oa(v,{left:u,right:f,top:l,bottom:d,center:(u+f)/2,middle:(l+d)/2}),h=gn(t,a,p,c),g=h.vertical,m=h.horizontal,b=Uc(t,o,i),y=b.vertical,x=b.horizontal,E=g.isSnap,S=m.isSnap,C=g.isBound||y.isBound,w=m.isBound||x.isBound,D=ne(g.offset,y.offset),_=ne(m.offset,x.offset),z=T(ed(n,[r,e],[C,w],[E,S],[D,_]),2),O=z[0],R=z[1];return[{isBound:C,isSnap:E,offset:O},{isBound:w,isSnap:S,offset:R}]}function gn(t,r,e,n){n===void 0&&(n=e);var a=Ra(dn(t),n.vertical,n.horizontal),i=a.horizontal,o=a.vertical,s=r?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:vn(t,e.vertical,e.horizontal,void 0,void 0,void 0,void 0),u=s.horizontal,f=s.vertical,l=hn(i[0],u),d=hn(o[0],f),c=A(l),v=A(d);return{horizontal:{isBound:i[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:l,dist:c,bounds:i,snap:u},vertical:{isBound:o[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:d,dist:v,bounds:o,snap:f}}}function ys(t,r,e,n,a,i,o){o===void 0&&(o=[1,1]);var s=Ra(r,e,n),u=s.horizontal,f=s.vertical,l=ls(t,e,n,[],[],a,i,o),d=l.horizontal,c=l.vertical,v=hn(u[0],d),p=hn(f[0],c),h=A(v),g=A(p);return{horizontal:{isBound:u[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:v,dist:h,bounds:u,snap:d},vertical:{isBound:f[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:p,dist:g,bounds:f,snap:c}}}function ad(t,r,e,n){var a=Mt(t,r)/Math.PI*180,i=e.vertical,o=i.isBound,s=i.isSnap,u=i.dist,f=e.horizontal,l=f.isBound,d=f.isSnap,c=f.dist,v=a%180,p=v<3||v>177,h=v>87&&v<93;return c<u&&(o||s&&!h&&(!n||!p))?"vertical":l||d&&!p&&(!n||!h)?"horizontal":""}function id(t,r,e,n,a,i){return e.map(function(o){var s=T(o,2),u=s[0],f=s[1],l=kt(r,u),d=kt(r,f),c=n?od(t,l,d,a):gn(t,a,{vertical:[d[0]],horizontal:[d[1]]}),v=c.horizontal,p=v.offset,h=v.isBound,g=v.isSnap,m=c.vertical,b=m.offset,y=m.isBound,x=m.isSnap,E=rt(f,u);if(!b&&!p)return{isBound:y||h,isSnap:x||g,sign:E,offset:[0,0]};var S=ad(l,d,c,n);if(!S)return{sign:E,isBound:!1,isSnap:!1,offset:[0,0]};var C=S==="vertical",w=[0,0];return!n&&A(f[0])===1&&A(f[1])===1&&u[0]!==f[0]&&u[1]!==f[1]?w=ur({datas:i,distX:-b,distY:-p}):w=Ia(l,d,-(C?b:p),C,i).offset,w=w.map(function(D,_){return D*(E[_]?2/E[_]:0)}),{sign:E,isBound:C?y:h,isSnap:C?x:g,offset:w}})}function xs(t,r){return t.isBound?t.offset:r.isSnap?r.offset:0}function od(t,r,e,n){var a=Ac(t,r,e),i=a.horizontal,o=a.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:qc(t,r,e),u=s.horizontal,f=s.vertical,l=xs(i,u),d=xs(o,f),c=A(l),v=A(d);return{horizontal:{isBound:i.isBound,isSnap:u.isSnap,offset:l,dist:c},vertical:{isBound:o.isBound,isSnap:f.isSnap,offset:d,dist:v}}}function sd(t,r,e,n,a){var i=[-e[0],-e[1]],o=t.state,s=o.width,u=o.height,f=t.props.bounds,l=1/0,d=1/0;if(f){var c=[[e[0],-e[1]],[-e[0],e[1]]],v=f.left,p=v===void 0?-1/0:v,h=f.top,g=h===void 0?-1/0:h,m=f.right,b=m===void 0?1/0:m,y=f.bottom,x=y===void 0?1/0:y;c.forEach(function(E){var S=E[0]!==i[0],C=E[1]!==i[1],w=kt(r,E),D=Mt(n,w)*360/Math.PI;if(C){var _=w.slice();(A(D-360)<2||A(D-180)<2)&&(_[1]=n[1]);var z=Ia(n,_,(n[1]<w[1]?x:g)-w[1],!1,a),O=T(z.offset,2),R=O[1],P=z.isOutside;isNaN(R)||(d=u+(P?1:-1)*A(R))}if(S){var _=w.slice();(A(D-90)<2||A(D-270)<2)&&(_[0]=n[0]);var k=Ia(n,_,(n[0]<w[0]?b:p)-w[0],!0,a),I=T(k.offset,1),L=I[0],G=k.isOutside;isNaN(L)||(l=s+(G?1:-1)*A(L))}})}return{maxWidth:l,maxHeight:d}}var Nt={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,r){var e=t.props,n=e.hideThrottleDragRotateLine,a=e.throttleDragRotate,i=e.zoom,o=t.getState(),s=o.dragInfo,u=o.beforeOrigin;if(n||!a||!s)return[];var f=s.dist;if(!f[0]&&!f[1])return[];var l=Jt(f),d=Mt(f,[0,0]);return[r.createElement("div",{className:tt("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(l,"px"),transform:"translate(".concat(u[0],"px, ").concat(u[1],"px) rotate(").concat(d,"rad) scaleY(").concat(i,")")}})]},dragStart:function(t,r){var e=r.datas,n=r.parentEvent,a=r.parentGesto,i=t.state,o=i.gestos,s=i.style;if(o.draggable)return!1;o.draggable=a||t.targetGesto,e.datas={},e.left=parseFloat(s.left||"")||0,e.top=parseFloat(s.top||"")||0,e.bottom=parseFloat(s.bottom||"")||0,e.right=parseFloat(s.right||"")||0,e.startValue=[0,0],Tr(t,r),sn(t,r,"translate"),Dd(t,e),e.prevDist=[0,0],e.prevBeforeDist=[0,0],e.isDrag=!1,e.deltaOffset=[0,0];var u=lt(t,r,M({set:function(l){e.startValue=l}},on(t,r))),f=n||Z(t,"onDragStart",u);return f!==!1?(e.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(o.draggable=null,e.isPinch=!1),e.isDrag?u:!1},drag:function(t,r){if(r){nn(t,r,"translate");var e=r.datas,n=r.parentEvent,a=r.parentFlag,i=r.isPinch,o=r.deltaOffset,s=r.useSnap,u=r.isRequest,f=r.isGroup,l=r.parentThrottleDrag,d=r.distX,c=r.distY,v=e.isDrag,p=e.prevDist,h=e.prevBeforeDist,g=e.startValue;if(v){o&&(d+=o[0],c+=o[1]);var m=t.props,b=m.parentMoveable,y=f?0:m.throttleDrag||l||0,x=n?0:m.throttleDragRotate||0,E=0,S=!1,C=!1,w=!1,D=!1;if(!n&&x>0&&(d||c)){var _=m.startDragRotate||0,z=it(_+Mt([0,0],[d,c])*180/Math.PI,x)-_,O=c*Math.abs(Math.cos((z-90)/180*Math.PI)),R=d*Math.abs(Math.cos(z/180*Math.PI)),P=Jt([R,O]);E=z*Math.PI/180,d=P*Math.cos(E),c=P*Math.sin(E)}if(!i&&!n&&!a){var k=T(nd(t,d,c,x,!s&&u||o,e),2),I=k[0],L=k[1];S=I.isSnap,C=I.isBound,w=L.isSnap,D=L.isBound;var G=I.offset,W=L.offset;d+=G,c+=W}var N=ht(Vo({datas:e,distX:d,distY:c}),g),B=ht(bc({datas:e,distX:d,distY:c}),g);Vi(B,Ft),Vi(N,Ft),x||(!S&&!C&&(B[0]=it(B[0],y),N[0]=it(N[0],y)),!w&&!D&&(B[1]=it(B[1],y),N[1]=it(N[1],y)));var X=rt(N,g),U=rt(B,g),j=rt(U,p),$=rt(X,h);e.prevDist=U,e.prevBeforeDist=X,e.passDelta=j,e.passDist=U;var V=e.left+X[0],K=e.top+X[1],Q=e.right-X[0],ot=e.bottom-X[1],pt=an(e,"translate(".concat(B[0],"px, ").concat(B[1],"px)"),"translate(".concat(U[0],"px, ").concat(U[1],"px)"));if(Ca(r,pt),t.state.dragInfo.dist=n?[0,0]:U,!(!n&&!b&&j.every(function(st){return!st})&&$.some(function(st){return!st}))){var q=t.state,J=q.width,gt=q.height,at=lt(t,r,M({transform:pt,dist:U,delta:j,translate:B,beforeDist:X,beforeDelta:$,beforeTranslate:N,left:V,top:K,right:Q,bottom:ot,width:J,height:gt,isPinch:i},Lt({transform:pt},r)));return!n&&Z(t,"onDrag",at),at}}}},dragAfter:function(t,r){var e=r.datas,n=e.deltaOffset;return n[0]||n[1]?(e.deltaOffset=[0,0],this.drag(t,M(M({},r),{deltaOffset:n}))):!1},dragEnd:function(t,r){var e=r.parentEvent,n=r.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var a=Ut(t,r,{});return!e&&Z(t,"onDragEnd",a),a}},dragGroupStart:function(t,r){var e,n,a=r.datas,i=r.clientX,o=r.clientY,s=this.dragStart(t,r);if(!s)return!1;var u=Ma(t,this,"dragStart",[i||0,o||0],r,!1,"draggable"),f=u.childEvents,l=u.eventParams,d=M(M({},s),{targets:t.props.targets,events:l}),c=Z(t,"onDragGroupStart",d);a.isDrag=c!==!1;var v=(n=(e=f[0])===null||e===void 0?void 0:e.datas.startValue)!==null&&n!==void 0?n:[0,0];return a.throttleOffset=[v[0]%1,v[1]%1],a.isDrag?s:!1},dragGroup:function(t,r){var e=r.datas;if(e.isDrag){var n=this.drag(t,M(M({},r),{parentThrottleDrag:t.props.throttleDrag})),a=r.datas.passDelta,i=Ma(t,this,"drag",a,r,!1,"draggable").eventParams;if(n){var o=M({targets:t.props.targets,events:i},n);return Z(t,"onDragGroup",o),o}}},dragGroupEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isDrag){this.dragEnd(t,r);var a=Ma(t,this,"dragEnd",[0,0],r,!1,"draggable").eventParams;return Z(t,"onDragGroupEnd",Ut(t,r,{targets:t.props.targets,events:a})),e}},request:function(t){var r={},e=t.getRect(),n=0,a=0,i=!1;return{isControl:!1,requestStart:function(o){return i=o.useSnap,{datas:r,useSnap:i}},request:function(o){return"x"in o?n=o.x-e.left:"deltaX"in o&&(n+=o.deltaX),"y"in o?a=o.y-e.top:"deltaY"in o&&(a+=o.deltaY),{datas:r,distX:n,distY:a,useSnap:i}},requestEnd:function(){return{datas:r,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function Ss(t,r){var e=kt(t,r),n=[0,0];return{fixedPosition:e,fixedDirection:r,fixedOffset:n}}function ud(t,r){var e=t.allMatrix,n=t.is3d,a=t.width,i=t.height,o=n?4:3,s=[a/2*(1+r[0]),i/2*(1+r[1])],u=Dt(e,s,o),f=[0,0];return{fixedPosition:u,fixedDirection:r,fixedOffset:f}}function Es(t,r){var e=t.allMatrix,n=t.is3d,a=t.width,i=t.height,o=n?4:3,s=Dc(r,a,i),u=Dt(e,r,o),f=[a?0:r[0],i?0:r[1]];return{fixedPosition:u,fixedDirection:s,fixedOffset:f}}var ws=Za("resizable"),Ba={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:ts("resizable"),dragControlCondition:ws,viewClassName:Ka("resizable"),dragControlStart:function(t,r){var e,n=r.inputEvent,a=r.isPinch,i=r.isGroup,o=r.parentDirection,s=r.parentGesto,u=r.datas,f=r.parentFixedDirection,l=r.parentEvent,d=Ys(o,a,n,u),c=t.state,v=c.target,p=c.width,h=c.height,g=c.gestos;if(!d||!v||g.resizable)return!1;g.resizable=s||t.controlGesto,!a&&Tr(t,r),u.datas={},u.direction=d,u.startOffsetWidth=p,u.startOffsetHeight=h,u.prevWidth=0,u.prevHeight=0,u.minSize=[0,0],u.startWidth=c.inlineCSSWidth||c.cssWidth,u.startHeight=c.inlineCSSHeight||c.cssHeight,u.maxSize=[1/0,1/0],i||(u.minSize=[c.minOffsetWidth,c.minOffsetHeight],u.maxSize=[c.maxOffsetWidth,c.maxOffsetHeight]);var m=t.props.transformOrigin||"% %";u.transformOrigin=m&&Yt(m)?m.split(" "):m,u.startOffsetMatrix=c.offsetMatrix,u.startTransformOrigin=c.transformOrigin,u.isWidth=(e=r==null?void 0:r.parentIsWidth)!==null&&e!==void 0?e:!d[0]&&!d[1]||d[0]||!d[1];function b(D){u.ratio=D&&isFinite(D)?D:0}u.startPositions=Qt(t.state);function y(D){var _=Ss(u.startPositions,D);u.fixedDirection=_.fixedDirection,u.fixedPosition=_.fixedPosition,u.fixedOffset=_.fixedOffset}function x(D){var _=Es(t.state,D);u.fixedDirection=_.fixedDirection,u.fixedPosition=_.fixedPosition,u.fixedOffset=_.fixedOffset}function E(D){u.minSize=[xt("".concat(D[0]),0)||0,xt("".concat(D[1]),0)||0]}function S(D){var _=[D[0]||1/0,D[1]||1/0];(!Hr(_[0])||isFinite(_[0]))&&(_[0]=xt("".concat(_[0]),0)||1/0),(!Hr(_[1])||isFinite(_[1]))&&(_[1]=xt("".concat(_[1]),0)||1/0),u.maxSize=_}b(p/h),y(f||[-d[0],-d[1]]),u.setFixedDirection=y,u.setFixedPosition=x,u.setMin=E,u.setMax=S;var C=lt(t,r,{direction:d,startRatio:u.ratio,set:function(D){var _=T(D,2),z=_[0],O=_[1];u.startWidth=z,u.startHeight=O},setMin:E,setMax:S,setRatio:b,setFixedDirection:y,setFixedPosition:x,setOrigin:function(D){u.transformOrigin=D},dragStart:Nt.dragStart(t,new Ur().dragStart([0,0],r))}),w=l||Z(t,"onResizeStart",C);return u.startFixedDirection=u.fixedDirection,u.startFixedPosition=u.fixedPosition,w!==!1&&(u.isResize=!0,t.state.snapRenderInfo={request:r.isRequest,direction:d}),u.isResize?C:!1},dragControl:function(t,r){var e,n=r.datas,a=r.parentFlag,i=r.isPinch,o=r.parentKeepRatio,s=r.dragClient,u=r.parentDist,f=r.useSnap,l=r.isRequest,d=r.isGroup,c=r.parentEvent,v=r.resolveMatrix,p=n.isResize,h=n.transformOrigin,g=n.startWidth,m=n.startHeight,b=n.prevWidth,y=n.prevHeight,x=n.minSize,E=n.maxSize,S=n.ratio,C=n.startOffsetWidth,w=n.startOffsetHeight,D=n.isWidth;if(!p)return;if(v){var _=t.state.is3d,z=n.startOffsetMatrix,O=n.startTransformOrigin,R=_?4:3,P=we(un(r)),k=Math.sqrt(P.length);R!==k&&(P=nr(P,k,R));var I=Re(z,P,O,R),L=Pr(I,C,w,R);n.startPositions=L,n.nextTargetMatrix=P,n.nextAllMatrix=I}var G=kr(t.props,"resizable"),W=G.resizeFormat,N=G.throttleResize,B=N===void 0?a?0:1:N,X=G.parentMoveable,U=G.keepRatioFinally,j=n.direction,$=j,V=0,K=0;!j[0]&&!j[1]&&($=[1,1]);var Q=S&&(o??G.keepRatio)||!1;function ot(){var ut=n.fixedDirection,ft=Js($,Q,n,r);V=ft.distWidth,K=ft.distHeight;var Et=$[0]-ut[0]||Q?Math.max(C+V,Ft):C,vt=$[1]-ut[1]||Q?Math.max(w+K,Ft):w;return Q&&C&&w&&(D?vt=Et/S:Et=vt*S),[Et,vt]}var pt=T(ot(),2),q=pt[0],J=pt[1];c||(n.setFixedDirection(n.fixedDirection),Z(t,"onBeforeResize",lt(t,r,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(ut){var ft;return n.setFixedDirection(ut),ft=T(ot(),2),q=ft[0],J=ft[1],[q,J]},setFixedPosition:function(ut){var ft;return n.setFixedPosition(ut),ft=T(ot(),2),q=ft[0],J=ft[1],[q,J]},boundingWidth:q,boundingHeight:J,setSize:function(ut){var ft;ft=T(ut,2),q=ft[0],J=ft[1]}},!0)));var gt=s;s||(!a&&i?gt=Oc(t,[0,0]):gt=n.fixedPosition);var at=[0,0];i||(at=_d(t,q,J,j,gt,!f&&l,n)),u&&(!u[0]&&(at[0]=0),!u[1]&&(at[1]=0));function st(){var ut;W&&(ut=T(W([q,J]),2),q=ut[0],J=ut[1]),q=it(q,B),J=it(J,B)}if(Q){$[0]&&$[1]&&at[0]&&at[1]&&(A(at[0])>A(at[1])?at[1]=0:at[0]=0);var dt=!at[0]&&!at[1];dt&&st(),$[0]&&!$[1]||at[0]&&!at[1]||dt&&D?(q+=at[0],J=q/S):(!$[0]&&$[1]||!at[0]&&at[1]||dt&&!D)&&(J+=at[1],q=J*S)}else q+=at[0],J+=at[1],q=Math.max(0,q),J=Math.max(0,J);e=T(Xi([q,J],x,E,Q?S:!1),2),q=e[0],J=e[1],st(),Q&&(d||U)&&(D?J=q/S:q=J*S),V=q-C,K=J-w;var bt=[V-b,K-y];n.prevWidth=V,n.prevHeight=K;var yt=Tc(t,q,J,gt,h,n);if(!(!X&&bt.every(function(ut){return!ut})&&yt.every(function(ut){return!ut}))){var ct=Nt.drag(t,Me(r,t.state,yt,!!i,!1,"draggable")),mt=ct.transform,Ct=g+V,F=m+K,et=lt(t,r,M({width:Ct,height:F,offsetWidth:Math.round(q),offsetHeight:Math.round(J),startRatio:S,boundingWidth:q,boundingHeight:J,direction:j,dist:[V,K],delta:bt,isPinch:!!i,drag:ct},qs({style:{width:"".concat(Ct,"px"),height:"".concat(F,"px")},transform:mt},ct,r)));return!c&&Z(t,"onResize",et),et}},dragControlAfter:function(t,r){var e=r.datas,n=e.isResize,a=e.startOffsetWidth,i=e.startOffsetHeight,o=e.prevWidth,s=e.prevHeight;if(!(!n||t.props.checkResizableError===!1)){var u=t.state,f=u.width,l=u.height,d=f-(a+o),c=l-(i+s),v=A(d)>3,p=A(c)>3;if(v&&(e.startWidth+=d,e.startOffsetWidth+=d,e.prevWidth+=d),p&&(e.startHeight+=c,e.startOffsetHeight+=c,e.prevHeight+=c),v||p)return this.dragControl(t,r)}},dragControlEnd:function(t,r){var e=r.datas,n=r.parentEvent;if(e.isResize){e.isResize=!1;var a=Ut(t,r,{});return!n&&Z(t,"onResizeEnd",a),a}},dragGroupControlCondition:ws,dragGroupControlStart:function(t,r){var e=r.datas,n=this.dragControlStart(t,M(M({},r),{isGroup:!0}));if(!n)return!1;var a=ar(t,"resizable",r),i=e.startOffsetWidth,o=e.startOffsetHeight;function s(){var v=e.minSize;a.forEach(function(p){var h=p.datas,g=h.minSize,m=h.startOffsetWidth,b=h.startOffsetHeight,y=i*(m?g[0]/m:0),x=o*(b?g[1]/b:0);v[0]=Math.max(v[0],y),v[1]=Math.max(v[1],x)})}function u(){var v=e.maxSize;a.forEach(function(p){var h=p.datas,g=h.maxSize,m=h.startOffsetWidth,b=h.startOffsetHeight,y=i*(m?g[0]/m:0),x=o*(b?g[1]/b:0);v[0]=Math.min(v[0],y),v[1]=Math.min(v[1],x)})}var f=hr(t,this,"dragControlStart",r,function(v,p){return cn(t,v,e,p)});s(),u();var l=function(v){n.setFixedDirection(v),f.forEach(function(p,h){p.setFixedDirection(v),cn(t,p.moveable,e,a[h])})};e.setFixedDirection=l;var d=M(M({},n),{targets:t.props.targets,events:f.map(function(v){return M(M({},v),{setMin:function(p){v.setMin(p),s()},setMax:function(p){v.setMax(p),u()}})}),setFixedDirection:l,setMin:function(v){n.setMin(v),s()},setMax:function(v){n.setMax(v),u()}}),c=Z(t,"onResizeGroupStart",d);return e.isResize=c!==!1,e.isResize?n:!1},dragGroupControl:function(t,r){var e=r.datas;if(e.isResize){var n=kr(t.props,"resizable");wn(t,"onBeforeResize",function(v){Z(t,"onBeforeResizeGroup",lt(t,r,M(M({},v),{targets:n.targets}),!0))});var a=this.dragControl(t,M(M({},r),{isGroup:!0}));if(a){var i=a.boundingWidth,o=a.boundingHeight,s=a.dist,u=n.keepRatio,f=[i/(i-s[0]),o/(o-s[1])],l=e.fixedPosition,d=hr(t,this,"dragControl",r,function(v,p){var h=T(Gt(Se(t.rotation/180*Math.PI,3),[p.datas.originalX*f[0],p.datas.originalY*f[1],1],3),2),g=h[0],m=h[1];return M(M({},p),{parentDist:null,parentScale:f,dragClient:ht(l,[g,m]),parentKeepRatio:u})}),c=M({targets:n.targets,events:d},a);return Z(t,"onResizeGroup",c),c}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isResize){this.dragControlEnd(t,r);var a=hr(t,this,"dragControlEnd",r),i=Ut(t,r,{targets:t.props.targets,events:a});return Z(t,"onResizeGroupEnd",i),e}},request:function(t){var r={},e=0,n=0,a=!1,i=t.getRect();return{isControl:!0,requestStart:function(o){var s;return a=o.useSnap,{datas:r,parentDirection:o.direction||[1,1],parentIsWidth:(s=o==null?void 0:o.horizontal)!==null&&s!==void 0?s:!0,useSnap:a}},request:function(o){return"offsetWidth"in o?e=o.offsetWidth-i.offsetWidth:"deltaWidth"in o&&(e+=o.deltaWidth),"offsetHeight"in o?n=o.offsetHeight-i.offsetHeight:"deltaHeight"in o&&(n+=o.deltaHeight),{datas:r,parentDist:[e,n],parentKeepRatio:o.keepRatio,useSnap:a}},requestEnd:function(){return{datas:r,isDrag:!0,useSnap:a}}}},unset:function(t){t.state.gestos.resizable=null}};function Ga(t,r,e,n,a){var i=t.props.groupable,o=t.state,s=o.is3d?4:3,u=r.origin,f=Dt(t.state.rootMatrix,rt([u[0],u[1]],i?[0,0]:[o.left,o.top]),s),l=ht([a.left,a.top],f);r.startAbsoluteOrigin=l,r.prevDeg=Mt(l,[e,n])/Math.PI*180,r.defaultDeg=r.prevDeg,r.prevSnapDeg=0,r.loop=0,r.startDist=pr(l,[e,n])}function mn(t,r,e){var n=e.defaultDeg,a=e.prevDeg,i=a%360,o=Math.floor(a/360);i<0&&(i+=360),i>t&&i>270&&t<90?++o:i<t&&i<90&&t>270&&--o;var s=r*(o*360+t-n);return e.prevDeg=n+s,s}function Aa(t,r,e,n){return mn(Mt(n.startAbsoluteOrigin,[t,r])/Math.PI*180,e,n)}function Fa(t,r,e,n,a,i){var o=t.props.throttleRotate,s=o===void 0?0:o,u=e.prevSnapDeg,f=0,l=!1;if(i){var d=wd(t,r,n,a+n);l=d.isSnap,f=a+d.dist}l||(f=it(a+n,s));var c=f-a;return e.prevSnapDeg=c,[c-u,c,f]}function _s(t,r,e){var n=T(r,4),a=n[0],i=n[1],o=n[2],s=n[3];if(t==="none")return[];if(Tt(t))return t.map(function(g){return _s(g,[a,i,o,s],e)[0]});var u=T((t||"top").split("-"),2),f=u[0],l=u[1],d=[a,i];f==="left"?d=[o,a]:f==="right"?d=[i,s]:f==="bottom"&&(d=[s,o]);var c=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2],v=Ws(d,e);if(l){var p=l==="top"||l==="left",h=f==="bottom"||f==="left";c=d[p&&!h||!p&&h?0:1]}return[[c,v]]}function Na(t,r){if(r.isRequest)return r.requestAble==="rotatable";var e=r.inputEvent.target;if(zt(e,tt("rotation-control"))||t.props.rotateAroundControls&&zt(e,tt("around-control"))||zt(e,tt("control"))&&zt(e,tt("rotatable")))return!0;var n=t.props.rotationTarget;return n?Ja(n,!0).some(function(a){return a?e===a||e.contains(a):!1}):!1}var fd=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,ld={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[fd],viewClassName:function(t){return t.isDragging("rotatable")?tt("view-rotation-dragging"):""},render:function(t,r){var e=kr(t.props,"rotatable"),n=e.rotatable,a=e.rotationPosition,i=e.zoom,o=e.renderDirections,s=e.rotateAroundControls,u=e.resolveAblesWithRotatable,f=t.getState(),l=f.renderPoses,d=f.direction;if(!n)return null;var c=_s(a,l,d),v=[];if(c.forEach(function(m,b){var y=T(m,2),x=y[0],E=y[1];v.push(r.createElement("div",{key:"rotation".concat(b),className:tt("rotation"),style:{transform:"translate(-50%) translate(".concat(x[0],"px, ").concat(x[1],"px) rotate(").concat(E,"rad)")}},r.createElement("div",{className:tt("line rotation-line"),style:{transform:"scaleX(".concat(i,")")}}),r.createElement("div",{className:tt("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(i,")")}})))}),o){var p=vr(u||{}),h={};p.forEach(function(m){u[m].forEach(function(b){h[b]=m})});var g=[];Tt(o)&&(g=o.map(function(m){var b=h[m];return{data:b?{resolve:b}:{},classNames:b?["move"]:[],dir:m}})),v.push.apply(v,Y([],T(Zo(t,"rotatable",g,r)),!1))}return s&&v.push.apply(v,Y([],T(es(t,r)),!1)),v},dragControlCondition:Na,dragControlStart:function(t,r){var e,n,a=r.datas,i=r.clientX,o=r.clientY,s=r.parentRotate,u=r.parentFlag,f=r.isPinch,l=r.isRequest,d=t.state,c=d.target,v=d.left,p=d.top,h=d.direction,g=d.beforeDirection,m=d.targetTransform,b=d.moveableClientRect,y=d.offsetMatrix,x=d.targetMatrix,E=d.allMatrix,S=d.width,C=d.height;if(!l&&!c)return!1;var w=t.getRect();a.rect=w,a.transform=m,a.left=v,a.top=p;var D=function($){var V=Es(t.state,$);a.fixedDirection=V.fixedDirection,a.fixedOffset=V.fixedOffset,a.fixedPosition=V.fixedPosition,B&&B.setFixedPosition($)},_=function($){var V=ud(t.state,$);a.fixedDirection=V.fixedDirection,a.fixedOffset=V.fixedOffset,a.fixedPosition=V.fixedPosition,B&&B.setFixedDirection($)},z=i,O=o;if(l||f||u){var R=s||0;a.beforeInfo={origin:w.beforeOrigin,prevDeg:R,defaultDeg:R,prevSnapDeg:0,startDist:0},a.afterInfo=M(M({},a.beforeInfo),{origin:w.origin}),a.absoluteInfo=M(M({},a.beforeInfo),{origin:w.origin,startValue:R})}else{var P=(n=r.inputEvent)===null||n===void 0?void 0:n.target;if(P){var k=P.getAttribute("data-direction")||"",I=gc[k];if(I){a.isControl=!0,a.isAroundControl=zt(P,tt("around-control")),a.controlDirection=I;var L=P.getAttribute("data-resolve");L&&(a.resolveAble=L);var G=Nd(d.rootMatrix,d.renderPoses,b);e=T(kt(G,I),2),z=e[0],O=e[1]}}a.beforeInfo={origin:w.beforeOrigin},a.afterInfo={origin:w.origin},a.absoluteInfo={origin:w.origin,startValue:w.rotation};var W=D;D=function($){var V=d.is3d?4:3,K=T(ht(_o(x,V),$),2),Q=K[0],ot=K[1],pt=Gt(y,Dr([Q,ot],V)),q=Gt(E,Dr([$[0],$[1]],V));W($);var J=d.posDelta;a.beforeInfo.origin=rt(pt,J),a.afterInfo.origin=rt(q,J),a.absoluteInfo.origin=rt(q,J),Ga(t,a.beforeInfo,z,O,b),Ga(t,a.afterInfo,z,O,b),Ga(t,a.absoluteInfo,z,O,b)},_=function($){var V=kt([[0,0],[S,0],[0,C],[S,C]],$);D(V)}}a.startClientX=z,a.startClientY=O,a.direction=h,a.beforeDirection=g,a.startValue=0,a.datas={},sn(t,r,"rotate");var N=!1,B=!1;if(a.isControl&&a.resolveAble){var X=a.resolveAble;X==="resizable"&&(B=Ba.dragControlStart(t,M(M({},new Ur("resizable").dragStart([0,0],r)),{parentPosition:a.controlPosition,parentFixedPosition:a.fixedPosition})))}B||(N=Nt.dragStart(t,new Ur().dragStart([0,0],r))),D(Ld(t));var U=lt(t,r,M(M({set:function($){a.startValue=$*Math.PI/180},setFixedDirection:_,setFixedPosition:D},on(t,r)),{dragStart:N,resizeStart:B})),j=Z(t,"onRotateStart",U);return a.isRotate=j!==!1,d.snapRenderInfo={request:r.isRequest},a.isRotate?U:!1},dragControl:function(t,r){var e,n,a,i=r.datas,o=r.clientDistX,s=r.clientDistY,u=r.parentRotate,f=r.parentFlag,l=r.isPinch,d=r.groupDelta,c=r.resolveMatrix,v=i.beforeDirection,p=i.beforeInfo,h=i.afterInfo,g=i.absoluteInfo,m=i.isRotate,b=i.startValue,y=i.rect,x=i.startClientX,E=i.startClientY;if(m){nn(t,r,"rotate");var S=mc(r),C=v*S,w=t.props.parentMoveable,D=0,_,z,O=0,R,P,k=0,I,L,G=180/Math.PI*b,W=g.startValue,N=!1,B=x+o,X=E+s;if(!f&&"parentDist"in r){var U=r.parentDist;_=U,R=U,I=U}else l||f?(_=mn(u,v,p),R=mn(u,C,h),I=mn(u,C,g)):(_=Aa(B,X,v,p),R=Aa(B,X,C,h),I=Aa(B,X,C,g),N=!0);if(z=G+_,P=G+R,L=W+I,Z(t,"onBeforeRotate",lt(t,r,{beforeRotation:z,rotation:P,absoluteRotation:L,setRotation:function(gt){R=gt-G,_=R,I=R}},!0)),e=T(Fa(t,y,p,_,G,N),3),D=e[0],_=e[1],z=e[2],n=T(Fa(t,y,h,R,G,N),3),O=n[0],R=n[1],P=n[2],a=T(Fa(t,y,g,I,W,N),3),k=a[0],I=a[1],L=a[2],!(!k&&!O&&!D&&!w&&!c)){var j=an(i,"rotate(".concat(P,"deg)"),"rotate(".concat(R,"deg)"));c&&(i.fixedPosition=Da(t,i.targetAllTransform,i.fixedDirection,i.fixedOffset,i));var $=Rc(t,R,i),V=rt(ht(d||[0,0],$),i.prevInverseDist||[0,0]);i.prevInverseDist=$,i.requestValue=null;var K=$o(t,j,V,l,r),Q=K,ot=pr([B,X],g.startAbsoluteOrigin)-g.startDist,pt=void 0;if(i.resolveAble==="resizable"){var q=Ba.dragControl(t,M(M({},Me(r,t.state,[r.deltaX,r.deltaY],!!l,!1,"resizable")),{resolveMatrix:!0,parentDistance:ot}));q&&(pt=q,Q=qs(Q,q,r))}var J=lt(t,r,M(M({delta:O,dist:R,rotate:P,rotation:P,beforeDist:_,beforeDelta:D,beforeRotate:z,beforeRotation:z,absoluteDist:I,absoluteDelta:k,absoluteRotate:L,absoluteRotation:L,isPinch:!!l,resize:pt},K),Q));return Z(t,"onRotate",J),J}}},dragControlEnd:function(t,r){var e=r.datas;if(e.isRotate){e.isRotate=!1;var n=Ut(t,r,{});return Z(t,"onRotateEnd",n),n}},dragGroupControlCondition:Na,dragGroupControlStart:function(t,r){var e=r.datas,n=t.state,a=n.left,i=n.top,o=n.beforeOrigin,s=this.dragControlStart(t,r);if(!s)return!1;s.set(e.beforeDirection*t.rotation);var u=hr(t,this,"dragControlStart",r,function(d,c){var v=d.state,p=v.left,h=v.top,g=v.beforeOrigin,m=ht(rt([p,h],[a,i]),rt(g,o));return c.datas.startGroupClient=m,c.datas.groupClient=m,M(M({},c),{parentRotate:0})}),f=M(M({},s),{targets:t.props.targets,events:u}),l=Z(t,"onRotateGroupStart",f);return e.isRotate=l!==!1,e.isRotate?s:!1},dragGroupControl:function(t,r){var e=r.datas;if(e.isRotate){wn(t,"onBeforeRotate",function(f){Z(t,"onBeforeRotateGroup",lt(t,r,M(M({},f),{targets:t.props.targets}),!0))});var n=this.dragControl(t,r);if(n){var a=e.beforeDirection,i=n.beforeDist,o=i/180*Math.PI,s=hr(t,this,"dragControl",r,function(f,l){var d=l.datas.startGroupClient,c=T(l.datas.groupClient,2),v=c[0],p=c[1],h=T(xe(d,o*a),2),g=h[0],m=h[1],b=[g-v,m-p];return l.datas.groupClient=[g,m],M(M({},l),{parentRotate:i,groupDelta:b})});t.rotation=a*n.beforeRotation;var u=M({targets:t.props.targets,events:s,set:function(f){t.rotation=f},setGroupRotation:function(f){t.rotation=f}},n);return Z(t,"onRotateGroup",u),u}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isRotate){this.dragControlEnd(t,r);var a=hr(t,this,"dragControlEnd",r),i=Ut(t,r,{targets:t.props.targets,events:a});return Z(t,"onRotateGroupEnd",i),e}},request:function(t){var r={},e=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:r}},request:function(a){return"deltaRotate"in a?e+=a.deltaRotate:"rotate"in a&&(e=a.rotate-n),{datas:r,parentDist:e}},requestEnd:function(){return{datas:r,isDrag:!0}}}}};function cd(t,r){var e,n=t.direction,a=t.classNames,i=t.size,o=t.pos,s=t.zoom,u=t.key,f=n==="horizontal",l=f?"Y":"X";return r.createElement("div",{key:u,className:a.join(" "),style:(e={},e[f?"width":"height"]="".concat(i),e.transform="translate(".concat(o[0],", ").concat(o[1],") translate").concat(l,"(-50%) scale").concat(l,"(").concat(s,")"),e)})}function La(t,r){return cd(M(M({},t),{classNames:Y([tt("line","guideline",t.direction)],T(t.classNames),!1).filter(function(e){return e}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(e){return"".concat(it(e,.1),"px")})}),r)}function Cs(t,r,e,n,a,i,o,s){var u=t.props.zoom;return e.map(function(f,l){var d=f.type,c=f.pos,v=[0,0];return v[o]=n,v[o?0:1]=-a+c,La({key:"".concat(r,"TargetGuideline").concat(l),classNames:[tt("target","bold",d)],posValue:v,sizeValue:i,zoom:u,direction:r},s)})}function Ds(t,r,e,n,a,i){var o=t.props,s=o.zoom,u=o.isDisplayInnerSnapDigit,f=r==="horizontal"?xr:Sr,l=a[f.start],d=a[f.end];return e.filter(function(c){var v=c.hide,p=c.elementRect;if(v)return!1;if(u&&p){var h=p.rect;if(h[f.start]<=l&&d<=h[f.end])return!1}return!0}).map(function(c,v){var p=c.pos,h=c.size,g=c.element,m=c.className,b=[-n[0]+p[0],-n[1]+p[1]];return La({key:"".concat(r,"-default-guideline-").concat(v),classNames:g?[tt("bold"),m]:[tt("normal"),m],direction:r,posValue:b,sizeValue:h,zoom:s},i)})}function Oe(t,r,e,n,a,i,o,s){var u,f=t.props,l=f.snapDigit,d=l===void 0?0:l,c=f.isDisplaySnapDigit,v=c===void 0?!0:c,p=f.snapDistFormat,h=p===void 0?function(E,S){return E}:p,g=f.zoom,m=r==="horizontal"?"X":"Y",b=r==="vertical"?"height":"width",y=Math.abs(a),x=v?parseFloat(y.toFixed(d)):0;return s.createElement("div",{key:"".concat(r,"-").concat(e,"-guideline-").concat(n),className:tt("guideline-group",r),style:(u={left:"".concat(i[0],"px"),top:"".concat(i[1],"px")},u[b]="".concat(y,"px"),u)},La({direction:r,classNames:[tt(e),o],size:"100%",posValue:[0,0],sizeValue:y,zoom:g},s),s.createElement("div",{className:tt("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(g,")")}},x>0?h(x,r):""))}function dd(t,r,e,n){var a=t==="vertical"?0:1,i=t==="vertical"?1:0,o=a?xr:Sr,s=e[o.start],u=e[o.end];return js(r,function(f){return f.pos[a]}).map(function(f){var l=[],d=[],c=[];return f.forEach(function(v){var p,h,g=v.element,m=v.elementRect.rect;if(m[o.end]<s)l.push(v);else if(u<m[o.start])d.push(v);else if(m[o.start]<=s&&u<=m[o.end]&&n){var b=v.pos,y={element:g,rect:M(M({},m),(p={},p[o.end]=m[o.start],p))},x={element:g,rect:M(M({},m),(h={},h[o.start]=m[o.end],h))},E=[0,0],S=[0,0];E[a]=b[a],E[i]=b[i],S[a]=b[a],S[i]=b[i]+v.size,l.push({type:t,pos:E,size:0,elementRect:y,direction:"",elementDirection:"end"}),d.push({type:t,pos:S,size:0,elementRect:x,direction:"",elementDirection:"start"})}}),l.sort(function(v,p){return p.pos[i]-v.pos[i]}),d.sort(function(v,p){return v.pos[i]-p.pos[i]}),{total:f,start:l,end:d,inner:c}})}function vd(t,r,e,n,a){var i=t.props.isDisplayInnerSnapDigit,o=[];return["vertical","horizontal"].forEach(function(s){var u=r.filter(function(g){return g.type===s}),f=s==="vertical"?1:0,l=f?0:1,d=dd(s,u,n,i),c=f?Sr:xr,v=f?xr:Sr,p=n[c.start],h=n[c.end];d.forEach(function(g){var m=g.total,b=g.start,y=g.end,x=g.inner,E=e[l]+m[0].pos[l]-n[v.start],S=n;b.forEach(function(C){var w=C.elementRect.rect,D=S[c.start]-w[c.end];if(D>0){var _=[0,0];_[f]=e[f]+S[c.start]-p-D,_[l]=E,o.push(Oe(t,s,"dashed",o.length,D,_,C.className,a))}S=w}),S=n,y.forEach(function(C){var w=C.elementRect.rect,D=w[c.start]-S[c.end];if(D>0){var _=[0,0];_[f]=e[f]+S[c.end]-p,_[l]=E,o.push(Oe(t,s,"dashed",o.length,D,_,C.className,a))}S=w}),x.forEach(function(C){var w=C.elementRect.rect,D=p-w[c.start],_=w[c.end]-h,z=[0,0],O=[0,0];z[f]=e[f]-D,z[l]=E,O[f]=e[f]+h-p,O[l]=E,o.push(Oe(t,s,"dashed",o.length,D,z,C.className,a)),o.push(Oe(t,s,"dashed",o.length,_,O,C.className,a))})})}),o}function pd(t,r,e,n,a){var i=[];return["horizontal","vertical"].forEach(function(o){var s=r.filter(function(g){return g.type===o}).slice(0,1),u=o==="vertical"?0:1,f=u?0:1,l=u?Sr:xr,d=u?xr:Sr,c=n[l.start],v=n[l.end],p=n[d.start],h=n[d.end];s.forEach(function(g){var m=g.gap,b=g.gapRects,y=Math.max.apply(Math,Y([p],T(b.map(function(S){var C=S.rect;return C[d.start]})),!1)),x=Math.min.apply(Math,Y([h],T(b.map(function(S){var C=S.rect;return C[d.end]})),!1)),E=(y+x)/2;y===x||E===(p+h)/2||b.forEach(function(S){var C=S.rect,w=S.className,D=[e[0],e[1]];if(C[l.end]<c)D[u]+=C[l.end]-c;else if(v<C[l.start])D[u]+=C[l.start]-c-m;else return;D[f]+=E-p,i.push(Oe(t,u?"vertical":"horizontal","gap",i.length,m,D,w,a))})})}),i}function Wa(t){var r,e,n=t.state,a=n.containerClientRect,i=n.hasFixed,o=a.overflow,s=a.scrollHeight,u=a.scrollWidth,f=a.clientHeight,l=a.clientWidth,d=a.clientLeft,c=a.clientTop,v=t.props,p=v.snapGap,h=p===void 0?!0:p,g=v.verticalGuidelines,m=v.horizontalGuidelines,b=v.snapThreshold,y=b===void 0?5:b,x=v.maxSnapElementGuidelineDistance,E=x===void 0?1/0:x,S=v.isDisplayGridGuidelines,C=Zt(Qt(t.state)),w=C.top,D=C.left,_=C.bottom,z=C.right,O={top:w,left:D,bottom:_,right:z,center:(D+z)/2,middle:(w+_)/2},R=bd(t),P=Y([],T(R),!1),k=((e=(r=n.snapThresholdInfo)===null||r===void 0?void 0:r.multiples)!==null&&e!==void 0?e:[1,1]).map(function(W){return W*y});h&&P.push.apply(P,Y([],T(hd(t,O,k)),!1));var I=M({},n.snapOffset||{left:0,top:0,bottom:0,right:0});if(P.push.apply(P,Y([],T(md(t,o?u:l,o?s:f,d,c,I,S)),!1)),i){var L=a.left,G=a.top;I.left+=L,I.top+=G,I.right+=L,I.bottom+=G}return P.push.apply(P,Y([],T(Ts(m||!1,g||!1,o?u:l,o?s:f,d,c,I)),!1)),P=P.filter(function(W){var N=W.element,B=W.elementRect,X=W.type;if(!N||!B)return!0;var U=B.rect;return Ms(O,U,X,E)}),P}function hd(t,r,e){var n=t.props,a=n.maxSnapElementGuidelineDistance,i=a===void 0?1/0:a,o=n.maxSnapElementGapDistance,s=o===void 0?1/0:o,u=t.state.elementRects,f=[];return[["vertical",xr,Sr],["horizontal",Sr,xr]].forEach(function(l){var d=T(l,3),c=d[0],v=d[1],p=d[2],h=r[v.start],g=r[v.end],m=r[v.center],b=r[p.start],y=r[p.end],x={left:e[0],top:e[1]};function E(w){var D=w.rect,_=x[v.start];return D[v.end]<h+_?h-D[v.end]:g-_<D[v.start]?D[v.start]-g:-1}var S=u.filter(function(w){var D=w.rect;return D[p.start]>y||D[p.end]<b?!1:E(w)>0}).sort(function(w,D){return E(w)-E(D)}),C=[];S.forEach(function(w){S.forEach(function(D){if(w!==D){var _=w.rect,z=D.rect,O=_[p.start],R=_[p.end],P=z[p.start],k=z[p.end];O>k||P>R||C.push([w,D])}})}),C.forEach(function(w){var D=T(w,2),_=D[0],z=D[1],O=_.rect,R=z.rect,P=O[v.start],k=O[v.end],I=R[v.start],L=R[v.end],G=x[v.start],W=0,N=0,B=!1,X=!1,U=!1;if(k<=h&&g<=I){if(X=!0,W=(I-k-(g-h))/2,N=k+W+(g-h)/2,A(N-m)>G)return}else if(k<I&&L<h+G){if(B=!0,W=I-k,N=L+W,A(N-h)>G)return}else if(k<I&&g-G<P){if(U=!0,W=I-k,N=P-W,A(N-g)>G)return}else return;W&&Ms(r,R,c,i)&&(W>s||f.push({type:c,pos:c==="vertical"?[N,0]:[0,N],element:z.element,size:0,className:z.className,isStart:B,isCenter:X,isEnd:U,gap:W,hide:!0,gapRects:[_,z],direction:"",elementDirection:""}))})}),f}function gd(t,r,e,n){var a,i,o=t.props,s=t.state,u=o.snapGridAll,f=o.snapGridWidth,l=f===void 0?0:f,d=o.snapGridHeight,c=d===void 0?0:d,v=s.snapRenderInfo,p=v&&(((a=v.direction)===null||a===void 0?void 0:a[0])||((i=v.direction)===null||i===void 0?void 0:i[1])),h=t.moveables;if(u&&h&&p&&(l||c)){if(s.snapThresholdInfo)return;s.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var g=t.getRect(),m=g.children,b=v.direction;if(m){var y=b.map(function(E,S){var C=S===0?{snapSize:l,posName:"left",sizeName:"width",clientOffset:n.left-r}:{snapSize:c,posName:"top",sizeName:"height",clientOffset:n.top-e},w=C.snapSize,D=C.posName,_=C.sizeName,z=C.clientOffset;if(!w)return{dir:E,multiple:1,snapSize:w,snapOffset:0};var O=g[_],R=g[D],P=ji(m.map(function(B){return[B[D]-R,B[_],O-B[_]-B[D]+R]})).filter(function(B){return B}).sort(function(B,X){return B-X}),k=P[0],I=P.map(function(B){return it(B/k,.1)*w}),L=1,G=it(O/k,.1);for(L=1;L<=10&&!I.every(function(B){return B*L%1===0});++L);var W=(-E+1)/2,N=Xe(R-z,R-z+O,W,1-W);return{multiple:G*L,dir:E,snapSize:w,snapOffset:Math.round(N/w)}}),x=y.map(function(E){return E.multiple||1});s.snapThresholdInfo.multiples=x,s.snapThresholdInfo.offset=y.map(function(E){return E.snapOffset}),y.forEach(function(E,S){E.snapSize})}}else s.snapThresholdInfo=null}function md(t,r,e,n,a,i,o){n===void 0&&(n=0),a===void 0&&(a=0);var s=t.props,u=t.state,f=s.snapGridWidth,l=f===void 0?0:f,d=s.snapGridHeight,c=d===void 0?0:d,v=[],p=i.left,h=i.top,g=[0,0];gd(t,n,a,i);var m=u.snapThresholdInfo,b=l,y=c;if(m&&(l*=m.multiples[0]||1,c*=m.multiples[1]||1,g=m.offset),c){for(var x=function(S){v.push({type:"horizontal",pos:[p,it(g[1]*y+S-a+h,.1)],className:tt("grid-guideline"),size:r,hide:!o,direction:"",grid:!0})},E=0;E<=e*2;E+=c)x(E);for(var E=-c;E>=-e;E-=c)x(E)}if(l){for(var x=function(C){v.push({type:"vertical",pos:[it(g[0]*b+C-n+p,.1),h],className:tt("grid-guideline"),size:e,hide:!o,direction:"",grid:!0})},E=0;E<=r*2;E+=l)x(E);for(var E=-l;E>=-r;E-=l)x(E)}return v}function Ms(t,r,e,n){return e==="horizontal"?A(t.right-r.left)<=n||A(t.left-r.right)<=n||t.left<=r.right&&r.left<=t.right:e==="vertical"?A(t.bottom-r.top)<=n||A(t.top-r.bottom)<=n||t.top<=r.bottom&&r.top<=t.bottom:!0}function bd(t){var r=t.state,e=t.props.elementGuidelines,n=e===void 0?[]:e;if(!n.length)return r.elementRects=[],[];var a=(r.elementRects||[]).filter(function(c){return!c.refresh}),i=n.map(function(c){return rr(c)&&"element"in c?M(M({},c),{element:fr(c.element,!0)}):{element:fr(c,!0)}}).filter(function(c){return c.element}),o=Rl(a.map(function(c){return c.element}),i.map(function(c){return c.element})),s=o.maintained,u=o.added,f=[];s.forEach(function(c){var v=T(c,2),p=v[0],h=v[1];f[h]=a[p]}),yd(t,u.map(function(c){return i[c]})).map(function(c,v){f[u[v]]=c}),r.elementRects=f;var l=Ta(t.props.elementSnapDirections),d=[];return f.forEach(function(c){var v=c.element,p=c.top,h=p===void 0?l.top:p,g=c.left,m=g===void 0?l.left:g,b=c.right,y=b===void 0?l.right:b,x=c.bottom,E=x===void 0?l.bottom:x,S=c.center,C=S===void 0?l.center:S,w=c.middle,D=w===void 0?l.middle:w,_=c.className,z=c.rect,O=Oa({top:h,right:y,left:m,bottom:E,center:C,middle:D},z),R=O.horizontal,P=O.vertical,k=O.horizontalNames,I=O.verticalNames,L=z.top,G=z.left,W=z.right-G,N=z.bottom-L,B=[W,N];P.forEach(function(X,U){d.push({type:"vertical",element:v,pos:[it(X,.1),L],size:N,sizes:B,className:_,elementRect:c,elementDirection:is[I[U]]||I[U],direction:""})}),R.forEach(function(X,U){d.push({type:"horizontal",element:v,pos:[G,it(X,.1)],size:W,sizes:B,className:_,elementRect:c,elementDirection:is[k[U]]||k[U],direction:""})})}),d}function Rs(t,r){return t?t.map(function(e){var n=rr(e)?e:{pos:e},a=n.pos;return Hr(a)?n:M(M({},n),{pos:xt(a,r)})}):[]}function Ts(t,r,e,n,a,i,o){a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o={left:0,top:0,right:0,bottom:0});var s=[],u=o.left,f=o.top,l=o.bottom,d=o.right,c=e+d-u,v=n+l-f;return Rs(t,v).forEach(function(p){s.push({type:"horizontal",pos:[u,it(p.pos-i+f,.1)],size:c,className:p.className,direction:""})}),Rs(r,c).forEach(function(p){s.push({type:"vertical",pos:[it(p.pos-a+u,.1),f],size:v,className:p.className,direction:""})}),s}function yd(t,r){if(!r.length)return[];var e=t.props.groupable,n=t.state,a=n.containerClientRect,i=n.rootMatrix,o=n.is3d,s=n.offsetDelta,u=o?4:3,f=T(Yc(i,a,u),2),l=f[0],d=f[1],c=e?0:s[0],v=e?0:s[1];return r.map(function(p){var h=p.element.getBoundingClientRect(),g=h.left-l-c,m=h.top-d-v,b=m+h.height,y=g+h.width,x=T(ae(i,[g,m],u),2),E=x[0],S=x[1],C=T(ae(i,[y,b],u),2),w=C[0],D=C[1];return M(M({},p),{rect:{left:E,right:w,top:S,bottom:D,center:(E+w)/2,middle:(S+D)/2}})})}function bn(t){var r=t.state,e=r.container,n=t.props.snapContainer||e;if(r.snapContainer===n&&r.guidelines&&r.guidelines.length)return!1;var a=r.containerClientRect,i={left:0,top:0,bottom:0,right:0};if(e!==n){var o=fr(n,!0);if(o){var s=Be(o),u=Ks(r,[s.left-a.left,s.top-a.top]),f=Ks(r,[s.right-a.right,s.bottom-a.bottom]);i.left=it(u[0],1e-5),i.top=it(u[1],1e-5),i.right=it(f[0],1e-5),i.bottom=it(f[1],1e-5)}}return r.snapContainer=n,r.snapOffset=i,r.guidelines=Wa(t),r.enableSnap=!0,!0}function Os(t,r,e,n,a,i){var o=Pr(t,r,e,i?4:3),s=kt(o,n);return Va(o,rt(a,s))}function zs(t){return t?t/A(t):0}function xd(t,r,e,n,a,i){var o=i.fixedDirection,s=jc(e,o,n),u=ka(t,r,e,n),f=Y(Y([],T(id(t,r,s,n,a,i)),!1),T(ms(t,u,i)),!1),l=pn(f,0),d=pn(f,1);return{width:{isBound:l.isBound,offset:l.offset[0]},height:{isBound:d.isBound,offset:d.offset[1]}}}function Sd(t,r,e,n,a,i,o,s,u){var f=kt(r,o),l=gn(t,s,{vertical:[f[0]],horizontal:[f[1]]}),d=l.horizontal.offset,c=l.vertical.offset;if(it(c,xa)||it(d,xa)){var v=T(ur({datas:u,distX:-c,distY:-d}),2),p=v[0],h=v[1],g=Math.min(a||1/0,e+o[0]*p),m=Math.min(i||1/0,n+o[1]*h);return[g-e,m-n]}return[0,0]}function Ps(t,r,e,n,a,i,o,s){for(var u=Qt(t.state),f=t.props.keepRatio,l=0,d=0,c=0;c<2;++c){var v=r(l,d),p=xd(t,v,a,f,o,s),h=p.width,g=p.height,m=h.isBound,b=g.isBound,y=h.offset,x=g.offset;if(c===1&&(m||(y=0),b||(x=0)),c===0&&o&&!m&&!b)return[0,0];if(f){var E=A(y)*(e?1/e:1),S=A(x)*(n?1/n:1),C=m&&b?E<S:b||!m&&E<S;C?y=e*x/n:x=n*y/e}l+=y,d+=x}if(!f&&a[0]&&a[1]){var w=sd(t,u,a,i,s),D=w.maxWidth,_=w.maxHeight,z=T(Sd(t,r(l,d).map(function(P){return P.map(function(k){return it(k,xa)})}),e+l,n+d,D,_,a,o,s),2),y=z[0],x=z[1];l+=y,d+=x}return[l,d]}function ze(t){return t<0&&(t=t%360+360),t%=360,t}function Ed(t,r){r=ze(r);var e=Math.floor(t/360),n=e*360+360-r,a=e*360+r;return A(t-n)<A(t-a)?n:a}function Ha(t,r){t=ze(t),r=ze(r);var e=ze(t-r);return Math.min(e,360-e)}function wd(t,r,e,n){var a,i=t.props,o=(a=i[os])!==null&&a!==void 0?a:5,s=i[ss];if(re(t,"rotatable")){var u=r.pos1,f=r.pos2,l=r.pos3,d=r.pos4,c=r.origin,v=e*Math.PI/180,p=[u,f,l,d].map(function(x){return rt(x,c)}),h=p.map(function(x){return xe(x,v)}),g=Y(Y([],T(Nc(t,p,h,c,e)),!1),T(Qc(t,p,h,c,e)),!1);g.sort(function(x,E){return A(x-e)-A(E-e)});var m=g.length>0;if(m)return{isSnap:m,dist:m?g[0]:e}}if(s!=null&&s.length&&o){var b=s.slice().sort(function(x,E){return Ha(x,n)-Ha(E,n)}),y=b[0];if(Ha(y,n)<=o)return{isSnap:!0,dist:e+Ed(n,y)-n}}return{isSnap:!1,dist:e}}function _d(t,r,e,n,a,i,o){if(!re(t,"resizable"))return[0,0];var s=o.fixedDirection,u=o.nextAllMatrix,f=t.state,l=f.allMatrix,d=f.is3d;return Ps(t,function(c,v){return Os(u||l,r+c,e+v,s,a,d)},r,e,n,a,i,o)}function Cd(t,r,e,n,a){if(!re(t,"scalable"))return[0,0];var i=a.startOffsetWidth,o=a.startOffsetHeight,s=a.fixedPosition,u=a.fixedDirection,f=a.is3d,l=Ps(t,function(d,c){return Os(_c(a,ht(r,[d/i,c/o])),i,o,u,s,f)},i,o,e,s,n,a);return[l[0]/i,l[1]/o]}function Dd(t,r){r.absolutePoses=Qt(t.state)}function ks(t){var r=[];return t.forEach(function(e){e.guidelineInfos.forEach(function(n){var a=n.guideline;Xt(r,function(i){return i.guideline===a})||(a.direction="",r.push({guideline:a,posInfo:e}))})}),r.map(function(e){var n=e.guideline,a=e.posInfo;return M(M({},n),{direction:a.direction})})}function Is(t,r,e,n,a,i){var o=Ra(dn(t,i),r,e),s=o.vertical,u=o.horizontal,f=te();s.forEach(function(p){p.isBound&&(p.direction==="start"&&(f.left=!0),p.direction==="end"&&(f.right=!0),n.push({type:"bounds",pos:p.pos}))}),u.forEach(function(p){p.isBound&&(p.direction==="start"&&(f.top=!0),p.direction==="end"&&(f.bottom=!0),a.push({type:"bounds",pos:p.pos}))});var l=td(t),d=l.boundMap,c=l.vertical,v=l.horizontal;return c.forEach(function(p){dr(n,function(h){var g=h.type,m=h.pos;return g==="bounds"&&m===p})>=0||n.push({type:"bounds",pos:p})}),v.forEach(function(p){dr(a,function(h){var g=h.type,m=h.pos;return g==="bounds"&&m===p})>=0||a.push({type:"bounds",pos:p})}),{boundMap:f,innerBoundMap:d}}var Md=Za("",["resizable","scalable"]),Rd={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",os,ss,us,fs,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(t,r){var e=t.state,n=e.top,a=e.left,i=e.pos1,o=e.pos2,s=e.pos3,u=e.pos4,f=e.snapRenderInfo,l=t.props.snapRenderThreshold,d=l===void 0?1:l;if(!f||!f.render||!re(t,""))return ie(t,"boundMap",te(),function(j){return JSON.stringify(j)}),ie(t,"innerBoundMap",te(),function(j){return JSON.stringify(j)}),[];e.guidelines=Wa(t);var c=Math.min(i[0],o[0],s[0],u[0]),v=Math.min(i[1],o[1],s[1],u[1]),p=f.externalPoses||[],h=Qt(t.state),g=[],m=[],b=[],y=[],x=[],E=Zt(h),S=E.width,C=E.height,w=E.top,D=E.left,_=E.bottom,z=E.right,O={left:D,right:z,top:w,bottom:_,center:(D+z)/2,middle:(w+_)/2},R=p.length>0,P=R?Zt(p):{};if(!f.request){if(f.direction&&x.push(Vc(t,h,f.direction,d,d)),f.snap){var k=Zt(h);f.center&&(k.middle=(k.top+k.bottom)/2,k.center=(k.left+k.right)/2),x.push(cs(t,k,d,d))}R&&(f.center&&(P.middle=(P.top+P.bottom)/2,P.center=(P.left+P.right)/2),x.push(cs(t,P,d,d))),x.forEach(function(j){var $=j.vertical.posInfos,V=j.horizontal.posInfos;g.push.apply(g,Y([],T($.filter(function(K){var Q=K.guidelineInfos;return Q.some(function(ot){var pt=ot.guideline;return!pt.hide})}).map(function(K){return{type:"snap",pos:K.pos}})),!1)),m.push.apply(m,Y([],T(V.filter(function(K){var Q=K.guidelineInfos;return Q.some(function(ot){var pt=ot.guideline;return!pt.hide})}).map(function(K){return{type:"snap",pos:K.pos}})),!1)),b.push.apply(b,Y([],T(ks($)),!1)),y.push.apply(y,Y([],T(ks(V)),!1))})}var I=Is(t,[D,z],[w,_],g,m),L=I.boundMap,G=I.innerBoundMap;R&&Is(t,[P.left,P.right],[P.top,P.bottom],g,m,f.externalBounds);var W=Y(Y([],T(b),!1),T(y),!1),N=W.filter(function(j){return j.element&&!j.gapRects}),B=W.filter(function(j){return j.gapRects}).sort(function(j,$){return j.gap-$.gap});Z(t,"onSnap",{guidelines:W.filter(function(j){var $=j.element;return!$}),elements:N,gaps:B},!0);var X=ie(t,"boundMap",L,function(j){return JSON.stringify(j)},te()),U=ie(t,"innerBoundMap",G,function(j){return JSON.stringify(j)},te());return(L===X||G===U)&&Z(t,"onBound",{bounds:L,innerBounds:G},!0),Y(Y(Y(Y(Y(Y([],T(vd(t,N,[c,v],O,r)),!1),T(pd(t,B,[c,v],O,r)),!1),T(Ds(t,"horizontal",y,[a,n],O,r)),!1),T(Ds(t,"vertical",b,[a,n],O,r)),!1),T(Cs(t,"horizontal",m,c,n,S,0,r)),!1),T(Cs(t,"vertical",g,v,a,C,1,r)),!1)},dragStart:function(t,r){t.state.snapRenderInfo={request:r.isRequest,snap:!0,center:!0},bn(t)},drag:function(t){var r=t.state;bn(t)||(r.guidelines=Wa(t)),r.snapRenderInfo&&(r.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,r){if(Md(t,r)||Na(t,r))return!0;if(!r.isRequest&&r.inputEvent)return zt(r.inputEvent.target,tt("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,bn(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,r){this.dragStart(t,r)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,bn(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var r=t.state;r.enableSnap=!1,r.guidelines=[],r.snapRenderInfo=null,r.elementRects=[]}};function Td(t,r){return[t[0]*r[0],t[1]*r[1]]}function tt(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Sf.apply(void 0,Y([ya],T(t),!1))}function Bs(t){t()}function Od(t){return!t||t==="none"?[1,0,0,1,0,0]:rr(t)?t:we(t)}function Pe(t,r,e){return Ke(r,Mr(e,r),t,Mr(e.map(function(n){return-n}),r))}function zd(t,r,e){if(r==="%"){var n=Xa(t.ownerSVGElement);return n[e?"width":"height"]/100}return 1}function Pd(t){var r=kd($a(t,":before"));return r.map(function(e,n){var a=de(e),i=a.value,o=a.unit;return i*zd(t,o,n===0)})}function yn(t){return t?t.split(" "):["0","0"]}function kd(t){return yn(t.transformOrigin)}function Gs(t){var r=Vt(t),e=r("transform");if(e&&e!=="none")return e;if("transform"in t){var n=t.transform,a=n.baseVal;if(!a)return"";var i=a.length;if(!i)return"";for(var o=[],s=function(f){var l=a[f].matrix;o.push("matrix(".concat(["a","b","c","d","e","f"].map(function(d){return l[d]}).join(", "),")"))},u=0;u<i;++u)s(u);return o.join(" ")}return""}function ke(t,r,e,n,a){var i,o,s=qn(t)||br(t),u=!1,f,l;if(!t||e)f=t;else{var d=(i=t==null?void 0:t.assignedSlot)===null||i===void 0?void 0:i.parentElement,c=t.parentElement;d?(u=!0,l=c,f=d):f=c}for(var v=!1,p=t===r||f===r,h="relative",g=1,m=parseFloat(a==null?void 0:a("zoom"))||1,b=a==null?void 0:a("position");f&&f!==s;){r===f&&(p=!0);var y=Vt(f),x=f.tagName.toLowerCase(),E=Gs(f),S=y("willChange"),C=parseFloat(y("zoom"))||1;if(h=y("position"),n&&C!==1){g=C;break}if(!e&&n&&m!==1&&b&&b!=="absolute"||x==="svg"||x==="foreignobject"||h!=="static"||E&&E!=="none"||S==="transform")break;var w=(o=t==null?void 0:t.assignedSlot)===null||o===void 0?void 0:o.parentNode,D=f.parentNode;w&&(u=!0,l=D);var _=D;if(_&&_.nodeType===11){f=_.host,v=!0,h=Vt(f)("position");break}f=_,h="relative"}return{offsetZoom:g,hasSlot:u,parentSlotElement:l,isCustomElement:v,isStatic:h==="static",isEnd:p||!f||f===s,offsetParent:f||s}}function Id(t,r){var e,n=t.tagName.toLowerCase(),a=t.offsetLeft,i=t.offsetTop,o=Vt(t),s=qe(a),u=!s,f,l;return!u&&(n!=="svg"||t.ownerSVGElement)?(f=Fo?Pd(t):yn(o("transformOrigin")).map(function(d){return parseFloat(d)}),l=f.slice(),u=!0,n==="svg"?(a=0,i=0):(e=T(Ad(t,f,t===r&&r.tagName.toLowerCase()==="g"),4),a=e[0],i=e[1],f[0]=e[2],f[1]=e[3])):(f=yn(o("transformOrigin")).map(function(d){return parseFloat(d)}),l=f.slice()),{tagName:n,isSVG:s,hasOffset:u,offset:[a||0,i||0],origin:f,targetOrigin:l}}function As(t,r){var e=Vt(t),n=Vt(br(t)),a=n("position");if(!r&&(!a||a==="static"))return[0,0];var i=parseInt(n("marginLeft"),10),o=parseInt(n("marginTop"),10);return e("position")==="absolute"&&((e("top")!=="auto"||e("bottom")!=="auto")&&(o=0),(e("left")!=="auto"||e("right")!=="auto")&&(i=0)),[i,o]}function Ya(t){t.forEach(function(r){var e=r.matrix;e&&(r.matrix=nr(e,3,4))})}function Bd(t){for(var r=t.parentElement,e=!1,n=br(t);r;){var a=$a(r).transform;if(a&&a!=="none"){e=!0;break}if(r===n)break;r=r.parentElement}return{fixedContainer:r||n,hasTransform:e}}function xn(t,r){return r===void 0&&(r=t.length>9),"".concat(r?"matrix3d":"matrix","(").concat(Co(t,!r).join(","),")")}function Xa(t){var r=t.clientWidth,e=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:r,clientHeight:e};var n=t.viewBox,a=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:a.x,y:a.y,width:a.width||r,height:a.height||e,clientWidth:r,clientHeight:e}}function Gd(t,r){var e,n=Xa(t),a=n.width,i=n.height,o=n.clientWidth,s=n.clientHeight,u=o/a,f=s/i,l=t.preserveAspectRatio.baseVal,d=l.align,c=l.meetOrSlice,v=[0,0],p=[u,f],h=[0,0];if(d!==1){var g=(d-2)%3,m=Math.floor((d-2)/3);v[0]=a*g/2,v[1]=i*m/2;var b=c===2?Math.max(f,u):Math.min(u,f);p[0]=b,p[1]=b,h[0]=(o-a)/2*g,h[1]=(s-i)/2*m}var y=aa(p,r);return e=T(h,2),y[r*(r-1)]=e[0],y[r*(r-1)+1]=e[1],Pe(y,r,v)}function Ad(t,r,e){var n=t.tagName.toLowerCase();if(!t.getBBox||!e&&n==="g")return[0,0,0,0];var a=Vt(t),i=a("transform-box")==="fill-box",o=t.getBBox(),s=Xa(t.ownerSVGElement),u=o.x,f=o.y;n==="foreignobject"&&!u&&!f&&(u=parseFloat(t.getAttribute("x"))||0,f=parseFloat(t.getAttribute("y"))||0);var l=u-s.x,d=f-s.y,c=i?r[0]:r[0]-l,v=i?r[1]:r[1]-d;return[l,d,c,v]}function Dt(t,r,e){return Gt(t,Dr(r,e),e)}function Pr(t,r,e,n){return[[0,0],[r,0],[0,e],[r,e]].map(function(a){return Dt(t,a,n)})}function Zt(t){var r=t.map(function(f){return f[0]}),e=t.map(function(f){return f[1]}),n=Math.min.apply(Math,Y([],T(r),!1)),a=Math.min.apply(Math,Y([],T(e),!1)),i=Math.max.apply(Math,Y([],T(r),!1)),o=Math.max.apply(Math,Y([],T(e),!1)),s=i-n,u=o-a;return{left:n,top:a,right:i,bottom:o,width:s,height:u}}function Fs(t,r,e,n){var a=Pr(t,r,e,n);return Zt(a)}function Fd(t,r,e,n,a){var i,o=t.target,s=t.origin,u=r.matrix,f=Ls(o),l=f.offsetWidth,d=f.offsetHeight,c=e.getBoundingClientRect(),v=[0,0];e===br(e)&&(v=As(o,!0));for(var p=o.getBoundingClientRect(),h=p.left-c.left+e.scrollLeft-(e.clientLeft||0)+v[0],g=p.top-c.top+e.scrollTop-(e.clientTop||0)+v[1],m=p.width,b=p.height,y=Ke(n,a,u),x=Fs(y,l,d,n),E=x.left,S=x.top,C=x.width,w=x.height,D=Dt(y,s,n),_=rt(D,[E,S]),z=[h+_[0]*m/C,g+_[1]*b/w],O=[0,0],R=0;++R<10;){var P=sr(a,n);i=T(rt(Dt(P,z,n),Dt(P,D,n)),2),O[0]=i[0],O[1]=i[1];var k=Ke(n,a,Mr(O,n),u),I=Fs(k,l,d,n),L=I.left,G=I.top,W=L-h,N=G-g;if(A(W)<2&&A(N)<2)break;z[0]-=W,z[1]-=N}return O.map(function(B){return Math.round(B)})}function Nd(t,r,e){var n=t.length===16,a=n?4:3,i=r.map(function(u){return Dt(t,u,a)}),o=e.left,s=e.top;return i.map(function(u){return[u[0]+o,u[1]+s]})}function Jt(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Ns(t,r){return Jt([r[0]-t[0],r[1]-t[1]])}function Ie(t,r,e,n){e===void 0&&(e=1),n===void 0&&(n=Mt(t,r));var a=Ns(t,r);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(e,")"),width:"".concat(a,"px")}}function Sn(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=e.length,i=e.reduce(function(s,u){return s+u[0]},0)/a,o=e.reduce(function(s,u){return s+u[1]},0)/a;return{transform:"translateZ(0px) translate(".concat(i,"px, ").concat(o,"px) rotate(").concat(t,"rad) scale(").concat(r,")")}}function kr(t,r){var e=t[r];return rr(e)?M(M({},t),e):t}function Ls(t){var r=t&&!qe(t.offsetWidth),e=0,n=0,a=0,i=0,o=0,s=0,u=0,f=0,l=0,d=0,c=0,v=0,p=1/0,h=1/0,g=1/0,m=1/0,b=0,y=0,x=!1;if(t)if(!r&&t.ownerSVGElement){var E=t.getBBox();x=!0,e=E.width,n=E.height,o=e,s=n,u=e,f=n,a=e,i=n}else{var S=Vt(t),C=t.style,w=S("boxSizing")==="border-box",D=parseFloat(S("borderLeftWidth"))||0,_=parseFloat(S("borderRightWidth"))||0,z=parseFloat(S("borderTopWidth"))||0,O=parseFloat(S("borderBottomWidth"))||0,R=parseFloat(S("paddingLeft"))||0,P=parseFloat(S("paddingRight"))||0,k=parseFloat(S("paddingTop"))||0,I=parseFloat(S("paddingBottom"))||0,L=R+P,G=k+I,W=D+_,N=z+O,B=L+W,X=G+N,U=S("position"),j=0,$=0;if("clientLeft"in t){var V=null;if(U==="absolute"){var K=ke(t,br(t));V=K.offsetParent}else V=t.parentElement;if(V){var Q=Vt(V);j=parseFloat(Q("width")),$=parseFloat(Q("height"))}}l=Math.max(L,xt(S("minWidth"),j)||0),d=Math.max(G,xt(S("minHeight"),$)||0),p=xt(S("maxWidth"),j),h=xt(S("maxHeight"),$),isNaN(p)&&(p=1/0),isNaN(h)&&(h=1/0),b=xt(C.width,0)||0,y=xt(C.height,0)||0,o=parseFloat(S("width"))||0,s=parseFloat(S("height"))||0,u=A(o-b)<1?Yn(l,b||o,p):o,f=A(s-y)<1?Yn(d,y||s,h):s,e=u,n=f,a=u,i=f,w?(g=p,m=h,c=l,v=d,u=e-B,f=n-X):(g=p+B,m=h+X,c=l+B,v=d+X,e=u+B,n=f+X),a=u+L,i=f+G}return{svg:x,offsetWidth:e,offsetHeight:n,clientWidth:a,clientHeight:i,contentWidth:u,contentHeight:f,inlineCSSWidth:b,inlineCSSHeight:y,cssWidth:o,cssHeight:s,minWidth:l,minHeight:d,maxWidth:p,maxHeight:h,minOffsetWidth:c,minOffsetHeight:v,maxOffsetWidth:g,maxOffsetHeight:m}}function Ws(t,r){return Mt(r>0?t[0]:t[1],r>0?t[1]:t[0])}function En(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Hs(t,r){var e=t===br(t)||t===qn(t),n={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return e&&(n.clientHeight=Math.max(r.height,n.clientHeight),n.scrollHeight=Math.max(r.height,n.scrollHeight)),n.overflow=Vt(t)("overflow")!=="visible",M(M({},r),n)}function qa(t,r,e,n){var a=t.left,i=t.right,o=t.top,s=t.bottom,u=r.top,f=r.left,l={left:f+a,top:u+o,right:f+i,bottom:u+s,width:i-a,height:s-o};return e&&n?Hs(e,l):l}function Be(t,r){var e=0,n=0,a=0,i=0;if(t){var o=t.getBoundingClientRect();e=o.left,n=o.top,a=o.width,i=o.height}var s={left:e,top:n,width:a,height:i,right:e+a,bottom:n+i};return t&&r?Hs(t,s):s}function Ld(t){var r=t.props,e=r.groupable,n=r.svgOrigin,a=t.getState(),i=a.offsetWidth,o=a.offsetHeight,s=a.svg,u=a.transformOrigin;return!e&&s&&n?ti(n,i,o):u}function Ys(t,r,e,n){var a;if(t)a=t;else if(r)a=[0,0];else{var i=e.target;a=Xs(i,n)}return a}function Xs(t,r){if(t){var e=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(r.deg=e,!!n){var a=[0,0];return n.indexOf("w")>-1&&(a[0]=-1),n.indexOf("e")>-1&&(a[0]=1),n.indexOf("n")>-1&&(a[1]=-1),n.indexOf("s")>-1&&(a[1]=1),a}}}function Va(t,r){return[ht(r,t[0]),ht(r,t[1]),ht(r,t[2]),ht(r,t[3])]}function Qt(t){var r=t.left,e=t.top,n=t.pos1,a=t.pos2,i=t.pos3,o=t.pos4;return Va([n,a,i,o],[r,e])}function ja(t,r){t[r?"controlAbles":"targetAbles"].forEach(function(e){e.unset&&e.unset(t)})}function ee(t,r){var e=r?"controlGesto":"targetGesto",n=t[e];(n==null?void 0:n.isIdle())===!1&&ja(t,r),n==null||n.unset(),t[e]=null}function Lt(t,r){if(r){var e=Zr(r);e.nextStyle=M(M({},e.nextStyle),t)}return{style:t,cssText:vr(t).map(function(n){return"".concat(Ve(n,"-"),": ").concat(t[n],";")}).join("")}}function qs(t,r,e){var n=r.afterTransform||r.transform;return M(M({},Lt(M(M(M({},t.style),r.style),{transform:n}),e)),{afterTransform:n,transform:t.transform})}function lt(t,r,e,n){var a=r.datas;a.datas||(a.datas={});var i=M(M({},e),{target:t.state.target,clientX:r.clientX,clientY:r.clientY,inputEvent:r.inputEvent,currentTarget:t,moveable:t,datas:a.datas,isRequest:r.isRequest,isRequestChild:r.isRequestChild,isFirstDrag:!!r.isFirstDrag,isTrusted:r.isTrusted!==!1,stopAble:function(){a.isEventStart=!1},stopDrag:function(){var o;(o=r.stop)===null||o===void 0||o.call(r)}});return a.isStartEvent?n||(a.lastEvent=i):a.isStartEvent=!0,i}function Ut(t,r,e){var n=r.datas,a="isDrag"in e?e.isDrag:r.isDrag;return n.datas||(n.datas={}),M(M({isDrag:a},e),{moveable:t,target:t.state.target,clientX:r.clientX,clientY:r.clientY,inputEvent:r.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:r.isDouble,datas:n.datas,isFirstDrag:!!r.isFirstDrag})}function wn(t,r,e){t._emitter.on(r,e)}function Z(t,r,e,n,a){return t.triggerEvent(r,e,n,a)}function $a(t,r){return yr(t).getComputedStyle(t,r)}function _n(t,r,e){var n={},a={};return t.filter(function(i){var o=i.name;if(n[o]||!r.some(function(s){return i[s]}))return!1;if(!e&&i.ableGroup){if(a[i.ableGroup])return!1;a[i.ableGroup]=!0}return n[o]=!0,!0})}function Ua(t,r){return t===r||t==null&&r==null}function Vs(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=t.length-1,n=0;n<e;++n){var a=t[n];if(!qe(a))return a}return t[e]}function js(t,r){var e=[],n=[];return t.forEach(function(a,i){var o=r(a,i,t),s=n.indexOf(o),u=e[s]||[];s===-1&&(n.push(o),e.push(u)),u.push(a)}),e}function Wd(t,r){var e=[],n={};return t.forEach(function(a,i){var o=r(a,i,t),s=n[o];s||(s=[],n[o]=s,e.push(s)),s.push(a)}),e}function $s(t){return t.reduce(function(r,e){return r.concat(e)},[])}function ne(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.sort(function(e,n){return A(n)-A(e)}),t[0]}function ae(t,r,e){return Gt(sr(t,e),Dr(r,e),e)}function Us(t,r){var e,n=t.is3d,a=t.rootMatrix,i=n?4:3;return e=T(ae(a,[r.distX,r.distY],i),2),r.distX=e[0],r.distY=e[1],r}function tr(t,r,e,n){if(!e[0]&&!e[1])return r;var a=Dt(t,[zs(e[0]||1),0],n),i=Dt(t,[0,zs(e[1]||1)],n),o=Dt(t,[e[0]/Jt(a),e[1]/Jt(i)],n);return ht(r,o)}function ir(t,r,e){return e?"".concat(t/r*100,"%"):"".concat(t,"px")}function Cn(t){return A(t)<=Ft?0:t}function Ka(t){return function(r){if(!r.isDragging(t))return"";var e=zc(r,t),n=e.deg;return n?tt("view-control-rotation".concat(n)):""}}function Za(t,r){return r===void 0&&(r=[t]),function(e,n){if(n.isRequest)return r.some(function(i){return n.requestAble===i})?n.parentDirection:!1;var a=n.inputEvent.target;return zt(a,tt("direction"))&&(!t||zt(a,tt(t)))}}function Hd(t,r,e){var n,a=Vr(t,{"x%":function(E){return E/100*r.offsetWidth},"y%":function(E){return E/100*r.offsetHeight}}),i=t.slice(0,e<0?void 0:e),o=t.slice(0,e<0?void 0:e+1),s=t[e]||"",u=e<0?[]:t.slice(e),f=e<0?[]:t.slice(e+1),l=a.slice(0,e<0?void 0:e),d=a.slice(0,e<0?void 0:e+1),c=(n=a[e])!==null&&n!==void 0?n:Vr([""])[0],v=e<0?[]:a.slice(e),p=e<0?[]:a.slice(e+1),h=c?[c]:[],g=qr(l),m=qr(d),b=qr(v),y=qr(p),x=St(g,b,4);return{transforms:t,beforeFunctionMatrix:g,beforeFunctionMatrix2:m,targetFunctionMatrix:qr(h),afterFunctionMatrix:b,afterFunctionMatrix2:y,allFunctionMatrix:x,beforeFunctions:l,beforeFunctions2:d,targetFunction:h[0],afterFunctions:v,afterFunctions2:p,beforeFunctionTexts:i,beforeFunctionTexts2:o,targetFunctionText:s,afterFunctionTexts:u,afterFunctionTexts2:f}}function Yd(t){return!t||!rr(t)||Xr(t)?!1:Tt(t)||"length"in t}function fr(t,r){return t?Xr(t)?t:Yt(t)?r?document.querySelector(t):t:Ln(t)?t():Zi(t)?t:"current"in t?t.current:t:null}function Ja(t,r){if(!t)return[];var e=Yd(t)?[].slice.call(t):[t];return e.reduce(function(n,a){return Yt(a)&&r?Y(Y([],T(n),!1),T([].slice.call(document.querySelectorAll(a))),!1):(Tt(a)?n.push(Ja(a,r)):n.push(fr(a,r)),n)},[])}function Xd(t,r,e){var n=Mt(t,r)/Math.PI*180;return n=e>=0?n:180-n,n=n>=0?n:360+n,n}function Ks(t,r){var e=t.rootMatrix,n=t.is3d,a=n?4:3,i=sr(e,a);return n||(i=nr(i,3,4)),i[12]=0,i[13]=0,i[14]=0,Cl(i,r)}function Zs(t,r,e,n,a){var i=T(t,2),o=i[0],s=i[1],u=0,f=0;if(a&&o&&s){var l=Mt([0,0],r),d=Mt([0,0],n),c=Jt(r),v=Math.cos(l-d)*c;if(!n[0])f=v,u=f*e;else if(!n[1])u=v,f=u/e;else{var p=n[0]*o,h=n[1]*s,g=Math.atan2(p+r[0],h+r[1]),m=Math.atan2(p,h);g<0&&(g+=Math.PI*2),m<0&&(m+=Math.PI*2);var b=0;A(g-m)<Math.PI/2||A(g-m)>Math.PI/2*3||(m+=Math.PI),b=g-m,b>Math.PI*2?b-=Math.PI*2:b>Math.PI?b=2*Math.PI-b:b<-Math.PI&&(b=-2*Math.PI-b);var y=Jt([p+r[0],h+r[1]])*Math.cos(b);u=y*Math.sin(m)-p,f=y*Math.cos(m)-h,n[0]<0&&(u*=-1),n[1]<0&&(f*=-1)}}else u=n[0]*r[0],f=n[1]*r[1];return[u,f]}function Js(t,r,e,n){var a,i=e.ratio,o=e.startOffsetWidth,s=e.startOffsetHeight,u=0,f=0,l=n.distX,d=n.distY,c=n.pinchScale,v=n.parentDistance,p=n.parentDist,h=n.parentScale,g=e.fixedDirection,m=[0,1].map(function(C){return A(t[C]-g[C])}),b=[0,1].map(function(C){var w=m[C];return w!==0&&(w=2/w),w});if(p)u=p[0],f=p[1],r&&(u?f||(f=u/i):u=f*i);else if(Hr(c))u=(c-1)*o,f=(c-1)*s;else if(h)u=(h[0]-1)*o,f=(h[1]-1)*s;else if(v){var y=o*m[0],x=s*m[1],E=Jt([y,x]);u=v/E*y*b[0],f=v/E*x*b[1]}else{var S=ur({datas:e,distX:l,distY:d});S=b.map(function(C,w){return S[w]*C}),a=T(Zs([o,s],S,i,t,r),2),u=a[0],f=a[1]}return{distWidth:u,distHeight:f}}function Qa(t,r){if(r){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var e=T(t.split(" "),2),n=e[0],a=e[1],i=Qa(n||""),o=Qa(a||""),s=M(M({},i),o),u={x:"50%",y:"50%"};return s.x&&(u.x=s.x),s.y&&(u.y=s.y),s.value&&(s.x&&!s.y&&(u.y=s.value),!s.x&&s.y&&(u.x=s.value)),u}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function ti(t,r,e){var n=Qa(t,!0),a=n.x,i=n.y;return[xt(a,r)||0,xt(i,e)||0]}function qd(t,r,e){var n=t.map(function(i){return rt(i,r)}),a=n.map(function(i){return xe(i,e)});return{prev:n,next:a,result:a.map(function(i){return ht(i,r)})}}function Qs(t,r){return t.length===r.length&&t.every(function(e,n){var a=r[n],i=Tt(e),o=Tt(a);return i&&o?Qs(e,a):!i&&!o?e===a:!1})}function ie(t,r,e,n,a){var i=t._store,o=i[r];if(!(r in i))if(a!=null)i[r]=a,o=a;else return i[r]=e,e;return o===e||n(o)===n(e)?o:(i[r]=e,e)}function Wt(t){return t>=0?1:-1}function A(t){return Math.abs(t)}function ri(t,r){return Ff(t).map(function(e){return r(e)})}function tu(t){return Hr(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var Vd=De("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,r){var e=r.datas,n=r.targets,a=r.angle,i=r.originalDatas,o=t.props,s=o.pinchable,u=o.ables;if(!s)return!1;var f="onPinch".concat(n?"Group":"","Start"),l="drag".concat(n?"Group":"","ControlStart"),d=(s===!0?t.controlAbles:u.filter(function(h){return s.indexOf(h.name)>-1})).filter(function(h){return h.canPinch&&h[l]}),c=lt(t,r,{});n&&(c.targets=n);var v=Z(t,f,c);e.isPinch=v!==!1,e.ables=d;var p=e.isPinch;return p?(d.forEach(function(h){if(i[h.name]=i[h.name]||{},!!h[l]){var g=M(M({},r),{datas:i[h.name],parentRotate:a,isPinch:!0});h[l](t,g)}}),t.state.snapRenderInfo={request:r.isRequest,direction:[0,0]},p):!1},pinch:function(t,r){var e=r.datas,n=r.scale,a=r.distance,i=r.originalDatas,o=r.inputEvent,s=r.targets,u=r.angle;if(e.isPinch){var f=a*(1-1/n),l=lt(t,r,{});s&&(l.targets=s);var d="onPinch".concat(s?"Group":"");Z(t,d,l);var c=e.ables,v="drag".concat(s?"Group":"","Control");return c.forEach(function(p){p[v]&&p[v](t,M(M({},r),{datas:i[p.name],inputEvent:o,resolveMatrix:!0,pinchScale:n,parentDistance:f,parentRotate:u,isPinch:!0}))}),l}},pinchEnd:function(t,r){var e=r.datas,n=r.isPinch,a=r.inputEvent,i=r.targets,o=r.originalDatas;if(e.isPinch){var s="onPinch".concat(i?"Group":"","End"),u=Ut(t,r,{isDrag:n});i&&(u.targets=i),Z(t,s,u);var f=e.ables,l="drag".concat(i?"Group":"","ControlEnd");return f.forEach(function(d){d[l]&&d[l](t,M(M({},r),{isDrag:n,datas:o[d.name],inputEvent:a,isPinch:!0}))}),n}},pinchGroupStart:function(t,r){return this.pinchStart(t,M(M({},r),{targets:t.props.targets}))},pinchGroup:function(t,r){return this.pinch(t,M(M({},r),{targets:t.props.targets}))},pinchGroupEnd:function(t,r){return this.pinchEnd(t,M(M({},r),{targets:t.props.targets}))}}),ru=Za("scalable"),jd={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:ts("scalable"),dragControlCondition:ru,viewClassName:Ka("scalable"),dragControlStart:function(t,r){var e=r.datas,n=r.isPinch,a=r.inputEvent,i=r.parentDirection,o=Ys(i,n,a,e),s=t.state,u=s.width,f=s.height,l=s.targetTransform,d=s.target,c=s.pos1,v=s.pos2,p=s.pos4;if(!o||!d)return!1;n||Tr(t,r),e.datas={},e.transform=l,e.prevDist=[1,1],e.direction=o,e.startOffsetWidth=u,e.startOffsetHeight=f,e.startValue=[1,1];var h=!o[0]&&!o[1]||o[0]||!o[1];sn(t,r,"scale"),e.isWidth=h;function g(S){e.ratio=S&&isFinite(S)?S:0}e.startPositions=Qt(t.state);function m(S){var C=Ss(e.startPositions,S);e.fixedDirection=C.fixedDirection,e.fixedPosition=C.fixedPosition,e.fixedOffset=C.fixedOffset}e.setFixedDirection=m,g(pr(c,v)/pr(v,p)),m([-o[0],-o[1]]);var b=function(S){e.minScaleSize=S},y=function(S){e.maxScaleSize=S};b([-1/0,-1/0]),y([1/0,1/0]);var x=lt(t,r,M(M({direction:o,set:function(S){e.startValue=S},setRatio:g,setFixedDirection:m,setMinScaleSize:b,setMaxScaleSize:y},on(t,r)),{dragStart:Nt.dragStart(t,new Ur().dragStart([0,0],r))})),E=Z(t,"onScaleStart",x);return e.startFixedDirection=e.fixedDirection,E!==!1&&(e.isScale=!0,t.state.snapRenderInfo={request:r.isRequest,direction:o}),e.isScale?x:!1},dragControl:function(t,r){nn(t,r,"scale");var e=r.datas,n=r.parentKeepRatio,a=r.parentFlag,i=r.isPinch,o=r.dragClient,s=r.isRequest,u=r.useSnap,f=r.resolveMatrix,l=e.prevDist,d=e.direction,c=e.startOffsetWidth,v=e.startOffsetHeight,p=e.isScale,h=e.startValue,g=e.isWidth,m=e.ratio;if(!p)return!1;var b=t.props,y=b.throttleScale,x=b.parentMoveable,E=d;!d[0]&&!d[1]&&(E=[1,1]);var S=m&&(n??b.keepRatio)||!1,C=t.state,w=[h[0],h[1]];function D(){var q=Js(E,S,e,r),J=q.distWidth,gt=q.distHeight,at=c?(c+J)/c:1,st=v?(v+gt)/v:1;h[0]||(w[0]=J/c),h[1]||(w[1]=gt/v);var dt=(E[0]||S?at:1)*w[0],bt=(E[1]||S?st:1)*w[1];return dt===0&&(dt=Wt(l[0])*en),bt===0&&(bt=Wt(l[1])*en),[dt,bt]}var _=D();if(!i&&t.props.groupable){var z=C.snapRenderInfo||{},O=z.direction;Tt(O)&&(O[0]||O[1])&&(C.snapRenderInfo={direction:d,request:r.isRequest})}Z(t,"onBeforeScale",lt(t,r,{scale:_,setFixedDirection:function(q){return e.setFixedDirection(q),_=D(),_},startFixedDirection:e.startFixedDirection,setScale:function(q){_=q}},!0));var R=[_[0]/w[0],_[1]/w[1]],P=o,k=[0,0],I=Wt(R[0]*R[1]),L=!o&&!a&&i;if(L||f?P=Da(t,e.targetAllTransform,[0,0],[0,0],e):o||(P=e.fixedPosition),i||(k=Cd(t,R,d,!u&&s,e)),S){E[0]&&E[1]&&k[0]&&k[1]&&(Math.abs(k[0]*c)>Math.abs(k[1]*v)?k[1]=0:k[0]=0);var G=!k[0]&&!k[1];if(G&&(g?R[0]=it(R[0]*w[0],y)/w[0]:R[1]=it(R[1]*w[1],y)/w[1]),E[0]&&!E[1]||k[0]&&!k[1]||G&&g){R[0]+=k[0];var W=c*R[0]*w[0]/m;R[1]=Wt(I*R[0])*A(W/v/w[1])}else if(!E[0]&&E[1]||!k[0]&&k[1]||G&&!g){R[1]+=k[1];var N=v*R[1]*w[1]*m;R[0]=Wt(I*R[1])*A(N/c/w[0])}}else R[0]+=k[0],R[1]+=k[1],k[0]||(R[0]=it(R[0]*w[0],y)/w[0]),k[1]||(R[1]=it(R[1]*w[1],y)/w[1]);R[0]===0&&(R[0]=Wt(l[0])*en),R[1]===0&&(R[1]=Wt(l[1])*en),_=Td(R,[w[0],w[1]]);var B=[c,v],X=[c*_[0],v*_[1]];X=Xi(X,e.minScaleSize,e.maxScaleSize,S?m:!1),_=ri(2,function(q){return B[q]?X[q]/B[q]:X[q]}),R=ri(2,function(q){return _[q]/w[q]});var U=ri(2,function(q){return l[q]?R[q]/l[q]:R[q]}),j="scale(".concat(R.join(", "),")"),$="scale(".concat(_.join(", "),")"),V=an(e,$,j),K=!h[0]||!h[1],Q=Cc(t,K?$:j,e.fixedDirection,P,e.fixedOffset,e,K),ot=L?Q:rt(Q,e.prevInverseDist||[0,0]);if(e.prevDist=R,e.prevInverseDist=Q,_[0]===l[0]&&_[1]===l[1]&&ot.every(function(q){return!q})&&!x&&!L)return!1;var pt=lt(t,r,M({offsetWidth:c,offsetHeight:v,direction:d,scale:_,dist:R,delta:U,isPinch:!!i},$o(t,V,ot,i,r)));return Z(t,"onScale",pt),pt},dragControlEnd:function(t,r){var e=r.datas;if(!e.isScale)return!1;e.isScale=!1;var n=Ut(t,r,{});return Z(t,"onScaleEnd",n),n},dragGroupControlCondition:ru,dragGroupControlStart:function(t,r){var e=r.datas,n=this.dragControlStart(t,r);if(!n)return!1;var a=ar(t,"resizable",r);e.moveableScale=t.scale;var i=hr(t,this,"dragControlStart",r,function(f,l){return cn(t,f,e,l)}),o=function(f){n.setFixedDirection(f),i.forEach(function(l,d){l.setFixedDirection(f),cn(t,l.moveable,e,a[d])})};e.setFixedDirection=o;var s=M(M({},n),{targets:t.props.targets,events:i,setFixedDirection:o}),u=Z(t,"onScaleGroupStart",s);return e.isScale=u!==!1,e.isScale?s:!1},dragGroupControl:function(t,r){var e=r.datas;if(e.isScale){wn(t,"onBeforeScale",function(l){Z(t,"onBeforeScaleGroup",lt(t,r,M(M({},l),{targets:t.props.targets}),!0))});var n=this.dragControl(t,r);if(n){var a=n.dist,i=e.moveableScale;t.scale=[a[0]*i[0],a[1]*i[1]];var o=t.props.keepRatio,s=e.fixedPosition,u=hr(t,this,"dragControl",r,function(l,d){var c=T(Gt(Se(t.rotation/180*Math.PI,3),[d.datas.originalX*a[0],d.datas.originalY*a[1],1],3),2),v=c[0],p=c[1];return M(M({},d),{parentDist:null,parentScale:a,parentKeepRatio:o,dragClient:ht(s,[v,p])})}),f=M({targets:t.props.targets,events:u},n);return Z(t,"onScaleGroup",f),f}}},dragGroupControlEnd:function(t,r){var e=r.isDrag,n=r.datas;if(n.isScale){this.dragControlEnd(t,r);var a=hr(t,this,"dragControlEnd",r),i=Ut(t,r,{targets:t.props.targets,events:a});return Z(t,"onScaleGroupEnd",i),e}},request:function(){var t={},r=0,e=0,n=!1;return{isControl:!0,requestStart:function(a){return n=a.useSnap,{datas:t,parentDirection:a.direction||[1,1],useSnap:n}},request:function(a){return r+=a.deltaWidth,e+=a.deltaHeight,{datas:t,parentDist:[r,e],parentKeepRatio:a.keepRatio,useSnap:n}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:n}}}}};function _r(t,r){return t.map(function(e,n){return Xe(e,r[n],1,2)})}function eu(t,r,e){var n=Mt(t,r),a=Mt(t,e),i=a-n;return i>=0?i:i+2*Math.PI}function $d(t,r){var e=eu(t[0],t[1],t[2]),n=eu(r[0],r[1],r[2]),a=Math.PI;return!(e>=a&&n<=a||e<=a&&n>=a)}var Ud={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:Ka("warpable"),render:function(t,r){var e=t.props,n=e.resizable,a=e.scalable,i=e.warpable,o=e.zoom;if(n||a||!i)return[];var s=t.state,u=s.pos1,f=s.pos2,l=s.pos3,d=s.pos4,c=_r(u,f),v=_r(f,u),p=_r(u,l),h=_r(l,u),g=_r(l,d),m=_r(d,l),b=_r(f,d),y=_r(d,f);return Y([r.createElement("div",{className:tt("line"),key:"middeLine1",style:Ie(c,g,o)}),r.createElement("div",{className:tt("line"),key:"middeLine2",style:Ie(v,m,o)}),r.createElement("div",{className:tt("line"),key:"middeLine3",style:Ie(p,b,o)}),r.createElement("div",{className:tt("line"),key:"middeLine4",style:Ie(h,y,o)})],T(rs(t,"warpable",r)),!1)},dragControlCondition:function(t,r){if(r.isRequest)return!1;var e=r.inputEvent.target;return zt(e,tt("direction"))&&zt(e,tt("warpable"))},dragControlStart:function(t,r){var e=r.datas,n=r.inputEvent,a=t.props.target,i=n.target,o=Xs(i,e);if(!o||!a)return!1;var s=t.state,u=s.transformOrigin,f=s.is3d,l=s.targetTransform,d=s.targetMatrix,c=s.width,v=s.height,p=s.left,h=s.top;e.datas={},e.targetTransform=l,e.warpTargetMatrix=f?d:nr(d,3,4),e.targetInverseMatrix=wo(sr(e.warpTargetMatrix,4),3,4),e.direction=o,e.left=p,e.top=h,e.poses=[[0,0],[c,0],[0,v],[c,v]].map(function(b){return rt(b,u)}),e.nextPoses=e.poses.map(function(b){var y=T(b,2),x=y[0],E=y[1];return Gt(e.warpTargetMatrix,[x,E,0,1],4)}),e.startValue=_t(4),e.prevMatrix=_t(4),e.absolutePoses=Qt(s),e.posIndexes=jo(o),Tr(t,r),sn(t,r,"matrix3d"),s.snapRenderInfo={request:r.isRequest,direction:o};var g=lt(t,r,M({set:function(b){e.startValue=b}},on(t,r))),m=Z(t,"onWarpStart",g);return m!==!1&&(e.isWarp=!0),e.isWarp},dragControl:function(t,r){var e=r.datas,n=r.isRequest,a=r.distX,i=r.distY,o=e.targetInverseMatrix,s=e.prevMatrix,u=e.isWarp,f=e.startValue,l=e.poses,d=e.posIndexes,c=e.absolutePoses;if(!u)return!1;if(nn(t,r,"matrix3d"),re(t,"warpable")){var v=d.map(function(D){return c[D]});v.length>1&&v.push([(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2]);var p=gn(t,n,{horizontal:v.map(function(D){return D[1]+i}),vertical:v.map(function(D){return D[0]+a})}),h=p.horizontal,g=p.vertical;i-=h.offset,a-=g.offset}var m=ur({datas:e,distX:a,distY:i},!0),b=e.nextPoses.slice();if(d.forEach(function(D){b[D]=ht(b[D],m)}),!hc.every(function(D){return $d(D.map(function(_){return l[_]}),D.map(function(_){return b[_]}))}))return!1;var y=ia(l[0],l[2],l[1],l[3],b[0],b[2],b[1],b[3]);if(!y.length)return!1;var x=St(o,y,4),E=qo(e,x,!0),S=St(sr(s,4),E,4);e.prevMatrix=E;var C=St(f,E,4),w=an(e,"matrix3d(".concat(C.join(", "),")"),"matrix3d(".concat(E.join(", "),")"));return Ca(r,w),Z(t,"onWarp",lt(t,r,M({delta:S,matrix:C,dist:E,multiply:St,transform:w},Lt({transform:w},r)))),!0},dragControlEnd:function(t,r){var e=r.datas,n=r.isDrag;return e.isWarp?(e.isWarp=!1,Z(t,"onWarpEnd",Ut(t,r,{})),n):!1}},Kd=tt("area-pieces"),Dn=tt("area-piece"),nu=tt("avoid"),Zd=tt("view-dragging");function ei(t){var r=t.areaElement;if(r){var e=t.state,n=e.width,a=e.height;Ki(r,nu),r.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(a,"px")}}function au(t){return t.createElement("div",{key:"area_pieces",className:Kd},t.createElement("div",{className:Dn}),t.createElement("div",{className:Dn}),t.createElement("div",{className:Dn}),t.createElement("div",{className:Dn}))}var iu={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,r){var e=t.props,n=e.target,a=e.dragArea,i=e.groupable,o=e.passDragArea,s=t.getState(),u=s.width,f=s.height,l=s.renderPoses,d=o?tt("area","pass"):tt("area");if(i)return[r.createElement("div",{key:"area",ref:cr(t,"areaElement"),className:d}),au(r)];if(!n||!a)return[];var c=ia([0,0],[u,0],[0,f],[u,f],l[0],l[1],l[2],l[3]),v=c.length?xn(c,!0):"none";return[r.createElement("div",{key:"area",ref:cr(t,"areaElement"),className:d,style:{top:"0px",left:"0px",width:"".concat(u,"px"),height:"".concat(f,"px"),transformOrigin:"0 0",transform:v}}),au(r)]},dragStart:function(t,r){var e=r.datas,n=r.clientX,a=r.clientY,i=r.inputEvent;if(!i)return!1;e.isDragArea=!1;var o=t.areaElement,s=t.state,u=s.moveableClientRect,f=s.renderPoses,l=s.rootMatrix,d=s.is3d,c=u.left,v=u.top,p=Zt(f),h=p.left,g=p.top,m=p.width,b=p.height,y=d?4:3,x=T(ae(l,[n-c,a-v],y),2),E=x[0],S=x[1];E-=h,S-=g;var C=[{left:h,top:g,width:m,height:S-10},{left:h,top:g,width:E-10,height:b},{left:h,top:g+S+10,width:m,height:b-S-10},{left:h+E+10,top:g,width:m-E-10,height:b}],w=[].slice.call(o.nextElementSibling.children);C.forEach(function(D,_){w[_].style.cssText="left: ".concat(D.left,"px;top: ").concat(D.top,"px; width: ").concat(D.width,"px; height: ").concat(D.height,"px;")}),Ui(o,nu),s.disableNativeEvent=!0},drag:function(t,r){var e=r.datas,n=r.inputEvent;if(this.enableNativeEvent(t),!n)return!1;e.isDragArea||(e.isDragArea=!0,ei(t))},dragEnd:function(t,r){this.enableNativeEvent(t);var e=r.inputEvent,n=r.datas;if(!e)return!1;n.isDragArea||ei(t)},dragGroupStart:function(t,r){return this.dragStart(t,r)},dragGroup:function(t,r){return this.drag(t,r)},dragGroupEnd:function(t,r){return this.dragEnd(t,r)},unset:function(t){ei(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var r=t.state;r.disableNativeEvent&&Hi(function(){r.disableNativeEvent=!1})}},Jd=De("origin",{props:["origin","svgOrigin"],render:function(t,r){var e=t.props,n=e.zoom,a=e.svgOrigin,i=e.groupable,o=t.getState(),s=o.beforeOrigin,u=o.rotation,f=o.svg,l=o.allMatrix,d=o.is3d,c=o.left,v=o.top,p=o.offsetWidth,h=o.offsetHeight,g;if(!i&&f&&a){var m=T(ti(a,p,h),2),b=m[0],y=m[1],x=d?4:3,E=Dt(l,[b,y],x);g=Sn(u,n,rt(E,[c,v]))}else g=Sn(u,n,s);return[r.createElement("div",{className:tt("control","origin"),style:g,key:"beforeOrigin"})]}});function Qd(t){var r=t.scrollContainer;return[r.scrollLeft,r.scrollTop]}var tv={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,r){var e=t.props,n=e.scrollContainer,a=n===void 0?t.getContainer():n,i=e.scrollOptions,o=new Il,s=fr(a,!0);r.datas.dragScroll=o,t.state.dragScroll=o;var u=r.isControl?"controlGesto":"targetGesto",f=r.targets;o.on("scroll",function(l){var d=l.container,c=l.direction,v=lt(t,r,{scrollContainer:d,direction:c}),p=f?"onScrollGroup":"onScroll";f&&(v.targets=f),Z(t,p,v)}).on("move",function(l){var d=l.offsetX,c=l.offsetY,v=l.inputEvent;t[u].scrollBy(d,c,v.inputEvent,!1)}).on("scrollDrag",function(l){var d=l.next;d(t[u].getCurrentEvent())}),o.dragStart(r,M({container:s},i))},checkScroll:function(t,r){var e=r.datas.dragScroll;if(e){var n=t.props,a=n.scrollContainer,i=a===void 0?t.getContainer():a,o=n.scrollThreshold,s=o===void 0?0:o,u=n.scrollThrottleTime,f=u===void 0?0:u,l=n.getScrollPosition,d=l===void 0?Qd:l,c=n.scrollOptions;return e.drag(r,M({container:i,threshold:s,throttleTime:f,getScrollPosition:function(v){return d({scrollContainer:v.container,direction:v.direction})}},c)),!0}},drag:function(t,r){return this.checkScroll(t,r)},dragEnd:function(t,r){r.datas.dragScroll.dragEnd(),r.datas.dragScroll=null},dragControlStart:function(t,r){return this.dragStart(t,M(M({},r),{isControl:!0}))},dragControl:function(t,r){return this.drag(t,r)},dragControlEnd:function(t,r){return this.dragEnd(t,r)},dragGroupStart:function(t,r){return this.dragStart(t,M(M({},r),{targets:t.props.targets}))},dragGroup:function(t,r){return this.drag(t,M(M({},r),{targets:t.props.targets}))},dragGroupEnd:function(t,r){return this.dragEnd(t,M(M({},r),{targets:t.props.targets}))},dragGroupControlStart:function(t,r){return this.dragStart(t,M(M({},r),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,r){return this.drag(t,M(M({},r),{targets:t.props.targets}))},dragGroupControEnd:function(t,r){return this.dragEnd(t,M(M({},r),{targets:t.props.targets}))},unset:function(t){var r,e=t.state;(r=e.dragScroll)===null||r===void 0||r.dragEnd(),e.dragScroll=null}},ou={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},rv=De("padding",{props:["padding"],render:function(t,r){var e=t.props;if(e.dragArea)return[];var n=tu(e.padding||{}),a=n.left,i=n.top,o=n.right,s=n.bottom,u=t.getState(),f=u.renderPoses,l=u.pos1,d=u.pos2,c=u.pos3,v=u.pos4,p=[l,d,c,v],h=[];return a>0&&h.push([0,2]),i>0&&h.push([0,1]),o>0&&h.push([1,3]),s>0&&h.push([2,3]),h.map(function(g,m){var b=T(g,2),y=b[0],x=b[1],E=p[y],S=p[x],C=f[y],w=f[x],D=ia([0,0],[100,0],[0,100],[100,100],E,S,C,w);if(D.length)return r.createElement("div",{key:"padding".concat(m),className:tt("padding"),style:{transform:xn(D,!0)}})})}}),su=["nw","ne","se","sw"];function Mn(t,r){var e=t[0]+t[1],n=e>r?r/e:1;return t[0]*=n,t[1]=r-t[1]*n,t}var ev=[1,2,5,6],nv=[0,3,4,7],Ir=[1,-1,-1,1],Br=[1,1,-1,-1];function ni(t,r,e,n,a,i,o,s){a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o=e),s===void 0&&(s=n);var u=[],f=!1,l=t.filter(function(c){return!c.virtual}),d=l.map(function(c){var v=c.horizontal,p=c.vertical,h=c.pos;if(p&&!f&&(f=!0,u.push("/")),f){var g=Math.max(0,p===1?h[1]-i:s-h[1]);return u.push(ir(g,n,r)),g}else{var g=Math.max(0,v===1?h[0]-a:o-h[0]);return u.push(ir(g,e,r)),g}});return{radiusPoses:l,styles:u,raws:d}}function uu(t){for(var r=[0,0],e=[0,0],n=t.length,a=0;a<n;++a){var i=t[a];i.sub&&(i.horizontal&&(r[1]===0&&(r[0]=a),r[1]=a-r[0]+1,e[0]=a+1),i.vertical&&(e[1]===0&&(e[0]=a),e[1]=a-e[0]+1))}return{horizontalRange:r,verticalRange:e}}function fu(t,r,e,n,a,i,o){var s,u,f,l;i===void 0&&(i=[0,0]),o===void 0&&(o=!1);var d=t.indexOf("/"),c=(d>-1?t.slice(0,d):t).length,v=t.slice(0,c),p=t.slice(c+1),h=v.length,g=p.length,m=g>0,b=T(v,4),y=b[0],x=y===void 0?"0px":y,E=b[1],S=E===void 0?x:E,C=b[2],w=C===void 0?x:C,D=b[3],_=D===void 0?S:D,z=T(p,4),O=z[0],R=O===void 0?x:O,P=z[1],k=P===void 0?m?R:S:P,I=z[2],L=I===void 0?m?R:w:I,G=z[3],W=G===void 0?m?k:_:G,N=[x,S,w,_].map(function(V){return xt(V,r)}),B=[R,k,L,W].map(function(V){return xt(V,e)}),X=N.slice(),U=B.slice();s=T(Mn([X[0],X[1]],r),2),X[0]=s[0],X[1]=s[1],u=T(Mn([X[3],X[2]],r),2),X[3]=u[0],X[2]=u[1],f=T(Mn([U[0],U[3]],e),2),U[0]=f[0],U[3]=f[1],l=T(Mn([U[1],U[2]],e),2),U[1]=l[0],U[2]=l[1];var j=o?X:X.slice(0,Math.max(i[0],h)),$=o?U:U.slice(0,Math.max(i[1],g));return Y(Y([],T(j.map(function(V,K){var Q=su[K];return{virtual:K>=h,horizontal:Ir[K],vertical:0,pos:[n+V,a+(Br[K]===-1?e:0)],sub:!0,raw:N[K],direction:Q}})),!1),T($.map(function(V,K){var Q=su[K];return{virtual:K>=g,horizontal:0,vertical:Br[K],pos:[n+(Ir[K]===-1?r:0),a+V],sub:!0,raw:B[K],direction:Q}})),!1)}function av(t,r,e,n,a){a===void 0&&(a=r.length);var i=uu(t.slice(n)),o=i.horizontalRange,s=i.verticalRange,u=e-n,f=0;if(u===0)f=a;else if(u>0&&u<o[1])f=o[1]-u;else if(u>=s[0])f=s[0]+s[1]-u;else return;t.splice(e,f),r.splice(e,f)}function iv(t,r,e,n,a,i,o,s,u,f,l){f===void 0&&(f=0),l===void 0&&(l=0);var d=uu(t.slice(e)),c=d.horizontalRange,v=d.verticalRange;if(n>-1)for(var p=Ir[n]===1?i-f:s-i,h=c[1];h<=n;++h){var g=Br[h]===1?l:u,m=0;if(n===h?m=i:h===0?m=f+p:Ir[h]===-1&&(m=s-(r[e][0]-f)),t.splice(e+h,0,{horizontal:Ir[h],vertical:0,pos:[m,g]}),r.splice(e+h,0,[m,g]),h===0)break}else if(a>-1){var b=Br[a]===1?o-l:u-o;if(c[1]===0&&v[1]===0){var y=[f+b,l];t.push({horizontal:Ir[0],vertical:0,pos:y}),r.push(y)}for(var x=v[0],h=v[1];h<=a;++h){var m=Ir[h]===1?f:s,g=0;if(a===h?g=o:h===0?g=l+b:Br[h]===1?g=r[e+x][1]:Br[h]===-1&&(g=u-(r[e+x][1]-l)),t.push({horizontal:0,vertical:Br[h],pos:[m,g]}),r.push([m,g]),h===0)break}}}function ov(t,r){r===void 0&&(r=t.map(function(a){return a.raw}));var e=t.map(function(a,i){return a.horizontal?r[i]:null}).filter(function(a){return a!=null}),n=t.map(function(a,i){return a.vertical?r[i]:null}).filter(function(a){return a!=null});return{horizontals:e,verticals:n}}var sv=[[0,-1,"n"],[1,0,"e"]],uv=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function ai(t,r,e){var n=t.props.clipRelative,a=t.state,i=a.width,o=a.height,s=r,u=s.type,f=s.poses,l=u==="rect",d=u==="circle";if(u==="polygon")return e.map(function(S){return"".concat(ir(S[0],i,n)," ").concat(ir(S[1],o,n))});if(l||u==="inset"){var c=e[1][1],v=e[3][0],p=e[7][0],h=e[5][1];if(l)return[c,v,h,p].map(function(S){return"".concat(S,"px")});var g=[c,i-v,o-h,p].map(function(S,C){return ir(S,C%2?i:o,n)});if(e.length>8){var m=T(rt(e[4],e[0]),2),b=m[0],y=m[1];g.push.apply(g,Y(["round"],T(ni(f.slice(8).map(function(S,C){return M(M({},S),{pos:e[C]})}),n,b,y,p,c,v,h).styles),!1))}return g}else if(d||u==="ellipse"){var x=e[0],E=ir(A(e[1][1]-x[1]),d?Math.sqrt((i*i+o*o)/2):o,n),g=d?[E]:[ir(A(e[2][0]-x[0]),i,n),E];return g.push("at",ir(x[0],i,n),ir(x[1],o,n)),g}}function Rn(t,r,e,n){var a=[n,(n+r)/2,r],i=[t,(t+e)/2,e];return uv.map(function(o){var s=T(o,3),u=s[0],f=s[1],l=s[2],d=a[u+1],c=i[f+1];return{vertical:A(f),horizontal:A(u),direction:l,pos:[d,c]}})}function lu(t){var r=[1/0,-1/0],e=[1/0,-1/0];return t.forEach(function(n){var a=n.pos;r[0]=Math.min(r[0],a[0]),r[1]=Math.max(r[1],a[0]),e[0]=Math.min(e[0],a[1]),e[1]=Math.max(e[1],a[1])}),[A(r[1]-r[0]),A(e[1]-e[0])]}function cu(t,r,e,n,a){var i,o,s,u,f,l,d,c,v;if(t){var p=a;if(!p){var h=Vt(t),g=h("clipPath");p=g!=="none"?g:h("clip")}if(!((!p||p==="none"||p==="auto")&&(p=n,!p))){var m=Wi(p),b=m.prefix,y=b===void 0?p:b,x=m.value,E=x===void 0?"":x,S=y==="circle",C=" ";if(y==="polygon"){var w=Cr(E||"0% 0%, 100% 0%, 100% 100%, 0% 100%");C=",";var D=w.map(function(Ct){var F=T(Ct.split(" "),2),et=F[0],ut=F[1];return{vertical:1,horizontal:1,pos:[xt(et,r),xt(ut,e)]}}),_=Rr(D.map(function(Ct){return Ct.pos}));return{type:y,clipText:p,poses:D,splitter:C,left:_.minX,right:_.maxX,top:_.minY,bottom:_.maxY}}else if(S||y==="ellipse"){var z="",O="",R=0,P=0,w=mr(E);if(S){var k="";i=T(w,4),o=i[0],k=o===void 0?"50%":o,s=i[2],z=s===void 0?"50%":s,u=i[3],O=u===void 0?"50%":u,R=xt(k,Math.sqrt((r*r+e*e)/2)),P=R}else{var I="",L="";f=T(w,5),l=f[0],I=l===void 0?"50%":l,d=f[1],L=d===void 0?"50%":d,c=f[3],z=c===void 0?"50%":c,v=f[4],O=v===void 0?"50%":v,R=xt(I,r),P=xt(L,e)}var G=[xt(z,r),xt(O,e)],D=Y([{vertical:1,horizontal:1,pos:G,direction:"nesw"}],T(sv.slice(0,S?1:2).map(function(et){return{vertical:A(et[1]),horizontal:et[0],direction:et[2],sub:!0,pos:[G[0]+et[0]*R,G[1]+et[1]*P]}})),!1);return{type:y,clipText:p,radiusX:R,radiusY:P,left:G[0]-R,top:G[1]-P,right:G[0]+R,bottom:G[1]+P,poses:D,splitter:C}}else if(y==="inset"){var w=mr(E||"0 0 0 0"),W=w.indexOf("round"),N=(W>-1?w.slice(0,W):w).length,B=w.slice(N+1),X=T(w.slice(0,N),4),U=X[0],j=X[1],$=j===void 0?U:j,V=X[2],K=V===void 0?U:V,Q=X[3],ot=Q===void 0?$:Q,pt=T([U,K].map(function(et){return xt(et,e)}),2),q=pt[0],J=pt[1],gt=T([ot,$].map(function(et){return xt(et,r)}),2),at=gt[0],st=gt[1],dt=r-st,bt=e-J,yt=fu(B,dt-at,bt-q,at,q),D=Y(Y([],T(Rn(q,dt,bt,at)),!1),T(yt),!1);return{type:"inset",clipText:p,poses:D,top:q,left:at,right:dt,bottom:bt,radius:B,splitter:C}}else if(y==="rect"){var w=Cr(E||"0px, ".concat(r,"px, ").concat(e,"px, 0px"));C=",";var ct=T(w.map(function(Et){var vt=de(Et).value;return vt}),4),mt=ct[0],st=ct[1],J=ct[2],at=ct[3],D=Rn(mt,st,J,at);return{type:"rect",clipText:p,poses:D,top:mt,right:st,bottom:J,left:at,values:w,splitter:C}}}}}function fv(t,r,e,n,a){var i=t[r],o=i.direction,s=i.sub,u=t.map(function(){return[0,0]}),f=o?o.split(""):[];if(n&&r<8){var l=f.filter(function(R){return R==="w"||R==="e"}),d=f.filter(function(R){return R==="n"||R==="s"}),c=l[0],v=d[0];u[r]=e;var p=T(lu(t),2),h=p[0],g=p[1],m=h&&g?h/g:0;if(m&&a){var b=(r+4)%8,y=t[b].pos,x=[0,0];o.indexOf("w")>-1?x[0]=-1:o.indexOf("e")>-1&&(x[0]=1),o.indexOf("n")>-1?x[1]=-1:o.indexOf("s")>-1&&(x[1]=1);var E=Zs([h,g],e,m,x,!0),S=h+E[0],C=g+E[1],w=y[1],D=y[1],_=y[0],z=y[0];x[0]===-1?_=z-S:x[0]===1?z=_+S:(_=_-S/2,z=z+S/2),x[1]===-1?w=D-C:(x[1]===1||(w=D-C/2),D=w+C);var O=Rn(w,z,D,_);t.forEach(function(R,P){u[P][0]=O[P].pos[0]-R.pos[0],u[P][1]=O[P].pos[1]-R.pos[1]})}else t.forEach(function(R,P){var k=R.direction;k&&(k.indexOf(c)>-1&&(u[P][0]=e[0]),k.indexOf(v)>-1&&(u[P][1]=e[1]))}),c&&(u[1][0]=e[0]/2,u[5][0]=e[0]/2),v&&(u[3][1]=e[1]/2,u[7][1]=e[1]/2)}else o&&!s?f.forEach(function(R){var P=R==="n"||R==="s";t.forEach(function(k,I){var L=k.direction,G=k.horizontal,W=k.vertical;!L||L.indexOf(R)===-1||(u[I]=[P||!G?0:e[0],!P||!W?0:e[1]])})}):u[r]=e;return u}function lv(t,r){var e=T(Xo(t,r),2),n=e[0],a=e[1],i=r.datas,o=i.clipPath,s=i.clipIndex,u=o,f=u.type,l=u.poses,d=u.splitter,c=l.map(function(b){return b.pos});if(f==="polygon")c.splice(s,0,[n,a]);else if(f==="inset"){var v=ev.indexOf(s),p=nv.indexOf(s),h=l.length;if(iv(l,c,8,v,p,n,a,c[4][0],c[4][1],c[0][0],c[0][1]),h===l.length)return}else return;var g=ai(t,o,c),m="".concat(f,"(").concat(g.join(d),")");Z(t,"onClip",lt(t,r,M({clipEventType:"added",clipType:f,poses:c,clipStyles:g,clipStyle:m,distX:0,distY:0},Lt({clipPath:m},r))))}function cv(t,r){var e=r.datas,n=e.clipPath,a=e.clipIndex,i=n,o=i.type,s=i.poses,u=i.splitter,f=s.map(function(v){return v.pos}),l=f.length;if(o==="polygon")s.splice(a,1),f.splice(a,1);else if(o==="inset"){if(a<8||(av(s,f,a,8,l),l===s.length))return}else return;var d=ai(t,n,f),c="".concat(o,"(").concat(d.join(u),")");Z(t,"onClip",lt(t,r,M({clipEventType:"removed",clipType:o,poses:f,clipStyles:d,clipStyle:c,distX:0,distY:0},Lt({clipPath:c},r))))}var dv={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(t,r){var e=t.props,n=e.customClipPath,a=e.defaultClipPath,i=e.clipArea,o=e.zoom,s=e.groupable,u=t.getState(),f=u.target,l=u.width,d=u.height,c=u.allMatrix,v=u.is3d,p=u.left,h=u.top,g=u.pos1,m=u.pos2,b=u.pos3,y=u.pos4,x=u.clipPathState,E=u.snapBoundInfos,S=u.rotation;if(!f||s)return[];var C=cu(f,l,d,a||"inset",x||n);if(!C)return[];var w=v?4:3,D=C.type,_=C.poses,z=_.map(function(st){var dt=Dt(c,st.pos,w);return[dt[0]-p,dt[1]-h]}),O=[],R=[],P=D==="rect",k=D==="inset",I=D==="polygon";if(P||k||I){var L=k?z.slice(0,8):z;R=L.map(function(st,dt){var bt=dt===0?L[L.length-1]:L[dt-1],yt=Mt(bt,st),ct=Ns(bt,st);return r.createElement("div",{key:"clipLine".concat(dt),className:tt("line","clip-line","snap-control"),"data-clip-index":dt,style:{width:"".concat(ct,"px"),transform:"translate(".concat(bt[0],"px, ").concat(bt[1],"px) rotate(").concat(yt,"rad) scaleY(").concat(o,")")}})})}if(O=z.map(function(st,dt){return r.createElement("div",{key:"clipControl".concat(dt),className:tt("control","clip-control","snap-control"),"data-clip-index":dt,style:{transform:"translate(".concat(st[0],"px, ").concat(st[1],"px) rotate(").concat(S,"rad) scale(").concat(o,")")}})}),k&&O.push.apply(O,Y([],T(z.slice(8).map(function(st,dt){return r.createElement("div",{key:"clipRadiusControl".concat(dt),className:tt("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+dt,style:{transform:"translate(".concat(st[0],"px, ").concat(st[1],"px) rotate(").concat(S,"rad) scale(").concat(o,")")}})})),!1)),D==="circle"||D==="ellipse"){var G=C.left,W=C.top,N=C.radiusX,B=C.radiusY,X=T(rt(Dt(c,[G,W],w),Dt(c,[0,0],w)),2),U=X[0],j=X[1],$="none";if(!i){for(var V=Math.max(10,N/5,B/5),K=[],Q=0;Q<=V;++Q){var ot=Math.PI*2/V*Q;K.push([N+(N-o)*Math.cos(ot),B+(B-o)*Math.sin(ot)])}K.push([N,-2]),K.push([-2,-2]),K.push([-2,B*2+2]),K.push([N*2+2,B*2+2]),K.push([N*2+2,-2]),K.push([N,-2]),$="polygon(".concat(K.map(function(st){return"".concat(st[0],"px ").concat(st[1],"px")}).join(", "),")")}O.push(r.createElement("div",{key:"clipEllipse",className:tt("clip-ellipse","snap-control"),style:{width:"".concat(N*2,"px"),height:"".concat(B*2,"px"),clipPath:$,transform:"translate(".concat(-p+U,"px, ").concat(-h+j,"px) ").concat(xn(c))}}))}if(i){var pt=Zt(Y([g,m,b,y],T(z),!1)),q=pt.width,J=pt.height,gt=pt.left,at=pt.top;if(I||P||k){var K=k?z.slice(0,8):z;O.push(r.createElement("div",{key:"clipArea",className:tt("clip-area","snap-control"),style:{width:"".concat(q,"px"),height:"".concat(J,"px"),transform:"translate(".concat(gt,"px, ").concat(at,"px)"),clipPath:"polygon(".concat(K.map(function(dt){return"".concat(dt[0]-gt,"px ").concat(dt[1]-at,"px")}).join(", "),")")}}))}}return E&&["vertical","horizontal"].forEach(function(st){var dt=E[st],bt=st==="horizontal";dt.isSnap&&R.push.apply(R,Y([],T(dt.snap.posInfos.map(function(yt,ct){var mt=yt.pos,Ct=rt(Dt(c,bt?[0,mt]:[mt,0],w),[p,h]),F=rt(Dt(c,bt?[l,mt]:[mt,d],w),[p,h]);return Te(r,"",Ct,F,o,"clip".concat(st,"snap").concat(ct),"guideline")})),!1)),dt.isBound&&R.push.apply(R,Y([],T(dt.bounds.map(function(yt,ct){var mt=yt.pos,Ct=rt(Dt(c,bt?[0,mt]:[mt,0],w),[p,h]),F=rt(Dt(c,bt?[l,mt]:[mt,d],w),[p,h]);return Te(r,"",Ct,F,o,"clip".concat(st,"bounds").concat(ct),"guideline","bounds","bold")})),!1))}),Y(Y([],T(O),!1),T(R),!1)},dragControlCondition:function(t,r){return r.inputEvent&&(r.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,r){var e=t.props,n=e.dragWithClip,a=n===void 0?!0:n;return a?!1:this.dragControlStart(t,r)},drag:function(t,r){return this.dragControl(t,M(M({},r),{isDragTarget:!0}))},dragEnd:function(t,r){return this.dragControlEnd(t,r)},dragControlStart:function(t,r){var e=t.state,n=t.props,a=n.defaultClipPath,i=n.customClipPath,o=e.target,s=e.width,u=e.height,f=r.inputEvent?r.inputEvent.target:null,l=f&&f.getAttribute("class")||"",d=r.datas,c=cu(o,s,u,a||"inset",i);if(!c)return!1;var v=c.clipText,p=c.type,h=c.poses,g=Z(t,"onClipStart",lt(t,r,{clipType:p,clipStyle:v,poses:h.map(function(m){return m.pos})}));return g===!1?(d.isClipStart=!1,!1):(d.isControl=l&&l.indexOf("clip-control")>-1,d.isLine=l.indexOf("clip-line")>-1,d.isArea=l.indexOf("clip-area")>-1||l.indexOf("clip-ellipse")>-1,d.clipIndex=f?parseInt(f.getAttribute("data-clip-index"),10):-1,d.clipPath=c,d.isClipStart=!0,e.clipPathState=v,Tr(t,r),!0)},dragControl:function(t,r){var e,n,a,i=r.datas,o=r.originalDatas,s=r.isDragTarget;if(!i.isClipStart)return!1;var u=i,f=u.isControl,l=u.isLine,d=u.isArea,c=u.clipIndex,v=u.clipPath;if(!v)return!1;var p=kr(t.props,"clippable"),h=p.keepRatio,g=0,m=0,b=o.draggable,y=ur(r);s&&b?(e=T(b.prevBeforeDist,2),g=e[0],m=e[1]):(n=T(y,2),g=n[0],m=n[1]);var x=[g,m],E=t.state,S=E.width,C=E.height,w=!d&&!f&&!l,D=v.type,_=v.poses,z=v.splitter,O=_.map(function(wt){return wt.pos});w&&(g=-g,m=-m);var R=!f||_[c].direction==="nesw",P=D==="inset"||D==="rect",k=_.map(function(){return[0,0]});if(f&&!R){var I=_[c],L=I.horizontal,G=I.vertical,W=[g*A(L),m*A(G)];k=fv(_,c,W,P,h)}else R&&(k=O.map(function(){return[g,m]}));var N=O.map(function(wt,Ht){return ht(wt,k[Ht])}),B=Y([],T(N),!1);E.snapBoundInfos=null;var X=v.type==="circle",U=v.type==="ellipse";if(X||U){var j=Zt(N),$=A(j.bottom-j.top),V=A(U?j.right-j.left:$),K=N[0][1]+$,Q=N[0][0]-V,ot=N[0][0]+V;X&&(B.push([ot,j.bottom]),k.push([1,0])),B.push([j.left,K]),k.push([0,1]),B.push([Q,j.bottom]),k.push([1,0])}var pt=Ts((p.clipHorizontalGuidelines||[]).map(function(wt){return xt("".concat(wt),C)}),(p.clipVerticalGuidelines||[]).map(function(wt){return xt("".concat(wt),S)}),S,C),q=[],J=[];if(X||U)q=[B[4][0],B[2][0]],J=[B[1][1],B[3][1]];else if(P){var gt=[B[0],B[2],B[4],B[6]],at=[k[0],k[2],k[4],k[6]];q=gt.filter(function(wt,Ht){return at[Ht][0]}).map(function(wt){return wt[0]}),J=gt.filter(function(wt,Ht){return at[Ht][1]}).map(function(wt){return wt[1]})}else q=B.filter(function(wt,Ht){return k[Ht][0]}).map(function(wt){return wt[0]}),J=B.filter(function(wt,Ht){return k[Ht][1]}).map(function(wt){return wt[1]});var st=[0,0],dt=ys(pt,p.clipTargetBounds&&{left:0,top:0,right:S,bottom:C},q,J,5,5),bt=dt.horizontal,yt=dt.vertical,ct=bt.offset,mt=yt.offset;if(bt.isBound&&(st[1]+=ct),yt.isBound&&(st[0]+=mt),(U||X)&&k[0][0]===0&&k[0][1]===0){var j=Zt(N),Ct=j.bottom-j.top,F=U?j.right-j.left:Ct,et=yt.isBound?A(mt):yt.snapIndex===0?-mt:mt,ut=bt.isBound?A(ct):bt.snapIndex===0?-ct:ct;F-=et,Ct-=ut,X&&(Ct=vs(yt,bt)>0?Ct:F,F=Ct);var ft=B[0];B[1][1]=ft[1]-Ct,B[2][0]=ft[0]+F,B[3][1]=ft[1]+Ct,B[4][0]=ft[0]-F}else if(P&&h&&f){var Et=T(lu(_),2),vt=Et[0],nt=Et[1],Bt=vt&&nt?vt/nt:0,Kt=_[c],jt=Kt.direction||"",gr=B[1][1],K=B[5][1],Q=B[7][0],ot=B[3][0];A(ct)<=A(mt)?ct=Wt(ct)*A(mt)/Bt:mt=Wt(mt)*A(ct)*Bt,jt.indexOf("w")>-1?Q-=mt:jt.indexOf("e")>-1?ot-=mt:(Q+=mt/2,ot-=mt/2),jt.indexOf("n")>-1?gr-=ct:jt.indexOf("s")>-1?K-=ct:(gr+=ct/2,K-=ct/2);var Nr=Rn(gr,ot,K,Q);B.forEach(function(Ju,wp){var yi;yi=T(Nr[wp].pos,2),Ju[0]=yi[0],Ju[1]=yi[1]})}else B.forEach(function(wt,Ht){var Zu=k[Ht];Zu[0]&&(wt[0]-=mt),Zu[1]&&(wt[1]-=ct)});var fe=ai(t,v,N),Lr="".concat(D,"(").concat(fe.join(z),")");if(E.clipPathState=Lr,X||U)q=[B[4][0],B[2][0]],J=[B[1][1],B[3][1]];else if(P){var gt=[B[0],B[2],B[4],B[6]];q=gt.map(function(Ht){return Ht[0]}),J=gt.map(function(Ht){return Ht[1]})}else q=B.map(function(wt){return wt[0]}),J=B.map(function(wt){return wt[1]});if(E.snapBoundInfos=ys(pt,p.clipTargetBounds&&{left:0,top:0,right:S,bottom:C},q,J,1,1),b){var Le=E.is3d,We=E.allMatrix,Ep=Le?4:3,bi=st;s&&(bi=[x[0]+st[0]-y[0],x[1]+st[1]-y[1]]),b.deltaOffset=St(We,[bi[0],bi[1],0,0],Ep)}return Z(t,"onClip",lt(t,r,M({clipEventType:"changed",clipType:D,poses:N,clipStyle:Lr,clipStyles:fe,distX:g,distY:m},Lt((a={},a[D==="rect"?"clip":"clipPath"]=Lr,a),r)))),!0},dragControlEnd:function(t,r){this.unset(t);var e=r.isDrag,n=r.datas,a=r.isDouble,i=n.isLine,o=n.isClipStart,s=n.isControl;return o?(Z(t,"onClipEnd",Ut(t,r,{})),a&&(s?cv(t,r):i&&lv(t,r)),a||e):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},vv={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(t,r){return r.isRequest?r.requestAble==="originDraggable":zt(r.inputEvent.target,tt("origin"))},dragControlStart:function(t,r){var e=r.datas;Tr(t,r);var n=lt(t,r,{dragStart:Nt.dragStart(t,new Ur().dragStart([0,0],r))}),a=Z(t,"onDragOriginStart",n);return e.startOrigin=t.state.transformOrigin,e.startTargetOrigin=t.state.targetOrigin,e.prevOrigin=[0,0],e.isDragOrigin=!0,a===!1?(e.isDragOrigin=!1,!1):n},dragControl:function(t,r){var e=r.datas,n=r.isPinch,a=r.isRequest;if(!e.isDragOrigin)return!1;var i=T(ur(r),2),o=i[0],s=i[1],u=t.state,f=u.width,l=u.height,d=u.offsetMatrix,c=u.targetMatrix,v=u.is3d,p=t.props.originRelative,h=p===void 0?!0:p,g=v?4:3,m=[o,s];if(a){var b=r.distOrigin;(b[0]||b[1])&&(m=b)}var y=ht(e.startOrigin,m),x=ht(e.startTargetOrigin,m),E=rt(m,e.prevOrigin),S=Re(d,c,y,g),C=t.getRect(),w=Zt(Pr(S,f,l,g)),D=[C.left-w.left,C.top-w.top];e.prevOrigin=m;var _=[ir(x[0],f,h),ir(x[1],l,h)].join(" "),z=Nt.drag(t,Me(r,t.state,D,!!n,!1)),O=lt(t,r,M(M({width:f,height:l,origin:y,dist:m,delta:E,transformOrigin:_,drag:z},Lt({transformOrigin:_,transform:z.transform},r)),{afterTransform:z.transform}));return Z(t,"onDragOrigin",O),O},dragControlEnd:function(t,r){var e=r.datas;return e.isDragOrigin?(Z(t,"onDragOriginEnd",Ut(t,r,{})),!0):!1},dragGroupControlCondition:function(t,r){return this.dragControlCondition(t,r)},dragGroupControlStart:function(t,r){var e=this.dragControlStart(t,r);return!!e},dragGroupControl:function(t,r){var e=this.dragControl(t,r);return e?(t.transformOrigin=e.transformOrigin,!0):!1},request:function(t){var r={},e=t.getRect(),n=0,a=0,i=e.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:r}},request:function(s){return"deltaOrigin"in s?(o[0]+=s.deltaOrigin[0],o[1]+=s.deltaOrigin[1]):"origin"in s?(o[0]=s.origin[0]-i[0],o[1]=s.origin[1]-i[1]):("x"in s?n=s.x-e.left:"deltaX"in s&&(n+=s.deltaX),"y"in s?a=s.y-e.top:"deltaY"in s&&(a+=s.deltaY)),{datas:r,distX:n,distY:a,distOrigin:o}},requestEnd:function(){return{datas:r,isDrag:!0}}}}};function pv(t,r,e,n){var a=t.filter(function(u){var f=u.virtual,l=u.horizontal;return l&&!f}).length,i=t.filter(function(u){var f=u.virtual,l=u.vertical;return l&&!f}).length,o=-1;if(r===0&&(a===0?o=0:a===1&&(o=1)),r===2&&(a<=2?o=2:a<=3&&(o=3)),r===3&&(i===0?o=4:i<4&&(o=7)),r===1&&(i<=1?o=5:i<=2&&(o=6)),!(o===-1||!t[o].virtual)){var s=t[o];hv(t,o),o<4?s.pos[0]=e:s.pos[1]=n}}function hv(t,r){r<4?t.slice(0,r+1).forEach(function(e){e.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,r+1).forEach(function(e){e.virtual=!1}))}function gv(t,r){r<4?t.slice(r,4).forEach(function(e){e.virtual=!0}):t.slice(r).forEach(function(e){e.virtual=!0})}function du(t,r,e,n,a){n===void 0&&(n=[0,0]);var i=[];return!t||t==="0px"?i=[]:i=mr(t),fu(i,r,e,0,0,n,a)}function vu(t,r,e,n,a){var i=t.state,o=i.width,s=i.height,u=ni(a,t.props.roundRelative,o,s),f=u.raws,l=u.styles,d=u.radiusPoses,c=ov(d,f),v=c.horizontals,p=c.verticals,h=l.join(" ");i.borderRadiusState=h;var g=lt(t,r,M({horizontals:v,verticals:p,borderRadius:h,width:o,height:s,delta:n,dist:e},Lt({borderRadius:h},r)));return Z(t,"onRound",g),g}function pu(t){var r,e,n=t.getState().style,a=n.borderRadius||"";if(!a&&t.props.groupable){var i=t.moveables[0],o=t.getTargets()[0];o&&((i==null?void 0:i.props.target)===o?(a=(e=(r=t.moveables[0])===null||r===void 0?void 0:r.state.style.borderRadius)!==null&&e!==void 0?e:"",n.borderRadius=a):(a=$a(o).borderRadius,n.borderRadius=a))}return a}var mv={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(t){var r=t.props.roundClickable;return r===!0||r==="line"?tt("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,r){var e=t.getState(),n=e.target,a=e.width,i=e.height,o=e.allMatrix,s=e.is3d,u=e.left,f=e.top,l=e.borderRadiusState,d=t.props,c=d.minRoundControls,v=c===void 0?[0,0]:c,p=d.maxRoundControls,h=p===void 0?[4,4]:p,g=d.zoom,m=d.roundPadding,b=m===void 0?0:m,y=d.isDisplayShadowRoundControls,x=d.groupable;if(!n)return null;var E=l||pu(t),S=s?4:3,C=du(E,a,i,v,!0);if(!C)return null;var w=0,D=0,_=x?[0,0]:[u,f];return C.map(function(z,O){var R=z.horizontal,P=z.vertical,k=z.direction||"",I=Y([],T(z.pos),!1);D+=Math.abs(R),w+=Math.abs(P),R&&k.indexOf("n")>-1&&(I[1]-=b),P&&k.indexOf("w")>-1&&(I[0]-=b),R&&k.indexOf("s")>-1&&(I[1]+=b),P&&k.indexOf("e")>-1&&(I[0]+=b);var L=rt(Dt(o,I,S),_),G=y&&y!=="horizontal",W=z.vertical?w<=h[1]&&(G||!z.virtual):D<=h[0]&&(y||!z.virtual);return r.createElement("div",{key:"borderRadiusControl".concat(O),className:tt("control","border-radius",z.vertical?"vertical":"",z.virtual?"virtual":""),"data-radius-index":O,style:{display:W?"block":"none",transform:"translate(".concat(L[0],"px, ").concat(L[1],"px) scale(").concat(g,")")}})})},dragControlCondition:function(t,r){if(!r.inputEvent||r.isRequest)return!1;var e=r.inputEvent.target.getAttribute("class")||"";return e.indexOf("border-radius")>-1||e.indexOf("moveable-line")>-1&&e.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,r){return this.dragControlCondition(t,r)},dragControlStart:function(t,r){var e=r.inputEvent,n=r.datas,a=e.target,i=a.getAttribute("class")||"",o=i.indexOf("border-radius")>-1,s=i.indexOf("moveable-line")>-1&&i.indexOf("moveable-direction")>-1,u=o?parseInt(a.getAttribute("data-radius-index"),10):-1,f=-1;if(s){var l=a.getAttribute("data-line-key")||"";l&&(f=parseInt(l.replace(/render-line-/g,""),10),isNaN(f)&&(f=-1))}if(!o&&!s)return!1;var d=lt(t,r,{}),c=Z(t,"onRoundStart",d);if(c===!1)return!1;n.lineIndex=f,n.controlIndex=u,n.isControl=o,n.isLine=s,Tr(t,r);var v=t.props,p=v.roundRelative,h=v.minRoundControls,g=h===void 0?[0,0]:h,m=t.state,b=m.width,y=m.height;n.isRound=!0,n.prevDist=[0,0];var x=pu(t),E=du(x||"",b,y,g,!0)||[];return n.controlPoses=E,m.borderRadiusState=ni(E,p,b,y).styles.join(" "),d},dragControl:function(t,r){var e=r.datas,n=e.controlPoses;if(!e.isRound||!e.isControl||!n.length)return!1;var a=e.controlIndex,i=T(ur(r),2),o=i[0],s=i[1],u=[o,s],f=rt(u,e.prevDist),l=t.props.maxRoundControls,d=l===void 0?[4,4]:l,c=t.state,v=c.width,p=c.height,h=n[a],g=h.vertical,m=h.horizontal,b=n.map(function(x){var E=x.horizontal,S=x.vertical,C=[E*m*u[0],S*g*u[1]];if(E){if(d[0]===1)return C;if(d[0]<4&&E!==m)return C}else{if(d[1]===0)return C[1]=S*m*u[0]/v*p,C;if(g){if(d[1]===1)return C;if(d[1]<4&&S!==g)return C}}return[0,0]});b[a]=u;var y=n.map(function(x,E){return M(M({},x),{pos:ht(x.pos,b[E])})});return a<4?y.slice(0,a+1).forEach(function(x){x.virtual=!1}):y.slice(4,a+1).forEach(function(x){x.virtual=!1}),e.prevDist=[o,s],vu(t,r,u,f,y)},dragControlEnd:function(t,r){var e=t.state;e.borderRadiusState="";var n=r.datas,a=r.isDouble;if(!n.isRound)return!1;var i=n.isControl,o=n.controlIndex,s=n.isLine,u=n.lineIndex,f=n.controlPoses,l=f.filter(function(m){var b=m.virtual;return b}).length,d=t.props.roundClickable,c=d===void 0?!0:d;if(a&&c){if(i&&(c===!0||c==="control"))gv(f,o);else if(s&&(c===!0||c==="line")){var v=T(Xo(t,r),2),p=v[0],h=v[1];pv(f,u,p,h)}l!==f.filter(function(m){var b=m.virtual;return b}).length&&vu(t,r,[0,0],[0,0],f)}var g=Ut(t,r,{});return Z(t,"onRoundEnd",g),e.borderRadiusState="",g},dragGroupControlStart:function(t,r){var e=this.dragControlStart(t,r);if(!e)return!1;var n=t.moveables,a=t.props.targets,i=ar(t,"roundable",r),o=M({targets:t.props.targets,events:i.map(function(s,u){return M(M({},s),{target:a[u],moveable:n[u],currentTarget:n[u]})})},e);return Z(t,"onRoundGroupStart",o),e},dragGroupControl:function(t,r){var e=this.dragControl(t,r);if(!e)return!1;var n=t.moveables,a=t.props.targets,i=ar(t,"roundable",r),o=M({targets:t.props.targets,events:i.map(function(s,u){return M(M(M({},s),{target:a[u],moveable:n[u],currentTarget:n[u]}),Lt({borderRadius:e.borderRadius},s))})},e);return Z(t,"onRoundGroup",o),o},dragGroupControlEnd:function(t,r){var e=t.moveables,n=t.props.targets,a=ar(t,"roundable",r);wn(t,"onRound",function(s){var u=M({targets:t.props.targets,events:a.map(function(f,l){return M(M(M({},f),{target:n[l],moveable:e[l],currentTarget:e[l]}),Lt({borderRadius:s.borderRadius},f))})},s);Z(t,"onRoundGroup",u)});var i=this.dragControlEnd(t,r);if(!i)return!1;var o=M({targets:t.props.targets,events:a.map(function(s,u){var f;return M(M({},s),{target:n[u],moveable:e[u],currentTarget:e[u],lastEvent:(f=s.datas)===null||f===void 0?void 0:f.lastEvent})})},i);return Z(t,"onRoundGroupEnd",o),o},unset:function(t){t.state.borderRadiusState=""}};function bv(t,r){var e=r?4:3,n=_t(e),a="matrix".concat(r?"3d":"","(").concat(n.join(","),")");return t===a||t==="matrix(1,0,0,1,0,0)"}var hu={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,r){var e=t.state,n=e.is3d,a=e.targetMatrix,i=e.inlineTransform,o=n?"matrix3d(".concat(a.join(","),")"):"matrix(".concat(Co(a,!0),")"),s=!i||i==="none"?o:i;r.datas.startTransforms=bv(s,n)?[]:mr(s)},resetStyle:function(t){var r=t.datas;r.nextStyle={},r.nextTransforms=t.datas.startTransforms,r.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,r){return lt(t,r,{setTransform:function(e){r.datas.startTransforms=Tt(e)?e:mr(e)},isPinch:!!r.isPinch})},fillDragParams:function(t,r){return lt(t,r,{isPinch:!!r.isPinch})},dragStart:function(t,r){this.setTransform(t,r),this.resetStyle(r),Z(t,"onBeforeRenderStart",this.fillDragStartParams(t,r))},drag:function(t,r){r.datas.startTransforms||this.setTransform(t,r),this.resetStyle(r),Z(t,"onBeforeRender",lt(t,r,{isPinch:!!r.isPinch}))},dragEnd:function(t,r){r.datas.startTransforms||(this.setTransform(t,r),this.resetStyle(r)),Z(t,"onBeforeRenderEnd",lt(t,r,{isPinch:!!r.isPinch,isDrag:r.isDrag}))},dragGroupStart:function(t,r){var e=this;this.dragStart(t,r);var n=ar(t,"beforeRenderable",r),a=t.moveables,i=n.map(function(o,s){var u=a[s];return e.setTransform(u,o),e.resetStyle(o),e.fillDragStartParams(u,o)});Z(t,"onBeforeRenderGroupStart",lt(t,r,{isPinch:!!r.isPinch,targets:t.props.targets,setTransform:function(){},events:i}))},dragGroup:function(t,r){var e=this;this.drag(t,r);var n=ar(t,"beforeRenderable",r),a=t.moveables,i=n.map(function(o,s){var u=a[s];return e.resetStyle(o),e.fillDragParams(u,o)});Z(t,"onBeforeRenderGroup",lt(t,r,{isPinch:!!r.isPinch,targets:t.props.targets,events:i}))},dragGroupEnd:function(t,r){this.dragEnd(t,r),Z(t,"onBeforeRenderGroupEnd",lt(t,r,{isPinch:!!r.isPinch,isDrag:r.isDrag,targets:t.props.targets}))},dragControlStart:function(t,r){return this.dragStart(t,r)},dragControl:function(t,r){return this.drag(t,r)},dragControlEnd:function(t,r){return this.dragEnd(t,r)},dragGroupControlStart:function(t,r){return this.dragGroupStart(t,r)},dragGroupControl:function(t,r){return this.dragGroup(t,r)},dragGroupControlEnd:function(t,r){return this.dragGroupEnd(t,r)}},gu={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,r){Z(t,"onRenderStart",lt(t,r,{isPinch:!!r.isPinch}))},drag:function(t,r){Z(t,"onRender",this.fillDragParams(t,r))},dragAfter:function(t,r){return this.drag(t,r)},dragEnd:function(t,r){Z(t,"onRenderEnd",this.fillDragEndParams(t,r))},dragGroupStart:function(t,r){Z(t,"onRenderGroupStart",lt(t,r,{isPinch:!!r.isPinch,targets:t.props.targets}))},dragGroup:function(t,r){var e=this,n=ar(t,"beforeRenderable",r),a=t.moveables,i=n.map(function(o,s){var u=a[s];return e.fillDragParams(u,o)});Z(t,"onRenderGroup",lt(t,r,M(M({isPinch:!!r.isPinch,targets:t.props.targets,transform:fn(r),transformObject:{}},Lt(ln(r))),{events:i})))},dragGroupEnd:function(t,r){var e=this,n=ar(t,"beforeRenderable",r),a=t.moveables,i=n.map(function(o,s){var u=a[s];return e.fillDragEndParams(u,o)});Z(t,"onRenderGroupEnd",lt(t,r,M({isPinch:!!r.isPinch,isDrag:r.isDrag,targets:t.props.targets,events:i,transformObject:{},transform:fn(r)},Lt(ln(r)))))},dragControlStart:function(t,r){return this.dragStart(t,r)},dragControl:function(t,r){return this.drag(t,r)},dragControlAfter:function(t,r){return this.dragAfter(t,r)},dragControlEnd:function(t,r){return this.dragEnd(t,r)},dragGroupControlStart:function(t,r){return this.dragGroupStart(t,r)},dragGroupControl:function(t,r){return this.dragGroup(t,r)},dragGroupControlEnd:function(t,r){return this.dragGroupEnd(t,r)},fillDragParams:function(t,r){var e={};return Vr(un(r)||[]).forEach(function(n){e[n.name]=n.functionValue}),lt(t,r,M({isPinch:!!r.isPinch,transformObject:e,transform:fn(r)},Lt(ln(r))))},fillDragEndParams:function(t,r){var e={};return Vr(un(r)||[]).forEach(function(n){e[n.name]=n.functionValue}),lt(t,r,M({isPinch:!!r.isPinch,isDrag:r.isDrag,transformObject:e,transform:fn(r)},Lt(ln(r))))}};function Ge(t,r,e,n,a,i,o){i.clientDistX=i.distX,i.clientDistY=i.distY;var s=a==="Start",u=a==="End",f=a==="After",l=t.state.target,d=i.isRequest,c=n.indexOf("Control")>-1;if(!l||s&&c&&!d&&t.areaElement===i.inputEvent.target)return!1;var v=Y([],T(r),!1);if(d){var p=i.requestAble;v.some(function(O){return O.name===p})||v.push.apply(v,Y([],T(t.props.ables.filter(function(O){return O.name===p})),!1))}if(!v.length||v.every(function(O){return O.dragRelation}))return!1;var h=i.inputEvent,g;u&&h&&(g=document.elementFromPoint(i.clientX,i.clientY)||h.target);var m=!1,b=function(){var O;m=!0,(O=i.stop)===null||O===void 0||O.call(i)},y=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());y&&t.updateRect(a,!0,!1);var x=i.datas,E=c?"controlGesto":"targetGesto",S=t[E],C=function(O,R,P){if(!(R in O)||S!==t[E])return!1;var k=O.name,I=x[k]||(x[k]={});if(s&&(I.isEventStart=!P||!O[P]||O[P](t,i)),!I.isEventStart)return!1;var L=O[R](t,M(M({},i),{stop:b,datas:I,originalDatas:x,inputTarget:g}));return t._emitter.off(),s&&L===!1&&(I.isEventStart=!1),L};y&&v.forEach(function(O){O.unset&&O.unset(t)}),C(hu,"drag".concat(n).concat(a));var w=0,D=0;e.forEach(function(O){if(m)return!1;var R="".concat(O).concat(n).concat(a),P="".concat(O).concat(n,"Condition");a===""&&!d&&Us(t.state,i);var k=v.filter(function(G){return G[R]});k=k.filter(function(G,W){return G.name&&k.indexOf(G)===W});var I=k.filter(function(G){return C(G,R,P)}),L=I.length;m&&++w,L&&++D,!m&&s&&k.length&&!L&&(w+=k.filter(function(G){var W=G.name,N=x[W];return N.isEventStart?G.dragRelation!=="strong":!1}).length?1:0)}),(!f||D)&&C(gu,"drag".concat(n).concat(a));var _=S!==t[E]||w===e.length;if((u||m||_)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(O){O.state.gestos={}}),v.forEach(function(O){O.unset&&O.unset(t)})),s&&!_&&!d&&D&&t.props.preventDefault&&(i==null||i.preventDefault()),t.isUnmounted||_)return!1;if(!s&&D&&!o||u){var z=t.props.flushSync||Bs;z(function(){t.updateRect(u?a:"",!0,!1),t.forceUpdate()})}return!s&&!u&&!f&&D&&!o&&Ge(t,r,e,n,a+"After",i),!0}function ii(t,r){return function(e,n){var a;n===void 0&&(n=e.inputEvent.target);var i=n,o=t.areaElement,s=t._dragTarget;return!s||!r&&(!((a=t.controlGesto)===null||a===void 0)&&a.isFlag())?!1:i===s||s.contains(i)||i===o||!t.isMoveableElement(i)&&!t.controlBox.contains(i)||zt(i,"moveable-area")||zt(i,"moveable-padding")||zt(i,"moveable-edgeDraggable")}}function mu(t,r,e){var n=t.controlBox,a=[],i=t.props,o=i.dragArea,s=t.state.target,u=i.dragTarget;a.push(n),(!o||u)&&a.push(r),!o&&u&&s&&r!==s&&i.dragTargetSelf&&a.push(s);var f=ii(t);return yu(t,a,"targetAbles",e,{dragStart:f,pinchStart:f})}function bu(t,r){var e=t.controlBox,n=[];n.push(e);var a=ii(t,!0),i=function(o,s){if(s===void 0&&(s=o.inputEvent.target),s===e)return!0;var u=a(o,s);return!u};return yu(t,n,"controlAbles",r,{dragStart:i,pinchStart:i})}function yu(t,r,e,n,a){a===void 0&&(a={});var i=e==="targetAbles",o=t.props,s=o.pinchOutside,u=o.pinchThreshold,f=o.preventClickEventOnDrag,l=o.preventClickDefault,d=o.checkInput,c=o.dragFocusedInput,v=o.preventDefault,p=v===void 0?!0:v,h=o.preventRightClick,g=h===void 0?!0:h,m=o.preventWheelClick,b=m===void 0?!0:m,y=o.dragContainer,x=fr(y,!0),E={preventDefault:p,preventRightClick:g,preventWheelClick:b,container:x||yr(t.getControlBoxElement()),pinchThreshold:u,pinchOutside:s,preventClickEventOnDrag:i?f:!1,preventClickEventOnDragStart:i?l:!1,preventClickEventByCondition:i?null:function(w){return t.controlBox.contains(w.target)},checkInput:i?d:!1,dragFocusedInput:c},S=new Vl(r,E),C=n==="Control";return["drag","pinch"].forEach(function(w){["Start","","End"].forEach(function(D){S.on("".concat(w).concat(D),function(_){var z,O=_.eventType,R=w==="drag"&&_.isPinch;if(a[O]&&!a[O](_)){_.stop();return}if(!R){var P=w==="drag"?[w]:["drag",w],k=Y([],T(t[e]),!1),I=Ge(t,k,P,n,D,_);I?(t.props.stopPropagation||D==="Start"&&C)&&((z=_==null?void 0:_.inputEvent)===null||z===void 0||z.stopPropagation()):_.stop()}})})}),S}var yv=function(){function t(r,e,n){var a=this;this.target=r,this.moveable=e,this.eventName=n,this.ables=[],this._onEvent=function(i){var o=a.eventName,s=a.moveable;s.state.disableNativeEvent||a.ables.forEach(function(u){u[o](s,{inputEvent:i})})},r.addEventListener(n.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(r){this.ables=r},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function xv(t,r,e,n){var a;e===void 0&&(e=r);var i=Ko(t,r),o=i.matrixes,s=i.is3d,u=i.targetMatrix,f=i.transformOrigin,l=i.targetOrigin,d=i.offsetContainer,c=i.hasFixed,v=i.zoom,p=Bc(d,e),h=p.matrixes,g=p.is3d,m=p.offsetContainer,b=p.zoom,y=n||g||s,x=y?4:3,E=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,S=u,C=_t(x),w=_t(x),D=_t(x),_=_t(x),z=o.length,O=h.map(function(W){return M(M({},W),{matrix:W.matrix?Y([],T(W.matrix),!1):void 0})}).reverse();o.reverse(),!s&&y&&(S=nr(S,3,4),Ya(o)),!g&&y&&Ya(O),O.forEach(function(W){w=St(w,W.matrix,x)});var R=e||br(t),P=((a=O[0])===null||a===void 0?void 0:a.target)||ke(R,R,!0).offsetParent,k=O.slice(1).reduce(function(W,N){return St(W,N.matrix,x)},_t(x));o.forEach(function(W,N){if(z-2===N&&(D=C.slice()),z-1===N&&(_=C.slice()),!W.matrix){var B=o[N+1],X=Fd(W,B,P,x,St(k,C,x));W.matrix=Mr(X,x)}C=St(C,W.matrix,x)});var I=!E&&s;S||(S=_t(I?4:3));var L=xn(E&&S.length===16?nr(S,4,3):S,I),G=w;return w=wo(w,x,x),{hasZoom:v!==1||b!==1,hasFixed:c,matrixes:o,rootMatrix:w,originalRootMatrix:G,beforeMatrix:D,offsetMatrix:_,allMatrix:C,targetMatrix:S,targetTransform:L,inlineTransform:t.style.transform,transformOrigin:f,targetOrigin:l,is3d:y,offsetContainer:d,offsetRootContainer:m}}function Sv(t,r,e,n){e===void 0&&(e=r);var a=0,i=0,o=0,s={},u=Ls(t);if(t&&(a=u.offsetWidth,i=u.offsetHeight),t){var f=xv(t,r,e,n),l=Kr(f.allMatrix,f.transformOrigin,a,i);s=M(M({},f),l);var d=Kr(f.allMatrix,[50,50],100,100);o=Ws([d.pos1,d.pos2],d.direction)}var c=n?4:3;return M(M(M({hasZoom:!1,width:a,height:i,rotation:o},u),{originalRootMatrix:_t(c),rootMatrix:_t(c),beforeMatrix:_t(c),offsetMatrix:_t(c),allMatrix:_t(c),targetMatrix:_t(c),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),s)}function oi(t,r,e,n,a,i){i===void 0&&(i=[]);var o=1,s=[0,0],u=En(),f=En(),l=En(),d=En(),c=[0,0],v={},p=Sv(r,e,a,!0);if(r){var h=Vt(r);i.forEach(function(O){v[O]=h(O)});var g=p.is3d?4:3,m=Kr(p.offsetMatrix,ht(p.transformOrigin,_o(p.targetMatrix,g)),p.width,p.height);o=m.direction,s=ht(m.origin,[m.left-p.left,m.top-p.top]),d=Be(p.offsetRootContainer);var b=ke(n,n,!0).offsetParent||p.offsetRootContainer;if(p.hasZoom){var y=Kr(St(p.originalRootMatrix,p.allMatrix),p.transformOrigin,p.width,p.height),x=Kr(p.originalRootMatrix,yn(Vt(b)("transformOrigin")).map(function(O){return parseFloat(O)}),b.offsetWidth,b.offsetHeight);if(u=qa(y,d),l=qa(x,d,b,!0),t){var E=y.left,S=y.top;f=qa({left:E,top:S,bottom:S,right:S},d)}}else{u=Be(r),l=Ic(b),t&&(f=Be(t));var C=l.left,w=l.top,D=l.clientLeft,_=l.clientTop,z=[u.left-C,u.top-w];c=rt(ae(p.rootMatrix,z,4),[D+p.left,_+p.top])}}return M({targetClientRect:u,containerClientRect:l,moveableClientRect:f,rootContainerClientRect:d,beforeDirection:o,beforeOrigin:s,originalBeforeOrigin:s,target:r,style:v,offsetDelta:c},p)}function xu(t){var r=t.pos1,e=t.pos2,n=t.pos3,a=t.pos4;if(!r||!e||!n||!a)return null;var i=Rr([r,e,n,a]),o=[i.minX,i.minY],s=rt(t.origin,o);return r=rt(r,o),e=rt(e,o),n=rt(n,o),a=rt(a,o),M(M({},t),{left:t.left,top:t.top,posDelta:o,pos1:r,pos2:e,pos3:n,pos4:a,origin:s,beforeOrigin:s,isPersisted:!0})}var oe=function(t){Ce(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.state=M({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},oi(null)),e.renderState={},e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isMoveableMounted=!1,e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e._emitter=new Je,e._prevOriginalDragTarget=null,e._originalDragTarget=null,e._prevDragTarget=null,e._dragTarget=null,e._prevPropTarget=null,e._propTarget=null,e._prevDragArea=!1,e._isPropTargetChanged=!1,e._hasFirstTarget=!1,e._reiszeObserver=null,e._observerId=0,e._mutationObserver=null,e._rootContainer=null,e._viewContainer=null,e._viewClassNames=[],e._store={},e.checkUpdateRect=function(){if(!e.isDragging()){var n=e.props.parentMoveable;if(n){n.checkUpdateRect();return}If(e._observerId),e._observerId=Hi(function(){e.isDragging()||e.updateRect()})}},e._onPreventClick=function(n){n.stopPropagation(),n.preventDefault()},e}return r.prototype.render=function(){var e=this.props,n=this.getState(),a=e.parentPosition,i=e.className,o=e.target,s=e.zoom,u=e.cspNonce,f=e.translateZ,l=e.cssStyled,d=e.groupable,c=e.linePadding,v=e.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var p=T(a||[0,0],2),h=p[0],g=p[1],m=n.left,b=n.top,y=n.target,x=n.direction,E=n.hasFixed,S=n.offsetDelta,C=e.targets,w=this.isDragging(),D={};this.getEnabledAbles().forEach(function(k){D["data-able-".concat(k.name.toLowerCase())]=!0});var _=this._getAbleClassName(),z=C&&C.length&&(y||d)||o||!this._hasFirstTarget&&this.state.isPersisted,O=this.controlBox||this.props.firstRenderState||this.props.persistData,R=[m-h,b-g];!d&&e.useAccuratePosition&&(R[0]+=S[0],R[1]+=S[1]);var P={position:E?"fixed":"absolute",display:z?"block":"none",visibility:O?"visible":"hidden",transform:"translate3d(".concat(R[0],"px, ").concat(R[1],"px, ").concat(f,")"),"--zoom":s,"--zoompx":"".concat(s,"px")};return c&&(P["--moveable-line-padding"]=c),v&&(P["--moveable-control-padding"]=v),er(l,M({cspNonce:u,ref:cr(this,"controlBox"),className:"".concat(tt("control-box",x===-1?"reverse":"",w?"dragging":"")," ").concat(_," ").concat(i)},D,{onClick:this._onPreventClick,style:P}),this.renderAbles(),this._renderLines())},r.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var e=this.props,n=e.parentMoveable,a=e.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!a&&!n&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},r.prototype.componentDidUpdate=function(e){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(e)},r.prototype.componentWillUnmount=function(){var e,n;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(e=this._reiszeObserver)===null||e===void 0||e.disconnect(),(n=this._mutationObserver)===null||n===void 0||n.disconnect();var a=this._viewContainer;a&&this._changeAbleViewClassNames([]),ee(this,!1),ee(this,!0);var i=this.events;for(var o in i){var s=i[o];s&&s.destroy()}},r.prototype.getTargets=function(){var e=this.props.target;return e?[e]:[]},r.prototype.getAble=function(e){var n=this.props.ables||[];return Xt(n,function(a){return a.name===e})},r.prototype.getContainer=function(){var e=this.props,n=e.parentMoveable,a=e.wrapperMoveable,i=e.container;return i||a&&a.getContainer()||n&&n.getContainer()||this.controlBox.parentElement},r.prototype.getControlBoxElement=function(){return this.controlBox},r.prototype.getDragElement=function(){return this._dragTarget},r.prototype.isMoveableElement=function(e){var n;return e&&(((n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"class"))||"").indexOf(ya)>-1},r.prototype.dragStart=function(e,n){n===void 0&&(n=e.target);var a=this.targetGesto,i=this.controlGesto;return a&&ii(this)({inputEvent:e},n)?a.isFlag()||a.triggerDragStart(e):i&&this.isMoveableElement(n)&&(i.isFlag()||i.triggerDragStart(e)),this},r.prototype.hitTest=function(e){var n=this.state,a=n.target,i=n.pos1,o=n.pos2,s=n.pos3,u=n.pos4,f=n.targetClientRect;if(!a)return 0;var l;if(Xr(e)){var d=e.getBoundingClientRect();l={left:d.left,top:d.top,width:d.width,height:d.height}}else l=M({width:0,height:0},e);var c=l.left,v=l.top,p=l.width,h=l.height,g=zo([i,o,u,s],f),m=Ll(g,[[c,v],[c+p,v],[c+p,v+h],[c,v+h]]),b=Oo(g);return!m||!b?0:Math.min(100,m/b*100)},r.prototype.isInside=function(e,n){var a=this.state,i=a.target,o=a.pos1,s=a.pos2,u=a.pos3,f=a.pos4,l=a.targetClientRect;return i?fa([e,n],zo([o,s,f,u],l)):!1},r.prototype.updateRect=function(e,n,a){a===void 0&&(a=!0);var i=this.props,o=!i.parentPosition&&!i.wrapperMoveable;o&&Qr(!0);var s=i.parentMoveable,u=this.state,f=u.target||i.target,l=this.getContainer(),d=s?s._rootContainer:this._rootContainer,c=oi(this.controlBox,f,l,l,d||l,this._getRequestStyles());if(!f&&this._hasFirstTarget&&i.persistData){var v=xu(i.persistData);for(var p in v)c[p]=v[p]}o&&Qr(),this.updateState(c,s?!1:a)},r.prototype.isDragging=function(e){var n,a,i=this.targetGesto,o=this.controlGesto;if(i!=null&&i.isFlag()){if(!e)return!0;var s=i.getEventData();return!!(!((n=s[e])===null||n===void 0)&&n.isEventStart)}if(o!=null&&o.isFlag()){if(!e)return!0;var s=o.getEventData();return!!(!((a=s[e])===null||a===void 0)&&a.isEventStart)}return!1},r.prototype.updateTarget=function(e){this.updateRect(e,!0)},r.prototype.getRect=function(){var e=this.state,n=Qt(this.state),a=T(n,4),i=a[0],o=a[1],s=a[2],u=a[3],f=Zt(n),l=e.width,d=e.height,c=f.width,v=f.height,p=f.left,h=f.top,g=[e.left,e.top],m=ht(g,e.origin),b=ht(g,e.beforeOrigin),y=e.transformOrigin;return{width:c,height:v,left:p,top:h,pos1:i,pos2:o,pos3:s,pos4:u,offsetWidth:l,offsetHeight:d,beforeOrigin:b,origin:m,transformOrigin:y,rotation:this.getRotation()}},r.prototype.getManager=function(){return this},r.prototype.stopDrag=function(e){if(!e||e==="target"){var n=this.targetGesto;(n==null?void 0:n.isIdle())===!1&&ja(this,!1),n==null||n.stop()}if(!e||e==="control"){var n=this.controlGesto;(n==null?void 0:n.isIdle())===!1&&ja(this,!0),n==null||n.stop()}},r.prototype.getRotation=function(){var e=this.state,n=e.pos1,a=e.pos2,i=e.direction;return Xd(n,a,i)},r.prototype.request=function(e,n,a){n===void 0&&(n={});var i=this,o=i.props,s=o.parentMoveable||o.wrapperMoveable||i,u=s.props.ables,f=o.groupable,l=Xt(u,function(m){return m.name===e});if(this.isDragging()||!l||!l.request)return{request:function(){return this},requestEnd:function(){return this}};var d=l.request(i),c=a||n.isInstant,v=d.isControl?"controlAbles":"targetAbles",p="".concat(f?"Group":"").concat(d.isControl?"Control":""),h=Y([],T(s[v]),!1),g={request:function(m){return Ge(i,h,["drag"],p,"",M(M({},d.request(m)),{requestAble:e,isRequest:!0}),c),g},requestEnd:function(){return Ge(i,h,["drag"],p,"End",M(M({},d.requestEnd()),{requestAble:e,isRequest:!0}),c),g}};return Ge(i,h,["drag"],p,"Start",M(M({},d.requestStart(n)),{requestAble:e,isRequest:!0}),c),c?g.request(n).requestEnd():g},r.prototype.getMoveables=function(){return[this]},r.prototype.destroy=function(){this.componentWillUnmount()},r.prototype.updateRenderPoses=function(){var e=this.getState(),n=this.props,a=n.padding,i=e.originalBeforeOrigin,o=e.transformOrigin,s=e.allMatrix,u=e.is3d,f=e.pos1,l=e.pos2,d=e.pos3,c=e.pos4,v=e.left,p=e.top,h=e.isPersisted,g=n.zoom||1;if(!a&&g<=1){e.renderPoses=[f,l,d,c],e.renderLines=[[f,l],[l,c],[c,d],[d,f]];return}var m=tu(a||{}),b=m.left,y=m.top,x=m.bottom,E=m.right,S=u?4:3,C=[];h?C=o:this.controlBox&&n.groupable?C=i:C=ht(i,[v,p]);var w=Ke(S,Mr(C.map(function(P){return-P}),S),s,Mr(o,S)),D=tr(w,f,[-b,-y],S),_=tr(w,l,[E,-y],S),z=tr(w,d,[-b,x],S),O=tr(w,c,[E,x],S);if(e.renderPoses=[D,_,z,O],e.renderLines=[[D,_],[_,O],[O,z],[z,D]],g){var R=g/2;e.renderLines=[[tr(w,f,[-b-R,-y],S),tr(w,l,[E+R,-y],S)],[tr(w,l,[E,-y-R],S),tr(w,c,[E,x+R],S)],[tr(w,c,[E+R,x],S),tr(w,d,[-b-R,x],S)],[tr(w,d,[-b,x+R],S),tr(w,f,[-b,-y-R],S)]]}},r.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var e=this.props,n=e.target,a=e.container,i=e.parentMoveable,o=this.state,s=o.target,u=o.container;if(!(!s&&!n)){this.updateAbles();var f=!Ua(s,n),l=f||!Ua(u,a);if(l){var d=a||this.controlBox;d&&this.unsetAbles(),this.updateState({target:n,container:a}),!i&&d&&this.updateRect("End",!1,!1),this._isPropTargetChanged=f}}},r.prototype.waitToChangeTarget=function(){return new Promise(function(){})},r.prototype.triggerEvent=function(e,n){var a=this.props;if(this._emitter.trigger(e,n),a.parentMoveable&&n.isRequest&&!n.isRequestChild)return a.parentMoveable.triggerEvent(e,n,!0);var i=a[e];return i&&i(n)},r.prototype.useCSS=function(e,n){var a=this.props.customStyledMap,i=e+n;return a[i]||(a[i]=Go(e,n)),a[i]},r.prototype.getState=function(){var e,n=this.props;(n.target||!((e=n.targets)===null||e===void 0)&&e.length)&&(this._hasFirstTarget=!0);var a=this.controlBox,i=n.persistData,o=n.firstRenderState;if(o&&!a)return o;if(!this._hasFirstTarget&&i){var s=xu(i);if(s)return this.updateState(s,!1),this.state}return this.state.isPersisted=!1,this.state},r.prototype.updateSelectors=function(){},r.prototype.unsetAbles=function(){var e=this;this.targetAbles.forEach(function(n){n.unset&&n.unset(e)})},r.prototype.updateAbles=function(e,n){e===void 0&&(e=this.props.ables),n===void 0&&(n="");var a=this.props,i=a.triggerAblesSimultaneously,o=this.getEnabledAbles(e),s="drag".concat(n,"Start"),u="pinch".concat(n,"Start"),f="drag".concat(n,"ControlStart"),l=_n(o,[s,u],i),d=_n(o,[f],i);this.enabledAbles=o,this.targetAbles=l,this.controlAbles=d},r.prototype.updateState=function(e,n){if(n){if(this.isUnmounted)return;this.setState(e)}else{var a=this.state;for(var i in e)a[i]=e[i]}},r.prototype.getEnabledAbles=function(e){e===void 0&&(e=this.props.ables);var n=this.props;return e.filter(function(a){return a&&(a.always&&n[a.name]!==!1||n[a.name])})},r.prototype.renderAbles=function(){var e=this,n=this.props,a=n.triggerAblesSimultaneously,i={createElement:er};return this.renderState={},Wd($s(_n(this.getEnabledAbles(),["render"],a).map(function(o){var s=o.render;return s(e,i)||[]})).filter(function(o){return o}),function(o){var s=o.key;return s}).map(function(o){return o[0]})},r.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},r.prototype._getRequestStyles=function(){var e=this.getEnabledAbles().reduce(function(n,a){var i,o,s=(o=(i=a.requestStyle)===null||i===void 0?void 0:i.call(a))!==null&&o!==void 0?o:[];return Y(Y([],T(n),!1),T(s),!1)},Y([],T(this.props.requestStyles||[]),!1));return e},r.prototype._updateObserver=function(e){this._updateResizeObserver(e),this._updateMutationObserver(e)},r.prototype._updateEvents=function(){var e=this.targetAbles.length,n=this.controlAbles.length,a=this._dragTarget,i=!e&&this.targetGesto||this._isTargetChanged(!0);i&&(ee(this,!1),this.updateState({gestos:{}})),n||ee(this,!0),a&&e&&!this.targetGesto&&(this.targetGesto=mu(this,a,"")),!this.controlGesto&&n&&(this.controlGesto=bu(this,"Control"))},r.prototype._updateTargets=function(){var e=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=e.dragArea,this._propTarget=e.target,this._originalDragTarget=e.dragTarget||e.target,this._dragTarget=fr(this._originalDragTarget,!0)},r.prototype._renderLines=function(){var e=this.props,n=e,a=n.zoom,i=n.hideDefaultLines,o=n.hideChildMoveableDefaultLines,s=n.parentMoveable;if(i||s&&o)return[];var u=this.getState(),f={createElement:er};return u.renderLines.map(function(l,d){return Te(f,"",l[0],l[1],a,"render-line-".concat(d))})},r.prototype._isTargetChanged=function(e){var n=this.props,a=n.dragTarget||n.target,i=this._prevOriginalDragTarget,o=this._prevDragArea,s=n.dragArea,u=!s&&i!==a,f=(e||s)&&o!==s;return u||f||this._prevPropTarget!=this._propTarget},r.prototype._updateNativeEvents=function(){var e=this,n=this.props,a=n.dragArea?this.areaElement:this.state.target,i=this.events,o=vr(i);if(this._isTargetChanged())for(var s in i){var u=i[s];u&&u.destroy(),i[s]=null}if(a){var f=this.enabledAbles;o.forEach(function(l){var d=_n(f,[l]),c=d.length>0,v=i[l];if(!c){v&&(v.destroy(),i[l]=null);return}v||(v=new yv(a,e,l),i[l]=v),v.setAbles(d)})}},r.prototype._checkUpdateRootContainer=function(){var e=this.props.rootContainer;!this._rootContainer&&e&&(this._rootContainer=fr(e,!0))},r.prototype._checkUpdateViewContainer=function(){var e=this.props.viewContainer;!this._viewContainer&&e&&(this._viewContainer=fr(e,!0));var n=this._viewContainer;n&&this._changeAbleViewClassNames(Y(Y([],T(this._getAbleViewClassNames()),!1),[this.isDragging()?Zd:""],!1))},r.prototype._changeAbleViewClassNames=function(e){var n=this._viewContainer,a=js(e.filter(Boolean),function(f){return f}).map(function(f){var l=T(f,1),d=l[0];return d}),i=this._viewClassNames,o=pe(i,a),s=o.removed,u=o.added;s.forEach(function(f){Ki(n,i[f])}),u.forEach(function(f){Ui(n,a[f])}),this._viewClassNames=a},r.prototype._getAbleViewClassNames=function(){var e=this;return(this.getEnabledAbles().map(function(n){var a;return((a=n.viewClassName)===null||a===void 0?void 0:a.call(n,e))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},r.prototype._getAbleClassName=function(e){var n=this;e===void 0&&(e="");var a=this.getEnabledAbles(),i=this.targetGesto,o=this.controlGesto,s=i!=null&&i.isFlag()?i.getEventData():{},u=o!=null&&o.isFlag()?o.getEventData():{};return a.map(function(f){var l,d,c,v=f.name,p=((l=f.className)===null||l===void 0?void 0:l.call(f,n))||"";return(!((d=s[v])===null||d===void 0)&&d.isEventStart||!((c=u[v])===null||c===void 0)&&c.isEventStart)&&(p+=" ".concat(tt("".concat(v).concat(e,"-dragging")))),p.trim()}).filter(Boolean).join(" ")},r.prototype._updateResizeObserver=function(e){var n,a=this.props,i=a.target,o=yr(this.getControlBoxElement());if(!o.ResizeObserver||!i||!a.useResizeObserver){(n=this._reiszeObserver)===null||n===void 0||n.disconnect();return}if(!(e.target===i&&this._reiszeObserver)){var s=new o.ResizeObserver(this.checkUpdateRect);s.observe(i,{box:"border-box"}),this._reiszeObserver=s}},r.prototype._updateMutationObserver=function(e){var n=this,a,i=this.props,o=i.target,s=yr(this.getControlBoxElement());if(!s.MutationObserver||!o||!i.useMutationObserver){(a=this._mutationObserver)===null||a===void 0||a.disconnect();return}if(!(e.target===o&&this._mutationObserver)){var u=new s.MutationObserver(function(f){var l,d;try{for(var c=nc(f),v=c.next();!v.done;v=c.next()){var p=v.value;p.type==="attributes"&&p.attributeName==="style"&&n.checkUpdateRect()}}catch(h){l={error:h}}finally{try{v&&!v.done&&(d=c.return)&&d.call(c)}finally{if(l)throw l.error}}});u.observe(o,{attributes:!0}),this._mutationObserver=u}},r.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Bs,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},r}(so),si={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,r){var e,n=t.props,a=n.targets||[],i=t.getState(),o=i.left,s=i.top,u=i.isPersisted,f=n.zoom||1,l=t.renderGroupRects,d=((e=n.persistData)===null||e===void 0?void 0:e.children)||[];u?a=d.map(function(){return null}):d=[];var c=ie(t,"parentPosition",[o,s],function(p){return p.join(",")}),v=ie(t,"requestStyles",t.getRequestChildStyles(),function(p){return p.join(",")});return t.moveables=t.moveables.slice(0,a.length),Y(Y([],T(a.map(function(p,h){return r.createElement(oe,{key:"moveable"+h,ref:Ai(t,"moveables",h),target:p,origin:!1,requestStyles:v,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[o,s],persistData:d[h],zoom:f})})),!1),T($s(l.map(function(p,h){var g=p.pos1,m=p.pos2,b=p.pos3,y=p.pos4,x=[g,m,b,y];return[[0,1],[1,3],[3,2],[2,0]].map(function(E,S){var C=T(E,2),w=C[0],D=C[1];return Te(r,"",rt(x[w],c),rt(x[D],c),f,"group-rect-".concat(h,"-").concat(S))})}))),!1)}},Ev=De("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,r){r.datas.inputTarget=r.inputEvent&&r.inputEvent.target},dragEnd:function(t,r){var e=t.props.target,n=r.inputEvent,a=r.inputTarget,i=t.isMoveableElement(a),o=!i&&t.controlBox.contains(a);if(!(!n||!a||r.isDrag||t.isMoveableElement(a)||o)){var s=e.contains(a);Z(t,"onClick",lt(t,r,{isDouble:r.isDouble,inputTarget:a,isTarget:e===a,moveableTarget:t.props.target,containsTarget:s}))}},dragGroupEnd:function(t,r){var e=r.inputEvent,n=r.inputTarget;if(!(!e||!n||r.isDrag||t.isMoveableElement(n)||r.datas.inputTarget===n)){var a=t.props.targets,i=a.indexOf(n),o=i>-1,s=!1;i===-1&&(i=dr(a,function(u){return u.contains(n)}),s=i>-1),Z(t,"onClickGroup",lt(t,r,{isDouble:r.isDouble,targets:a,inputTarget:n,targetIndex:i,isTarget:o,containsTarget:s,moveableTarget:a[i]}))}},dragControlEnd:function(t,r){this.dragEnd(t,r)},dragGroupControlEnd:function(t,r){this.dragEnd(t,r)}});function se(t){var r=t.originalDatas.draggable;return r||(t.originalDatas.draggable={},r=t.originalDatas.draggable),M(M({},t),{datas:r})}var wv=De("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(t,r){var e=t.props,n=e.edgeDraggable;return n?Qo(r,"edgeDraggable",n,t.getState().renderPoses,e.zoom):[]},dragCondition:function(t,r){var e,n=t.props,a=(e=r.inputEvent)===null||e===void 0?void 0:e.target;return!n.edgeDraggable||!a?!1:!n.draggable&&zt(a,tt("direction"))&&zt(a,tt("edge"))&&zt(a,tt("edgeDraggable"))},dragStart:function(t,r){return Nt.dragStart(t,se(r))},drag:function(t,r){return Nt.drag(t,se(r))},dragEnd:function(t,r){return Nt.dragEnd(t,se(r))},dragGroupCondition:function(t,r){var e,n=t.props,a=(e=r.inputEvent)===null||e===void 0?void 0:e.target;return!n.edgeDraggable||!a?!1:!n.draggable&&zt(a,tt("direction"))&&zt(a,tt("line"))},dragGroupStart:function(t,r){return Nt.dragGroupStart(t,se(r))},dragGroup:function(t,r){return Nt.dragGroup(t,se(r))},dragGroupEnd:function(t,r){return Nt.dragGroupEnd(t,se(r))},unset:function(t){return Nt.unset(t)}}),Su={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},ui=[hu,ou,Rd,Vd,Nt,wv,Ba,jd,Ud,ld,tv,rv,Jd,vv,dv,mv,si,Su,Ev,iu,gu],_v=ui.reduce(function(t,r){return(r.events||[]).forEach(function(e){$i(t,e)}),t},[]),Cv=ui.reduce(function(t,r){return(r.props||[]).forEach(function(e){$i(t,e)}),t},[]);function Eu(t,r){var e=T(t,3),n=e[0],a=e[1],i=e[2];return(n*r[0]+a*r[1]+i)/Math.sqrt(n*n+a*a)}function Tn(t,r){var e=T(t,2),n=e[0],a=e[1];return-n*r[0]-a*r[1]}function wu(t,r){return Math.max.apply(Math,Y([],T(t.map(function(e){var n=T(e,4),a=n[0],i=n[1],o=n[2],s=n[3];return Math.max(a[r],i[r],o[r],s[r])})),!1))}function _u(t,r){return Math.min.apply(Math,Y([],T(t.map(function(e){var n=T(e,4),a=n[0],i=n[1],o=n[2],s=n[3];return Math.min(a[r],i[r],o[r],s[r])})),!1))}function Dv(t,r){var e,n,a,i=[0,0],o=[0,0],s=[0,0],u=[0,0],f=0,l=0;if(!t.length)return{pos1:i,pos2:o,pos3:s,pos4:u,minX:0,minY:0,maxX:0,maxY:0,width:f,height:l,rotation:r};var d=it(r,Ft);if(d%90){var c=d/180*Math.PI,v=Math.tan(c),p=-1/v,h=[Sa,Wo],g=[[0,0],[0,0]],m=[Sa,Wo],b=[[0,0],[0,0]];t.forEach(function(U){U.forEach(function(j){var $=Eu([-v,1,0],j),V=Eu([-p,1,0],j);h[0]>$&&(g[0]=j,h[0]=$),h[1]<$&&(g[1]=j,h[1]=$),m[0]>V&&(b[0]=j,m[0]=V),m[1]<V&&(b[1]=j,m[1]=V)})});var y=T(g,2),x=y[0],E=y[1],S=T(b,2),C=S[0],w=S[1],D=[-v,1,Tn([-v,1],x)],_=[-v,1,Tn([-v,1],E)],z=[-p,1,Tn([-p,1],C)],O=[-p,1,Tn([-p,1],w)];e=T([[D,z],[D,O],[_,z],[_,O]].map(function(U){var j=T(U,2),$=j[0],V=j[1];return la($,V)[0]}),4),i=e[0],o=e[1],s=e[2],u=e[3],f=m[1]-m[0],l=h[1]-h[0]}else{var R=_u(t,0),P=_u(t,1),k=wu(t,0),I=wu(t,1);if(i=[R,P],o=[k,P],s=[R,I],u=[k,I],f=k-R,l=I-P,d%180){var L=[s,i,u,o];n=T(L,4),i=n[0],o=n[1],s=n[2],u=n[3],f=I-P,l=k-R}}if(d%360>180){var L=[u,s,o,i];a=T(L,4),i=a[0],o=a[1],s=a[2],u=a[3]}var G=Rr([i,o,s,u]),W=G.minX,N=G.minY,B=G.maxX,X=G.maxY;return{pos1:i,pos2:o,pos3:s,pos4:u,width:f,height:l,minX:W,minY:N,maxX:B,maxY:X,rotation:r}}function Cu(t,r){var e=r.map(function(n){if(Tt(n)){var a=Cu(t,n),i=a.length;return i>1?a:i===1?a[0]:null}else{var o=Xt(t,function(s){var u=s.manager;return u.props.target===n});return o?(o.finded=!0,o.manager):null}}).filter(Boolean);return e.length===1&&Tt(e[0])?e[0]:e}var Mv=function(t){Ce(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.differ=new Ro,e.moveables=[],e.transformOrigin="50% 50%",e.renderGroupRects=[],e._targetGroups=[],e._hasFirstTargets=!1,e}return r.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},r.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},r.prototype.getTargets=function(){return this.props.targets},r.prototype.updateRect=function(e,n,a){var i;a===void 0&&(a=!0);var o=this.state;if(!this.controlBox||o.isPersisted)return;Qr(!0),this.moveables.forEach(function(Q){Q.updateRect(e,!1,!1)});var s=this.props,u=this.moveables,f=o.target||s.target,l=u.map(function(Q){return{finded:!1,manager:Q}}),d=this.props.targetGroups||[],c=Cu(l,d),v=s.useDefaultGroupRotate;c.push.apply(c,Y([],T(l.filter(function(Q){var ot=Q.finded;return!ot}).map(function(Q){var ot=Q.manager;return ot})),!1));var p=[],h=!n||e!==""&&s.updateGroup,g=s.defaultGroupRotate||0;if(!this._hasFirstTargets){var m=(i=s.persistData)===null||i===void 0?void 0:i.rotation;m!=null&&(g=m)}function b(Q,ot,pt){var q=Q.map(function(yt){if(Tt(yt)){var ct=b(yt,ot),mt=[ct.pos1,ct.pos2,ct.pos3,ct.pos4];return p.push(ct),{poses:mt,rotation:ct.rotation}}else return{poses:Qt(yt.state),rotation:yt.getRotation()}}),J=q.map(function(yt){var ct=yt.rotation;return ct}),gt=0,at=J[0],st=J.every(function(yt){return Math.abs(at-yt)<.1});h?gt=!v&&st?at:g:gt=!v&&!pt&&st?at:ot;var dt=q.map(function(yt){var ct=yt.poses;return ct}),bt=Dv(dt,gt);return bt}var y=b(c,this.rotation,!0);h&&(this.rotation=y.rotation,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=d,this.renderGroupRects=p;var x=this.transformOrigin,E=this.rotation,S=this.scale,C=y.width,w=y.height,D=y.minX,_=y.minY,z=qd([[0,0],[C,0],[0,w],[C,w]],ti(x,C,w),this.rotation/180*Math.PI),O=Rr(z.result),R=O.minX,P=O.minY,k=" rotate(".concat(E,"deg)")+" scale(".concat(Wt(S[0]),", ").concat(Wt(S[1]),")"),I="translate(".concat(-R,"px, ").concat(-P,"px)").concat(k);this.controlBox.style.transform="translate3d(".concat(D,"px, ").concat(_,"px, ").concat(this.props.translateZ||0,")"),f.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(x,";")+"width:".concat(C,"px;height:").concat(w,"px;")+"transform: ".concat(I),o.width=C,o.height=w;var L=this.getContainer(),G=oi(this.controlBox,f,this.controlBox,this.getContainer(),this._rootContainer||L,[]),W=[G.left,G.top],N=T(Qt(G),4),B=N[0],X=N[1],U=N[2],j=N[3],$=Rr([B,X,U,j]),V=[$.minX,$.minY],K=Wt(S[0]*S[1]);G.pos1=rt(B,V),G.pos2=rt(X,V),G.pos3=rt(U,V),G.pos4=rt(j,V),G.left=D-G.left+V[0],G.top=_-G.top+V[1],G.origin=rt(ht(W,G.origin),V),G.beforeOrigin=rt(ht(W,G.beforeOrigin),V),G.originalBeforeOrigin=ht(W,G.originalBeforeOrigin),G.transformOrigin=rt(ht(W,G.transformOrigin),V),f.style.transform="translate(".concat(-R-V[0],"px, ").concat(-P-V[1],"px)")+k,Qr(),this.updateState(M(M({},G),{posDelta:V,direction:K,beforeDirection:K}),a)},r.prototype.getRect=function(){return M(M({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(e){return e.getRect()})})},r.prototype.triggerEvent=function(e,n,a){if(a||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,n);this._emitter.trigger(e,n)},r.prototype.getRequestChildStyles=function(){var e=this.getEnabledAbles().reduce(function(n,a){var i,o,s=(o=(i=a.requestChildStyle)===null||i===void 0?void 0:i.call(a))!==null&&o!==void 0?o:[];return Y(Y([],T(n),!1),T(s),!1)},[]);return e},r.prototype.getMoveables=function(){return Y([],T(this.moveables),!1)},r.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,Y(Y([],T(this.props.ables),!1),[si],!1),"Group")},r.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=fr(this._originalDragTarget,!0)},r.prototype._updateEvents=function(){var e=this.state,n=this.props,a=this._prevDragTarget,i=n.dragTarget||this.areaElement,o=n.targets,s=this.differ.update(o),u=s.added,f=s.changed,l=s.removed,d=u.length||l.length;(d||this._prevOriginalDragTarget!==this._originalDragTarget)&&(ee(this,!1),ee(this,!0),this.updateState({gestos:{}})),a!==i&&(e.target=null),e.target||(e.target=this.areaElement,this.controlBox.style.display="block"),e.target&&(this.targetGesto||(this.targetGesto=mu(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=bu(this,"GroupControl")));var c=!Ua(e.container,n.container);c&&(e.container=n.container),(c||d||this.transformOrigin!==(n.defaultGroupOrigin||"50% 50%")||f.length||o.length&&!Qs(this._targetGroups,n.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!d},r.prototype._updateObserver=function(){},r.defaultProps=M(M({},oe.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),r}(oe),Rv=function(t){Ce(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.moveables=[],e}return r.prototype.render=function(){var e=this,n,a=this.props,i=a.cspNonce,o=a.cssStyled,s=a.persistData,u=a.targets||[],f=u.length,l=this.isUnmounted||!f,d=(n=s==null?void 0:s.children)!==null&&n!==void 0?n:[];return l&&!f&&d.length?u=d.map(function(){return null}):l||(d=[]),er(o,{cspNonce:i,ref:cr(this,"controlBox"),className:tt("control-box")},u.map(function(c,v){var p,h,g=(h=(p=a.individualGroupableProps)===null||p===void 0?void 0:p.call(a,c,v))!==null&&h!==void 0?h:{};return er(oe,M({key:"moveable"+v,ref:Ai(e,"moveables",v)},a,g,{target:c,wrapperMoveable:e,isWrapperMounted:e.isMoveableMounted,persistData:d[v]}))}))},r.prototype.componentDidMount=function(){},r.prototype.componentDidUpdate=function(){},r.prototype.getTargets=function(){return this.props.targets},r.prototype.updateRect=function(e,n,a){a===void 0&&(a=!0),Qr(!0),this.moveables.forEach(function(i){i.updateRect(e,n,a)}),Qr()},r.prototype.getRect=function(){return M(M({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(e){return e.getRect()})})},r.prototype.request=function(e,n,a){n===void 0&&(n={});var i=this.moveables.map(function(u){return u.request(e,M(M({},n),{isInstant:!1}),!1)}),o=a||n.isInstant,s={request:function(u){return i.forEach(function(f){return f.request(u)}),this},requestEnd:function(){return i.forEach(function(u){return u.requestEnd()}),this}};return o?s.request(n).requestEnd():s},r.prototype.dragStart=function(e,n){n===void 0&&(n=e.target);var a=n,i=Xt(this.moveables,function(o){var s=o.getTargets()[0],u=o.getControlBoxElement(),f=o.getDragElement();return!s||!f?!1:f===a||f.contains(a)||f!==s&&s===a||s.contains(a)||u===a||u.contains(a)});return i&&i.dragStart(e,n),this},r.prototype.hitTest=function(){return 0},r.prototype.isInside=function(){return!1},r.prototype.isDragging=function(){return!1},r.prototype.getDragElement=function(){return null},r.prototype.getMoveables=function(){return Y([],T(this.moveables),!1)},r.prototype.updateRenderPoses=function(){},r.prototype.checkUpdate=function(){},r.prototype.triggerEvent=function(){},r.prototype.updateAbles=function(){},r.prototype._updateEvents=function(){},r.prototype._updateObserver=function(){},r}(oe);function Du(t,r){var e=[];return t.forEach(function(n){if(n){if(Yt(n)){r[n]&&e.push.apply(e,Y([],T(r[n]),!1));return}Tt(n)?e.push.apply(e,Y([],T(Du(n,r)),!1)):e.push(n)}}),e}function Mu(t,r){var e=[];return t.forEach(function(n){if(n){if(Yt(n)){r[n]&&e.push.apply(e,Y([],T(r[n]),!1));return}Tt(n)?e.push(Mu(n,r)):e.push(n)}}),e}function Ru(t,r){return t.length!==r.length||t.some(function(e,n){var a=r[n];return!e&&!a?!1:e!=a?Tt(e)&&Tt(a)?Ru(e,a):!0:!1})}var Tv=function(t){Ce(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e._differ=new Ro,e._elementTargets=[],e._tmpRefTargets=[],e._tmpSelectorMap={},e._onChangeTargets=null,e}return r.makeStyled=function(){var e={},n=this.getTotalAbles();n.forEach(function(i){var o=i.css;o&&o.forEach(function(s){e[s]=!0})});var a=vr(e).join(`
`);this.defaultStyled=Go("div",Ef(ya,pc+a))},r.getTotalAbles=function(){return Y([ou,si,Su,iu],T(this.defaultAbles),!1)},r.prototype.render=function(){var e,n=this.constructor;n.defaultStyled||n.makeStyled();var a=this.props,i=a.ables,o=a.props,s=rc(a,["ables","props"]),u=T(this._updateRefs(!0),2),f=u[0],l=u[1],d=Du(f,l),c=d.length>1,v=n.getTotalAbles(),p=Y(Y([],T(v),!1),T(i||[]),!1),h=M(M(M({},s),o||{}),{ables:p,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=d;var g=null,m=this.moveable,b=s.persistData;if(b!=null&&b.children&&(c=!0),s.individualGroupable)return er(Rv,M({key:"individual-group",ref:cr(this,"moveable")},h,{target:null,targets:d}));if(c){var y=Mu(f,l);if(m&&!m.props.groupable&&!m.props.individualGroupable){var x=m.props.target;x&&d.indexOf(x)>-1&&(g=M({},m.state))}return er(Mv,M({key:"group",ref:cr(this,"moveable")},h,(e=s.groupableProps)!==null&&e!==void 0?e:{},{target:null,targets:d,targetGroups:y,firstRenderState:g}))}else{var E=d[0];if(m&&(m.props.groupable||m.props.individualGroupable)){var S=m.moveables||[],C=Xt(S,function(w){return w.props.target===E});C&&(g=M({},C.state))}return er(oe,M({key:"single",ref:cr(this,"moveable")},h,{target:E,firstRenderState:g}))}},r.prototype.componentDidMount=function(){this._checkChangeTargets()},r.prototype.componentDidUpdate=function(){this._checkChangeTargets()},r.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},r.prototype.getTargets=function(){var e,n;return(n=(e=this.moveable)===null||e===void 0?void 0:e.getTargets())!==null&&n!==void 0?n:[]},r.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},r.prototype.waitToChangeTarget=function(){var e=this,n;return this._onChangeTargets=function(){e._onChangeTargets=null,n()},new Promise(function(a){n=a})},r.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},r.prototype.getManager=function(){return this.moveable},r.prototype.getMoveables=function(){return this.moveable.getMoveables()},r.prototype.getDragElement=function(){return this.moveable.getDragElement()},r.prototype._updateRefs=function(e){var n=this.refTargets,a=Ja(this.props.target||this.props.targets),i=typeof document<"u",o=Ru(n,a),s=this.selectorMap,u={};return this.refTargets.forEach(function f(l){if(Yt(l)){var d=s[l];d?u[l]=s[l]:i&&(o=!0,u[l]=[].slice.call(document.querySelectorAll(l)))}else Tt(l)&&l.forEach(f)}),this._tmpRefTargets=a,this._tmpSelectorMap=u,[a,u,!e&&o]},r.prototype._checkChangeTargets=function(){var e,n,a;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var i=this._differ.update(this._elementTargets),o=i.added,s=i.removed,u=o.length||s.length;u&&((n=(e=this.props).onChangeTargets)===null||n===void 0||n.call(e,{moveable:this.moveable,targets:this._elementTargets}),(a=this._onChangeTargets)===null||a===void 0||a.call(this));var f=T(this._updateRefs(),3),l=f[0],d=f[1],c=f[2];this.refTargets=l,this.selectorMap=d,c&&this.forceUpdate()},r.defaultAbles=[],r.customStyledMap={},r.defaultStyled=null,ec([wf(Yo)],r.prototype,"moveable",void 0),r}(so),Ov=function(t){Ce(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.defaultAbles=ui,r}(Tv),fi=function(t,r){return fi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},fi(t,r)};function li(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");fi(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ae=function(){return Ae=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ae.apply(this,arguments)};function zv(t,r,e,n){var a=arguments.length,i=a<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,r,e,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(r,e,i):o(r,e))||i);return a>3&&i&&Object.defineProperty(r,e,i),i}var Pv=function(t){li(r,t);function r(n){var a=t.call(this,n)||this;return a.state={},a.state=a.props,a}var e=r.prototype;return e.render=function(){return er(Ov,Ae({ref:cr(this,"moveable")},this.state))},r}(Kn),kv=Cv,Iv=Yo,Bv=_v,Gv=function(t){li(r,t);function r(n,a){a===void 0&&(a={});var i=t.call(this)||this;i.containerProvider=null,i.selfElement=null,i._warp=!1;var o=Ae({},a),s={};Bv.forEach(function(l){s[kf("on ".concat(l))]=function(d){return i.trigger(l,d)}});var u;a.warpSelf?(delete a.warpSelf,i._warp=!0,u=n):(u=Yr(n).createElement("div"),n.appendChild(u)),i.containerProvider=vo(er(Pv,Ae({ref:cr(i,"innerMoveable")},o,s)),u),i.selfElement=u;var f=o.target;return Tt(f)&&f.length>1&&i.updateRect(),i}var e=r.prototype;return e.setState=function(n,a){this.innerMoveable.setState(n,a)},e.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},e.dragStart=function(n,a){a===void 0&&(a=n.target);var i=this.innerMoveable;i.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n,a)},e.destroy=function(){var n,a=this.selfElement;vo(null,a,this.containerProvider),this._warp||(n=a==null?void 0:a.parentElement)===null||n===void 0||n.removeChild(a),this.containerProvider=null,this.off(),this.selfElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.moveable},r=zv([Fi(Iv,function(n,a){n[a]||(n[a]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=this.getMoveable();if(!(!s||!s[a]))return s[a].apply(s,i)})}),Fi(kv,function(n,a){Object.defineProperty(n,a,{get:function(){return this.getMoveable().props[a]},set:function(i){var o;this.setState((o={},o[a]=i,o))},enumerable:!0,configurable:!0})})],r),r}(Je),Av=function(t){li(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r}(Gv);const ci=H.defineComponent({__name:"grid-item",props:{isDraggable:{type:Boolean,default:null},isResizable:{type:Boolean,default:null},isBounded:{type:Boolean,default:null},static:{type:Boolean,default:!1},minH:{type:Number,default:1},minW:{type:Number,default:1},maxH:{type:Number,default:1/0},maxW:{type:Number,default:1/0},x:{type:Number,required:!0},y:{type:Number,required:!0},w:{type:Number,required:!0},h:{type:Number,required:!0},i:{type:[Number,String],required:!0}},emits:["container-resized","resize","resized","move","moved"],setup(t,{expose:r,emit:e}){const n=t,a=H.inject(Ci),i=H.inject(Di);if(!a)throw new Error("[grid-layout-plus]: missing layout store, GridItem must under a GridLayout.");const o=H.ref(null),s=H.reactive({cols:1,containerWidth:100,rowHeight:30,margin:[10,10],maxRows:1/0,draggable:null,resizable:null,bounded:null,transformScale:1,useCssTransforms:!0,useStyleCursor:!0,isDragging:!1,dragging:{top:-1,left:-1},isResizing:!1,resizing:{width:-1,height:-1},style:{},rtl:!1});let u=!1,f=!1,l=NaN,d=NaN,c=NaN,v=NaN,p=-1,h=-1,g=-1,m=-1,b=n.x,y=n.y,x=n.w,E=n.h;const S=H.ref(),C=H.reactive({i:H.toRef(n,"i"),state:s,wrapper:S,calcXY:pt});function w(F){st(F)}function D(){dt()}function _(F){$t(n.isDraggable)&&(s.draggable=F)}function z(F){$t(n.isResizable)&&(s.resizable=F)}function O(F){$t(n.isBounded)&&(s.bounded=F)}function R(F){s.transformScale=F}function P(F){s.rowHeight=F}function k(F){s.maxRows=F}function I(){s.rtl=Gi()==="rtl",dt()}function L(F){s.cols=Math.floor(F)}a.increaseItem(C),H.onBeforeMount(()=>{s.rtl=Gi()==="rtl"}),H.onMounted(()=>{a.responsive&&a.lastBreakpoint?s.cols=Fn(a.lastBreakpoint,a.cols):s.cols=a.colNum,s.rowHeight=a.rowHeight,s.containerWidth=a.width!==null?a.width:100,s.margin=a.margin!==void 0?a.margin.map(Number):[10,10],s.maxRows=a.maxRows,$t(n.isDraggable)?s.draggable=a.isDraggable:s.draggable=n.isDraggable,$t(n.isResizable)?s.resizable=a.isResizable:s.resizable=n.isResizable,$t(n.isBounded)?s.bounded=a.isBounded:s.bounded=n.isBounded,s.transformScale=a.transformScale,s.useCssTransforms=a.useCssTransforms,s.useStyleCursor=a.useStyleCursor,H.watchEffect(()=>{b=n.x,y=n.y,E=n.h,x=n.w,At($)}),i.on("updateWidth",w),i.on("compact",D),i.on("setDraggable",_),i.on("setResizable",z),i.on("setBounded",O),i.on("setTransformScale",R),i.on("setRowHeight",P),i.on("setMaxRows",k),i.on("directionchange",I),i.on("setColNum",L)}),H.onBeforeUnmount(()=>{i.off("updateWidth",w),i.off("compact",D),i.off("setDraggable",_),i.off("setResizable",z),i.off("setBounded",O),i.off("setTransformScale",R),i.off("setRowHeight",P),i.off("setMaxRows",k),i.off("directionchange",I),i.off("setColNum",L),o.value&&o.value.destroy(),a.decreaseItem(C)}),r({state:s,wrapper:S});const G=navigator.userAgent.toLowerCase().includes("android"),W=H.computed(()=>s.resizable&&!n.static),N=H.computed(()=>a.isMirrored?!s.rtl:s.rtl),B=H.computed(()=>(s.draggable||s.resizable)&&!n.static),X=pf("item"),U=H.computed(()=>({[X.b()]:!0,[X.bm("resizable")]:W.value,[X.bm("static")]:n.static,[X.bm("resizing")]:s.isResizing,[X.bm("dragging")]:s.isDragging,[X.bm("transform")]:s.useCssTransforms,[X.bm("rtl")]:N.value,[X.bm("no-touch")]:G&&B.value})),j=H.computed(()=>[X.be("resizer"),N.value&&X.bem("resizer","rtl")].filter(Boolean));H.watch(()=>n.isDraggable,F=>{s.draggable=F}),H.watch(()=>n.static,()=>{At(ct),At(Ct)}),H.watch(()=>s.draggable,()=>{At(ct)}),H.watch(()=>n.isResizable,F=>{s.resizable=F}),H.watch(()=>n.isBounded,F=>{s.bounded=F}),H.watch(()=>s.resizable,()=>{At(Ct)}),H.watch(()=>s.rowHeight,()=>{At($),At(V)}),H.watch([()=>s.cols,()=>s.containerWidth],()=>{At(Ct),At($),At(V)}),H.watch([()=>n.minH,()=>n.maxH,()=>n.minW,()=>n.maxW],()=>{At(Ct)}),H.watch(N,()=>{At(Ct),At($)}),H.watch([()=>a.margin,()=>a.margin[0],()=>a.margin[1]],()=>{const F=a.margin;!F||F[0]===s.margin[0]&&F[1]===s.margin[1]||(s.margin=F.map(Number),At($),At(V))});function $(){n.x+n.w>s.cols?(b=0,x=n.w>s.cols?s.cols:n.w):(b=n.x,x=n.w);const F=ot(b,y,x,E);s.isDragging&&(F.top=s.dragging.top,N.value?F.right=s.dragging.left:F.left=s.dragging.left),s.isResizing&&(F.width=s.resizing.width,F.height=s.resizing.height);let et;s.useCssTransforms?N.value?et=lf(F.top,F.right,F.width,F.height):et=ff(F.top,F.left,F.width,F.height):N.value?et=df(F.top,F.right,F.width,F.height):et=cf(F.top,F.left,F.width,F.height),s.style=et}function V(){const F={};for(const et of["width","height"]){const ft=s.style[et].match(/^(\d+)px$/);if(!ft)return;F[et]=ft[1]}e("container-resized",n.i,n.h,n.w,F.height,F.width)}function K(F,et){if(n.static||et==="resizestart"&&s.isResizing||et!=="resizestart"&&!s.isResizing)return;const ut=ki(F);if($t(ut))return;const{x:ft,y:Et}=ut,vt={width:0,height:0};let nt;switch(et){case"resizestart":{Ct(),p=x,h=E,nt=ot(b,y,x,E),vt.width=nt.width,vt.height=nt.height,s.resizing=vt,s.isResizing=!0;break}case"resizemove":{const Bt=Ii(c,v,ft,Et);N.value?vt.width=s.resizing.width-Bt.deltaX/s.transformScale:vt.width=s.resizing.width+Bt.deltaX/s.transformScale,vt.height=s.resizing.height+Bt.deltaY/s.transformScale,s.resizing=vt;break}case"resizeend":{nt=ot(b,y,x,E),vt.width=nt.width,vt.height=nt.height,s.resizing={width:-1,height:-1},s.isResizing=!1;break}}nt=at(vt.height,vt.width),nt.w<n.minW&&(nt.w=n.minW),nt.w>n.maxW&&(nt.w=n.maxW),nt.h<n.minH&&(nt.h=n.minH),nt.h>n.maxH&&(nt.h=n.maxH),nt.h<1&&(nt.h=1),nt.w<1&&(nt.w=1),c=ft,v=Et,(x!==nt.w||E!==nt.h)&&e("resize",n.i,nt.h,nt.w,vt.height,vt.width),et==="resizeend"&&(p!==x||h!==E)&&e("resized",n.i,nt.h,nt.w,vt.height,vt.width),i.emit("resizeEvent",et,n.i,b,y,nt.h,nt.w)}function Q(F,et){if(n.static||s.isResizing||et==="dragstart"&&s.isDragging||et!=="dragstart"&&!s.isDragging)return;const ut=ki(F);if($t(ut))return;const{x:ft,y:Et}=ut,vt=F.target;if(!vt.offsetParent)return;const nt={top:0,left:0};switch(et){case"dragstart":{g=b,m=y;const Kt=vt.offsetParent.getBoundingClientRect(),jt=vt.getBoundingClientRect(),gr=jt.left/s.transformScale,Nr=Kt.left/s.transformScale,fe=jt.right/s.transformScale,Lr=Kt.right/s.transformScale,Le=jt.top/s.transformScale,We=Kt.top/s.transformScale;N.value?nt.left=(fe-Lr)*-1:nt.left=gr-Nr,nt.top=Le-We,s.dragging=nt,s.isDragging=!0;break}case"dragmove":{const Kt=Ii(l,d,ft,Et);if(N.value?nt.left=s.dragging.left-Kt.deltaX/s.transformScale:nt.left=s.dragging.left+Kt.deltaX/s.transformScale,nt.top=s.dragging.top+Kt.deltaY/s.transformScale,s.bounded){const jt=vt.offsetParent.clientHeight-J(n.h,s.rowHeight,s.margin[1]);nt.top=gt(nt.top,0,jt);const gr=q(),Nr=s.containerWidth-J(n.w,gr,s.margin[0]);nt.left=gt(nt.left,0,Nr)}s.dragging=nt;break}case"dragend":{const Kt=vt.offsetParent.getBoundingClientRect(),jt=vt.getBoundingClientRect(),gr=jt.left/s.transformScale,Nr=Kt.left/s.transformScale,fe=jt.right/s.transformScale,Lr=Kt.right/s.transformScale,Le=jt.top/s.transformScale,We=Kt.top/s.transformScale;N.value?nt.left=(fe-Lr)*-1:nt.left=gr-Nr,nt.top=Le-We,s.dragging={top:-1,left:-1},s.isDragging=!1;break}}let Bt;N.value,Bt=pt(nt.top,nt.left),l=ft,d=Et,(b!==Bt.x||y!==Bt.y)&&e("move",n.i,Bt.x,Bt.y),et==="dragend"&&(g!==b||m!==y)&&e("moved",n.i,Bt.x,Bt.y),i.emit("dragEvent",et,n.i,Bt.x,Bt.y,E,x)}function ot(F,et,ut,ft){const Et=q();let vt;return N.value?vt={right:Math.round(Et*F+(F+1)*s.margin[0]),top:Math.round(s.rowHeight*et+(et+1)*s.margin[1]),width:ut===1/0?ut:Math.round(Et*ut+Math.max(0,ut-1)*s.margin[0]),height:ft===1/0?ft:Math.round(s.rowHeight*ft+Math.max(0,ft-1)*s.margin[1])}:vt={left:Math.round(Et*F+(F+1)*s.margin[0]),top:Math.round(s.rowHeight*et+(et+1)*s.margin[1]),width:ut===1/0?ut:Math.round(Et*ut+Math.max(0,ut-1)*s.margin[0]),height:ft===1/0?ft:Math.round(s.rowHeight*ft+Math.max(0,ft-1)*s.margin[1])},vt}function pt(F,et){const ut=q();let ft=Math.round((et-s.margin[0])/(ut+s.margin[0])),Et=Math.round((F-s.margin[1])/(s.rowHeight+s.margin[1]));return ft=Math.max(Math.min(ft,s.cols-x),0),Et=Math.max(Math.min(Et,s.maxRows-E),0),{x:ft,y:Et}}function q(){return(s.containerWidth-s.margin[0]*(s.cols+1))/s.cols}function J(F,et,ut){return Number.isFinite(F)?Math.round(et*F+Math.max(0,F-1)*ut):F}function gt(F,et,ut){return Math.max(Math.min(F,ut),et)}function at(F,et,ut=!1){const ft=q();let Et=Math.round((et+s.margin[0])/(ft+s.margin[0])),vt=0;return ut?vt=Math.ceil((F+s.margin[1])/(s.rowHeight+s.margin[1])):vt=Math.round((F+s.margin[1])/(s.rowHeight+s.margin[1])),Et=Math.max(Math.min(Et,s.cols-b),0),vt=Math.max(Math.min(vt,s.maxRows-y),0),{w:Et,h:vt}}function st(F,et){s.containerWidth=F,et!=null&&(s.cols=et)}function dt(){$()}function bt(){!o.value&&S.value&&(o.value=new Av(document.body,{target:S.value,hideDefaultLines:!0,origin:!1}))}const yt=Ei(Q);function ct(){bt(),o.value&&(s.draggable&&!n.static?(o.value.setState({draggable:!0}),u||(u=!0,o.value.on("dragStart",F=>Q(F,"dragstart")).on("drag",F=>yt(F,"dragmove")).on("dragEnd",F=>Q(F,"dragend")))):o.value.setState({draggable:!1}))}const mt=Ei(K);function Ct(){bt(),o.value&&(s.resizable&&!n.static?(o.value.setState({resizable:!0}),f||(f=!0,o.value.on("resizeStart",F=>K(F,"resizestart")).on("resize",F=>mt(F,"resizemove")).on("resizeEnd",F=>K(F,"resizeend")))):o.value.setState({resizable:!1}))}return(F,et)=>(H.openBlock(),H.createElementBlock("section",{ref_key:"wrapper",ref:S,class:H.normalizeClass(H.unref(U)),style:H.normalizeStyle(s.style)},[H.renderSlot(F.$slots,"default"),H.unref(W)?(H.openBlock(),H.createElementBlock("span",{key:0,class:H.normalizeClass(H.unref(j))},null,2)):H.createCommentVNode("",!0)],6))}}),Gr=typeof window<"u";var Tu;Gr&&(Tu=window==null?void 0:window.navigator)!=null&&Tu.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ou(t){return t!=null}function di(){}const Fv=Object.freeze({aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"});Object.freeze(new Set(Object.keys(Fv)));const Nv=Gr&&("ontouchstart"in window||Wv()>0),Lv=Nv?"pointerdown":"click";function Wv(){return typeof navigator<"u"&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints)||0}function Hv(t,r,e=window.Event){const{type:n,bubbles:a=!1,cancelable:i=!1,...o}=r;if(!Ou(n)||n==="")return!1;let s;return Ou(e)?s=new e(n,{bubbles:a,cancelable:i}):(s=document.createEvent("HTMLEvents"),s.initEvent(n,a,i)),Object.assign(s,o),t.dispatchEvent(s)}const Yv="clickoutside",Xv=new Set;Gr&&document.addEventListener(Lv,t=>{const r=t.target,e=t.composedPath&&t.composedPath();Xv.forEach(n=>{n!==r&&(e?!e.includes(n):!n.contains(r))&&(!n.__transferElement||n.__transferElement!==r&&!n.__transferElement.contains(r))&&Hv(n,{type:Yv})})},!0);const qv=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];let On;if(Gr){for(const t of qv)if(t[1]in document){On=t;break}}const Vv=!!On;H.computed(()=>!1);const jv=new Set,$v=new WeakMap;if(Gr&&On){const t=On[4];document.addEventListener(t,r=>{if(jv.forEach(e=>{e.value=!1}),r.target){const e=$v.get(r.target);e&&(e.value=!0)}},!1)}const zu=new Map;zu.set("x",0),zu.set("y",0);var Ar=[],Uv=function(){return Ar.some(function(t){return t.activeTargets.length>0})},Kv=function(){return Ar.some(function(t){return t.skippedTargets.length>0})},Pu="ResizeObserver loop completed with undelivered notifications.",Zv=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:Pu}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=Pu),window.dispatchEvent(t)},Fe;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Fe||(Fe={}));var Fr=function(t){return Object.freeze(t)},Jv=function(){function t(r,e){this.inlineSize=r,this.blockSize=e,Fr(this)}return t}(),ku=function(){function t(r,e,n,a){return this.x=r,this.y=e,this.width=n,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Fr(this)}return t.prototype.toJSON=function(){var r=this,e=r.x,n=r.y,a=r.top,i=r.right,o=r.bottom,s=r.left,u=r.width,f=r.height;return{x:e,y:n,top:a,right:i,bottom:o,left:s,width:u,height:f}},t.fromRect=function(r){return new t(r.x,r.y,r.width,r.height)},t}(),vi=function(t){return t instanceof SVGElement&&"getBBox"in t},Iu=function(t){if(vi(t)){var r=t.getBBox(),e=r.width,n=r.height;return!e&&!n}var a=t,i=a.offsetWidth,o=a.offsetHeight;return!(i||o||t.getClientRects().length)},Bu=function(t){var r;if(t instanceof Element)return!0;var e=(r=t==null?void 0:t.ownerDocument)===null||r===void 0?void 0:r.defaultView;return!!(e&&t instanceof e.Element)},Qv=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ne=typeof window<"u"?window:{},zn=new WeakMap,Gu=/auto|scroll/,tp=/^tb|vertical/,rp=/msie|trident/i.test(Ne.navigator&&Ne.navigator.userAgent),lr=function(t){return parseFloat(t||"0")},ue=function(t,r,e){return t===void 0&&(t=0),r===void 0&&(r=0),e===void 0&&(e=!1),new Jv((e?r:t)||0,(e?t:r)||0)},Au=Fr({devicePixelContentBoxSize:ue(),borderBoxSize:ue(),contentBoxSize:ue(),contentRect:new ku(0,0,0,0)}),Fu=function(t,r){if(r===void 0&&(r=!1),zn.has(t)&&!r)return zn.get(t);if(Iu(t))return zn.set(t,Au),Au;var e=getComputedStyle(t),n=vi(t)&&t.ownerSVGElement&&t.getBBox(),a=!rp&&e.boxSizing==="border-box",i=tp.test(e.writingMode||""),o=!n&&Gu.test(e.overflowY||""),s=!n&&Gu.test(e.overflowX||""),u=n?0:lr(e.paddingTop),f=n?0:lr(e.paddingRight),l=n?0:lr(e.paddingBottom),d=n?0:lr(e.paddingLeft),c=n?0:lr(e.borderTopWidth),v=n?0:lr(e.borderRightWidth),p=n?0:lr(e.borderBottomWidth),h=n?0:lr(e.borderLeftWidth),g=d+f,m=u+l,b=h+v,y=c+p,x=s?t.offsetHeight-y-t.clientHeight:0,E=o?t.offsetWidth-b-t.clientWidth:0,S=a?g+b:0,C=a?m+y:0,w=n?n.width:lr(e.width)-S-E,D=n?n.height:lr(e.height)-C-x,_=w+g+E+b,z=D+m+x+y,O=Fr({devicePixelContentBoxSize:ue(Math.round(w*devicePixelRatio),Math.round(D*devicePixelRatio),i),borderBoxSize:ue(_,z,i),contentBoxSize:ue(w,D,i),contentRect:new ku(d,u,w,D)});return zn.set(t,O),O},Nu=function(t,r,e){var n=Fu(t,e),a=n.borderBoxSize,i=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(r){case Fe.DEVICE_PIXEL_CONTENT_BOX:return o;case Fe.BORDER_BOX:return a;default:return i}},ep=function(){function t(r){var e=Fu(r);this.target=r,this.contentRect=e.contentRect,this.borderBoxSize=Fr([e.borderBoxSize]),this.contentBoxSize=Fr([e.contentBoxSize]),this.devicePixelContentBoxSize=Fr([e.devicePixelContentBoxSize])}return t}(),Lu=function(t){if(Iu(t))return 1/0;for(var r=0,e=t.parentNode;e;)r+=1,e=e.parentNode;return r},np=function(){var t=1/0,r=[];Ar.forEach(function(i){if(i.activeTargets.length!==0){var o=[];i.activeTargets.forEach(function(s){var u=new ep(s.target),f=Lu(s.target);o.push(u),s.lastReportedSize=Nu(s.target,s.observedBox),f<t&&(t=f)}),r.push(function(){i.callback.call(i.observer,o,i.observer)}),i.activeTargets.splice(0,i.activeTargets.length)}});for(var e=0,n=r;e<n.length;e++){var a=n[e];a()}return t},Wu=function(t){Ar.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(e){e.isActive()&&(Lu(e.target)>t?r.activeTargets.push(e):r.skippedTargets.push(e))})})},ap=function(){var t=0;for(Wu(t);Uv();)t=np(),Wu(t);return Kv()&&Zv(),t>0},pi,Hu=[],ip=function(){return Hu.splice(0).forEach(function(t){return t()})},op=function(t){if(!pi){var r=0,e=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return ip()}).observe(e,n),pi=function(){e.textContent="".concat(r?r--:r++)}}Hu.push(t),pi()},sp=function(t){op(function(){requestAnimationFrame(t)})},Pn=0,up=function(){return!!Pn},fp=250,lp={attributes:!0,characterData:!0,childList:!0,subtree:!0},Yu=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Xu=function(t){return t===void 0&&(t=0),Date.now()+t},hi=!1,cp=function(){function t(){var r=this;this.stopped=!0,this.listener=function(){return r.schedule()}}return t.prototype.run=function(r){var e=this;if(r===void 0&&(r=fp),!hi){hi=!0;var n=Xu(r);sp(function(){var a=!1;try{a=ap()}finally{if(hi=!1,r=n-Xu(),!up())return;a?e.run(1e3):r>0?e.run(r):e.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var r=this,e=function(){return r.observer&&r.observer.observe(document.body,lp)};document.body?e():Ne.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var r=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Yu.forEach(function(e){return Ne.addEventListener(e,r.listener,!0)}))},t.prototype.stop=function(){var r=this;this.stopped||(this.observer&&this.observer.disconnect(),Yu.forEach(function(e){return Ne.removeEventListener(e,r.listener,!0)}),this.stopped=!0)},t}(),gi=new cp,qu=function(t){!Pn&&t>0&&gi.start(),Pn+=t,!Pn&&gi.stop()},dp=function(t){return!vi(t)&&!Qv(t)&&getComputedStyle(t).display==="inline"},vp=function(){function t(r,e){this.target=r,this.observedBox=e||Fe.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var r=Nu(this.target,this.observedBox,!0);return dp(this.target)&&(this.lastReportedSize=r),this.lastReportedSize.inlineSize!==r.inlineSize||this.lastReportedSize.blockSize!==r.blockSize},t}(),pp=function(){function t(r,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=r,this.callback=e}return t}(),kn=new WeakMap,Vu=function(t,r){for(var e=0;e<t.length;e+=1)if(t[e].target===r)return e;return-1},In=function(){function t(){}return t.connect=function(r,e){var n=new pp(r,e);kn.set(r,n)},t.observe=function(r,e,n){var a=kn.get(r),i=a.observationTargets.length===0;Vu(a.observationTargets,e)<0&&(i&&Ar.push(a),a.observationTargets.push(new vp(e,n&&n.box)),qu(1),gi.schedule())},t.unobserve=function(r,e){var n=kn.get(r),a=Vu(n.observationTargets,e),i=n.observationTargets.length===1;a>=0&&(i&&Ar.splice(Ar.indexOf(n),1),n.observationTargets.splice(a,1),qu(-1))},t.disconnect=function(r){var e=this,n=kn.get(r);n.observationTargets.slice().forEach(function(a){return e.unobserve(r,a.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),hp=function(){function t(r){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof r!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");In.connect(this,r)}return t.prototype.observe=function(r,e){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Bu(r))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");In.observe(this,r,e)},t.prototype.unobserve=function(r){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Bu(r))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");In.unobserve(this,r)},t.prototype.disconnect=function(){In.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const Bn=new WeakMap;function gp(t){for(let r=0,e=t.length;r<e;++r){const n=t[r],a=Bn.get(n.target);typeof a=="function"&&a(n)}}const ju=new(Gr&&window.ResizeObserver||hp)(gp);function mp(t,r){Bn.set(t,r),ju.observe(t)}function bp(t){Bn.has(t)&&(ju.unobserve(t),Bn.delete(t))}function yp(){return{observeResize:mp,unobserveResize:bp}}const xp=H.ref(!1);H.computed(()=>xp.value);const $u="__theme_style__",mi="__theme_observer__",Uu=H.reactive(new Map),Ku=new Map;H.watch(Uu,()=>{if(!Gr)return;Ku.clear();const t=document.head.querySelector(`#${$u}`);t&&document.head.removeChild(t);const r=document.createElement("style");let e=`.${mi} { width: 1px }`,n=1;for(const[a,[i,o]]of Uu.entries())e+=` html.${i} .${mi}, .${o} .${mi} { width: ${++n}px }`,Ku.set(n,a);r.textContent=e,r.id=$u,document.head.appendChild(r)});const Sp=H.defineComponent({__name:"grid-layout",props:{autoSize:{type:Boolean,default:!0},colNum:{type:Number,default:12},rowHeight:{type:Number,default:150},maxRows:{type:Number,default:1/0},margin:{type:Array,default:()=>[10,10]},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},isBounded:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},restoreOnDrag:{type:Boolean,default:!1},layout:{type:Array,required:!0},responsive:{type:Boolean,default:!1},responsiveLayouts:{type:Object,default:()=>({})},transformScale:{type:Number,default:1},breakpoints:{type:Object,default:()=>({lg:1200,md:996,sm:768,xs:480,xxs:0})},cols:{type:Object,default:()=>({lg:12,md:10,sm:6,xs:4,xxs:2})},preventCollision:{type:Boolean,default:!1},useStyleCursor:{type:Boolean,default:!0}},emits:["layout-before-mount","layout-mounted","layout-updated","breakpoint-changed","update:layout","layout-ready"],setup(t,{expose:r,emit:e}){const n=t,a=H.reactive({width:-1,mergedStyle:{},lastLayoutLength:0,isDragging:!1,placeholder:{x:0,y:0,w:0,h:0,i:""},layouts:{},lastBreakpoint:null,originalLayout:null}),i=new Map,o=H.ref(n.layout),s=H.ref(),{observeResize:u,unobserveResize:f}=yp(),l=rf();l.on("resizeEvent",d),l.on("dragEvent",c),H.onBeforeMount(()=>{e("layout-before-mount",o.value)}),H.onMounted(()=>{e("layout-mounted",o.value),H.nextTick(()=>{vf(o.value),a.originalLayout=o.value,H.nextTick(()=>{w(),s.value&&u(s.value,ef(b,16)),Wr(o.value,n.verticalCompact),e("layout-updated",o.value),m(),b()})})}),H.onBeforeUnmount(()=>{l.clearAll(),s.value&&f(s.value)});function d(_,z,O,R,P,k){S(_,z,O,R,P,k)}function c(_,z,O,R,P,k){E(_,z,O,R,P,k)}H.watch(()=>a.width,(_,z)=>{H.nextTick(()=>{l.emit("updateWidth",_),z===-1&&H.nextTick(()=>{e("layout-ready",o.value)}),m()})}),H.watch(()=>[n.layout,n.layout.length],()=>{o.value=n.layout,g()}),H.watch(()=>n.colNum,_=>{l.emit("setColNum",_)}),H.watch(()=>n.rowHeight,_=>{l.emit("setRowHeight",_)}),H.watch(()=>n.isDraggable,_=>{l.emit("setDraggable",_)}),H.watch(()=>n.isResizable,_=>{l.emit("setResizable",_)}),H.watch(()=>n.isBounded,_=>{l.emit("setBounded",_)}),H.watch(()=>n.transformScale,_=>{l.emit("setTransformScale",_)}),H.watch(()=>n.responsive,_=>{_||(e("update:layout",a.originalLayout),l.emit("setColNum",n.colNum)),b()}),H.watch(()=>n.maxRows,_=>{l.emit("setMaxRows",_)}),H.watch([()=>n.margin,()=>n.margin[1]],m),H.provide(Ci,H.reactive({...H.toRefs(n),...H.toRefs(a),increaseItem:v,decreaseItem:p})),H.provide(Di,l),r({state:a,getItem:h,resizeEvent:S,dragEvent:E});function v(_){i.set(_.i,_)}function p(_){i.delete(_.i)}function h(_){return i.get(_)}function g(){if(!$t(o.value)&&!$t(a.originalLayout)){if(o.value.length!==a.originalLayout.length){const _=D(o.value,a.originalLayout);if(_.length>0)if(o.value.length>a.originalLayout.length)a.originalLayout=a.originalLayout.concat(_);else{const z=new Set(_.map(O=>O.i));a.originalLayout=a.originalLayout.filter(O=>!z.has(O.i))}a.lastLayoutLength=o.value.length,w()}Wr(o.value,n.verticalCompact),l.emit("updateWidth",a.width),m(),e("layout-updated",o.value)}}function m(){a.mergedStyle={height:y()}}function b(){s.value&&(a.width=s.value.offsetWidth),l.emit("resizeEvent")}function y(){if(!n.autoSize)return;const _=parseFloat(n.margin[1]);return af(o.value)*(n.rowHeight+_)+_+"px"}let x;function E(_,z,O,R,P,k){let I=Ri(o.value,z);$t(I)&&(I={h:0,w:0,x:0,y:0,i:""}),_==="dragstart"&&!n.verticalCompact&&(x=o.value.reduce((L,{i:G,x:W,y:N})=>({...L,[G]:{x:W,y:N}}),{})),_==="dragmove"||_==="dragstart"?(a.placeholder.i=z,a.placeholder.x=I.x,a.placeholder.y=I.y,a.placeholder.w=k,a.placeholder.h=P,H.nextTick(()=>{a.isDragging=!0}),l.emit("updateWidth",a.width)):H.nextTick(()=>{a.isDragging=!1}),o.value=An(o.value,I,O,R,!0,n.preventCollision),n.restoreOnDrag?(I.static=!0,Wr(o.value,n.verticalCompact,x),I.static=!1):Wr(o.value,n.verticalCompact),l.emit("compact"),m(),_==="dragend"&&(x=void 0,e("layout-updated",o.value))}function S(_,z,O,R,P,k){let I=Ri(o.value,z);$t(I)&&(I={h:0,w:0,x:0,y:0,i:""});let L;if(n.preventCollision){const G=Ti(o.value,{...I,w:k,h:P}).filter(W=>W.i!==I.i);if(L=G.length>0,L){let W=1/0,N=1/0;G.forEach(B=>{B.x>I.x&&(W=Math.min(W,B.x)),B.y>I.y&&(N=Math.min(N,B.y))}),Number.isFinite(W)&&(I.w=W-I.x),Number.isFinite(N)&&(I.h=N-I.y)}}L||(I.w=k,I.h=P),_==="resizestart"||_==="resizemove"?(a.placeholder.i=z,a.placeholder.x=O,a.placeholder.y=R,a.placeholder.w=I.w,a.placeholder.h=I.h,H.nextTick(()=>{a.isDragging=!0}),l.emit("updateWidth",a.width)):H.nextTick(()=>{a.isDragging=!1}),n.responsive&&C(),Wr(o.value,n.verticalCompact),l.emit("compact"),m(),_==="resizeend"&&e("layout-updated",o.value)}function C(){const _=mf(n.breakpoints,a.width),z=Fn(_,n.cols);!$t(a.lastBreakpoint)&&!a.layouts[a.lastBreakpoint]&&(a.layouts[a.lastBreakpoint]=Gn(o.value));const O=bf(a.originalLayout,a.layouts,n.breakpoints,_,a.lastBreakpoint,z,n.verticalCompact);a.layouts[_]=O,a.lastBreakpoint!==_&&e("breakpoint-changed",_,O),e("update:layout",O),a.lastBreakpoint=_,l.emit("setColNum",Fn(_,n.cols))}function w(){a.layouts=Object.assign({},n.responsiveLayouts)}function D(_,z){const O=new Set(z.map(I=>I.i)),R=new Set(_.map(I=>I.i)),P=_.filter(I=>!O.has(I.i)),k=z.filter(I=>!R.has(I.i));return P.concat(k)}return(_,z)=>(H.openBlock(),H.createElementBlock("div",{ref_key:"wrapper",ref:s,class:"vgl-layout",style:H.normalizeStyle(a.mergedStyle)},[_.$slots.default?H.renderSlot(_.$slots,"default",{key:0}):(H.openBlock(!0),H.createElementBlock(H.Fragment,{key:1},H.renderList(o.value,O=>(H.openBlock(),H.createBlock(ci,H.mergeProps({key:O.i},O),{default:H.withCtx(()=>[H.renderSlot(_.$slots,"item",{item:O})]),_:2},1040))),128)),H.withDirectives(H.createVNode(ci,{class:"vgl-item--placeholder",x:a.placeholder.x,y:a.placeholder.y,w:a.placeholder.w,h:a.placeholder.h,i:a.placeholder.i},null,8,["x","y","w","h","i"]),[[H.vShow,a.isDragging]])],4))}});return He.GridItem=ci,He.GridLayout=Sp,Object.defineProperty(He,Symbol.toStringTag,{value:"Module"}),He}({},Vue);
//# sourceMappingURL=grid-layout-plus.js.map
