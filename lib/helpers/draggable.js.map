{"version":3,"file":"draggable.js","sources":["../../src/helpers/draggable.ts"],"sourcesContent":["// Get {x, y} positions from event.\r\nexport function getControlPosition(e: MouseEvent) {\r\n  return offsetXYFromParentOf(e)\r\n}\r\n\r\n// Get from offsetParent\r\nexport function offsetXYFromParentOf(evt: MouseEvent) {\r\n  const offsetParent = (evt.target as HTMLElement)?.offsetParent || document.body\r\n  const offsetParentRect =\r\n    (evt as any).offsetParent === document.body\r\n      ? { left: 0, top: 0 }\r\n      : offsetParent.getBoundingClientRect()\r\n\r\n  const x = evt.clientX + offsetParent.scrollLeft - offsetParentRect.left\r\n  const y = evt.clientY + offsetParent.scrollTop - offsetParentRect.top\r\n\r\n  /* const x = Math.round(evt.clientX + offsetParent.scrollLeft - offsetParentRect.left);\r\n  const y = Math.round(evt.clientY + offsetParent.scrollTop - offsetParentRect.top); */\r\n\r\n  return { x, y }\r\n}\r\n\r\n// Create an data object exposed by <DraggableCore>'s events\r\nexport function createCoreData(lastX: number, lastY: number, x: number, y: number) {\r\n  // State changes are often (but not always!) async. We want the latest value.\r\n  const isStart = !isNum(lastX)\r\n\r\n  if (isStart) {\r\n    // If this is our first move, use the x and y as last coords.\r\n    return {\r\n      deltaX: 0,\r\n      deltaY: 0,\r\n      lastX: x,\r\n      lastY: y,\r\n      x,\r\n      y\r\n    }\r\n  } else {\r\n    // Otherwise calculate proper values.\r\n    return {\r\n      deltaX: x - lastX,\r\n      deltaY: y - lastY,\r\n      lastX,\r\n      lastY,\r\n      x,\r\n      y\r\n    }\r\n  }\r\n}\r\n\r\nfunction isNum(num: unknown): num is number {\r\n  return typeof num === 'number' && !Number.isNaN(num)\r\n}\r\n"],"names":["getControlPosition","e","offsetXYFromParentOf","evt","offsetParent","_a","offsetParentRect","x","y","createCoreData","lastX","lastY","isNum","num"],"mappings":"gFACO,SAASA,EAAmBC,EAAe,CAChD,OAAOC,EAAqBD,CAAC,CAC/B,CAGO,SAASC,EAAqBC,EAAiB,OACpD,MAAMC,IAAgBC,EAAAF,EAAI,SAAJ,YAAAE,EAA4B,eAAgB,SAAS,KACrEC,EACHH,EAAY,eAAiB,SAAS,KACnC,CAAE,KAAM,EAAG,IAAK,CAChB,EAAAC,EAAa,sBAAsB,EAEnCG,EAAIJ,EAAI,QAAUC,EAAa,WAAaE,EAAiB,KAC7DE,EAAIL,EAAI,QAAUC,EAAa,UAAYE,EAAiB,IAK3D,MAAA,CAAE,EAAAC,EAAG,EAAAC,EACd,CAGO,SAASC,EAAeC,EAAeC,EAAeJ,EAAWC,EAAW,CAIjF,OAFiBI,EAAMF,CAAK,EAcnB,CACL,OAAQH,EAAIG,EACZ,OAAQF,EAAIG,EACZ,MAAAD,EACA,MAAAC,EACA,EAAAJ,EACA,EAAAC,CAAA,EAhBK,CACL,OAAQ,EACR,OAAQ,EACR,MAAOD,EACP,MAAOC,EACP,EAAAD,EACA,EAAAC,CAAA,CAaN,CAEA,SAASI,EAAMC,EAA6B,CAC1C,OAAO,OAAOA,GAAQ,UAAY,CAAC,OAAO,MAAMA,CAAG,CACrD"}